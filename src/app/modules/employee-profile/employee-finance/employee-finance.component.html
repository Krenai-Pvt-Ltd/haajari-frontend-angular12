<div class="employee-detail-box">
  <div class="attendance-history m-3 mt-3">
    <div class="mt-3">
      <div
        class="d-flex align-items-center justify-content-between border-bottom"
      >
        <ul id="pills-tab" role="tablist" class="nav nav-pills">
          <li class="nav-item">
            <a
              id="pills-home-tab"
              data-bs-toggle="pill"
              href="#summary"
              role="tab"
              aria-controls="pills-home"
              aria-selected="true"
              class="nav-link active"
              >Summary</a
            >
          </li>
          <li class="nav-item">
            <a
              id="pills-profile-tab"
              data-bs-toggle="pill"
              href="#payment"
              role="tab"
              aria-controls="pills-profile"
              aria-selected="false"
              class="nav-link"
              >Payment</a
            >
          </li>
          <li class="nav-item">
            <a
              id="pills-profile-tab"
              data-bs-toggle="pill"
              href="#pay-slips"
              role="tab"
              aria-controls="pills-profile"
              aria-selected="false"
              class="nav-link"
              (click)="onYearChange(selectedYear)"
              >Pay Slips</a
            >
          </li>
        </ul>
        <div class="d-flex align-items-center gap-3 mobile-hide-section" *ngIf="!financeBlur">
          <p class="mb-0 font-13 fw-semibold">Close at your convenience</p>
          <nz-switch
            [(ngModel)]="financeBlur"
            [nzControl]="true"
            (click)="switchFinanceBlur()"
          ></nz-switch>
        </div>
      </div>
      <!-- *ngIf="firstTimeLoad" -->
      <div
        id="pills-tabContent"
        class="d-flex align-items-center justify-content-center"
        *ngIf="firstTimeLoad"
        style="height: 90svh"
      >
        <div class="d-flex align-items-center justify-content-center">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </div>
      <div
        id="pills-tabContent"
        class="tab-content"
        *ngIf="currentSalaryDetail.annualCTC > 0 && !firstTimeLoad"
      >
        <div
          class="security-reasons d-flex align-items-center justify-content-center gap-2 p-2"
          [ngClass]="{ security: financeBlur }"
        >
          <p class="mb-0 font-13 fw-semibold">
            Toggle disabled due to security reasons.
          </p>
          <nz-switch [(ngModel)]="financeBlur"></nz-switch>
        </div>
        <div class="tab-pane fade active show pt-3 security-hide" id="summary" role="tabpanel">


          <!-- mobile security box   -->
          <div class="security p-2 d-n-desktop mb-3" *ngIf="!financeBlur">
            <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0 font-13 fw-semibold">Toggle disabled due to security reasons.</p>
              <nz-switch
                [(ngModel)]="financeBlur"
                [nzControl]="true"
                (click)="switchFinanceBlur()"
              ></nz-switch>
            </div>
          </div>
           <!-- mobile security box   -->


          <div class="payroll" [ngClass]="{ blur: financeBlur }">
            <div class="d-flex align-items-center justify-content-between">
              <h5 class="mb-0 font-15">Payroll</h5>
              <div class="attendance-date">
                <nz-date-picker
                  nzMode="month"
                  [nzSize]="size"
                  [(ngModel)]="selectedDate"
                  [nzDisabledDate]="disableMonths"
                  (ngModelChange)="onMonthChange()"
                >
                </nz-date-picker>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-m-5 col-sm-6 mb-3">
                <div
                  class="payroll-count p-3 d-flex align-items-center justify-content-between"
                >
                  <div>
                    <p class="mb-1 font-13">Earning</p>
                    <h5 class="mb-0 fw-semibold">
                      ₹{{ employeePayslipResponse.grossPay || "0" }}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="17"
                        viewBox="0 0 12 17"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M7.68524 16.3594H4.23756V9.05166H0L5.9614 0.641602L11.9228 9.05166H7.68524V16.3594Z"
                          fill="#388E3C"
                        />
                      </svg>
                    </h5>
                  </div>
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="32"
                      viewBox="0 0 32 32"
                      fill="none"
                    >
                      <path
                        d="M6.64044 21.7765C4.86262 18.2041 9.08379 10.7762 13.085 7.99836M13.085 7.99836L11.0849 3.10938H21.3073L19.3073 7.99836M13.085 7.99836H19.3073M19.3073 7.99836C24.4313 12.9565 25.7705 15.9786 25.5297 21.7765"
                        stroke="black"
                        stroke-width="1.33333"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M12.4446 12.4453H15.738M15.738 12.4453H19.5558M15.738 12.4453C16.8892 12.4453 18.3085 13.0518 18.3085 14.8714C18.3085 17.3185 16.0002 17.8212 13.115 17.8212C14.3245 19.4202 15.9274 20.768 17.8509 21.7789M12.6486 14.8714H19.2936"
                        stroke="black"
                        stroke-width="1.164"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M13.1114 26.6186L19.138 28.3136C19.7467 28.4848 20.3831 28.1509 20.588 27.5528C20.7652 27.036 20.5683 26.4649 20.1103 26.1672L20.0004 26.0957M20.0004 26.0957C14.2959 23.0965 10.3852 22.9621 3.07931 24.6396C2.60479 24.7485 2.30914 25.2228 2.41705 25.6976L3.13582 28.8601C3.24487 29.34 3.72302 29.64 4.2025 29.5293L9.11136 28.3965C16.7875 32.4734 21.9527 31.4764 27.7585 27.1669C28.7296 26.4461 28.5448 24.9697 27.4548 24.4458C27.0904 24.2706 26.6748 24.234 26.2853 24.3426L20.0004 26.0957Z"
                        stroke="black"
                        stroke-width="1.33333"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                </div>
              </div>
              <div class="col-m-5 col-sm-6 mb-3">
                <div
                  class="payroll-count p-3 d-flex align-items-center justify-content-between"
                >
                  <div>
                    <p class="mb-1 font-13">Additions</p>
                    <h5 class="mb-0 fw-semibold">
                      ₹{{ employeePayslipResponse.bonus || "0" }}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="17"
                        viewBox="0 0 12 17"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M7.68524 16.3594H4.23756V9.05166H0L5.9614 0.641602L11.9228 9.05166H7.68524V16.3594Z"
                          fill="#388E3C"
                        />
                      </svg>
                    </h5>
                  </div>
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="33"
                      height="33"
                      viewBox="0 0 33 33"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_6679_1952)">
                        <path
                          d="M16.5674 2.37673C18.1903 2.37465 19.8021 2.64606 21.3348 3.17986C21.5448 3.25448 21.7791 3.21075 21.9481 3.06568C22.1171 2.92025 22.1956 2.69535 22.1536 2.47634C22.1116 2.25734 21.9554 2.07756 21.7444 2.00537C20.0802 1.42575 18.3299 1.13074 16.5674 1.13282C7.8958 1.13282 0.840834 8.18744 0.840834 16.8594C0.838404 18.6972 1.1591 20.521 1.78834 22.2477C1.906 22.5705 2.26314 22.7364 2.58592 22.6188C2.9087 22.5011 3.0746 22.144 2.95694 21.8212C2.37768 20.2312 2.08266 18.5517 2.08475 16.8594C2.08475 8.8736 8.58161 2.37673 16.5674 2.37673Z"
                          fill="black"
                        />
                        <path
                          d="M21.584 10.122C21.584 9.77835 21.3057 9.5 20.9621 9.5H12.1728C11.8292 9.5 11.5508 9.77835 11.5508 10.122C11.5508 10.4652 11.8292 10.7439 12.1728 10.7439H14.6877C16.1867 10.7456 17.4771 11.8021 17.7749 13.271H12.1728C11.8292 13.271 11.5508 13.5497 11.5508 13.8929C11.5508 14.2365 11.8292 14.5149 12.1728 14.5149H17.7749C17.4771 15.984 16.1867 17.0402 14.6877 17.0423H12.1728C11.918 17.0423 11.6893 17.1977 11.5952 17.4341C11.5008 17.6708 11.5605 17.9408 11.7455 18.1161L18.0317 24.0563C18.1931 24.2097 18.4243 24.2652 18.6377 24.2017C18.8512 24.1382 19.0143 23.9653 19.0656 23.7488C19.117 23.5322 19.0483 23.3045 18.8862 23.1521L13.7363 18.2858H14.6877C16.8725 18.283 18.7241 16.6771 19.0361 14.5149H20.9621C21.3057 14.5149 21.584 14.2362 21.584 13.8929C21.584 13.5493 21.3057 13.271 20.9621 13.271H19.0361C18.898 12.3089 18.4444 11.4197 17.7464 10.7436H20.9621C21.3057 10.7436 21.584 10.4652 21.584 10.122Z"
                          fill="black"
                        />
                        <path
                          d="M33.0048 4.9491C33.0048 4.60585 32.7265 4.32715 32.3829 4.32715H29.0995V1.04383C29.0995 0.700228 28.8212 0.421875 28.4776 0.421875C28.134 0.421875 27.8556 0.700228 27.8556 1.04383V4.32715H24.3863C24.0427 4.32715 23.7643 4.60585 23.7643 4.9491C23.7643 5.2927 24.0427 5.57106 24.3863 5.57106H27.8556V9.0404C27.8556 9.38401 28.134 9.66236 28.4776 9.66236C28.8212 9.66236 29.0995 9.38401 29.0995 9.0404V5.57106H32.3829C32.7265 5.57106 33.0048 5.2927 33.0048 4.9491Z"
                          fill="black"
                        />
                        <path
                          d="M5.15466 31.3261C5.19735 31.5715 5.38234 31.7676 5.62495 31.8248C5.8672 31.8821 6.12057 31.7891 6.26842 31.5885L7.60118 29.7795C10.2303 31.6148 13.3612 32.5943 16.5675 32.5842C25.2395 32.5842 32.2941 25.5296 32.2941 16.8576C32.2979 14.7776 31.8866 12.7177 31.0838 10.7988C30.9492 10.4854 30.5872 10.3385 30.2724 10.4701C29.9576 10.602 29.8076 10.9626 29.9361 11.2788C30.6753 13.0457 31.054 14.9425 31.0502 16.8576C31.0502 24.8434 24.5533 31.3403 16.5675 31.3403C13.6271 31.3497 10.7547 30.4549 8.33941 28.7779L10.309 26.1044C10.4569 25.9037 10.4708 25.6344 10.3445 25.4196C10.2178 25.2051 9.97551 25.0864 9.72839 25.1187L4.84681 25.7524C4.67848 25.7743 4.52646 25.8638 4.42581 26.0002C4.32516 26.137 4.28455 26.3084 4.3137 26.4757L5.15466 31.3261ZM8.44318 26.5399L6.97437 28.5332C6.97298 28.5353 6.97159 28.5366 6.9702 28.5384C6.96881 28.5401 6.96604 28.5443 6.96396 28.5474L6.13133 29.6771L5.65028 26.9026L8.44318 26.5399Z"
                          fill="black"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_6679_1952">
                          <rect
                            width="32.1641"
                            height="32.1641"
                            fill="white"
                            transform="translate(0.84082 0.421875)"
                          />
                        </clipPath>
                      </defs>
                    </svg>
                  </span>
                </div>
              </div>
              <div class="col-m-5 col-sm-6  mb-3">
                <div
                  class="payroll-count p-3 d-flex align-items-center justify-content-between"
                >
                  <div>
                    <p class="mb-1 font-13">Deduction</p>
                    <h5 class="mb-0 fw-semibold">
                      ₹{{ employeePayslipResponse.deduction || "0" }}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="17"
                        viewBox="0 0 12 17"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M7.68524 0.640625H4.23756V7.94834H0L5.9614 16.3584L11.9228 7.94834H7.68524V0.640625Z"
                          fill="#FF3014"
                        />
                      </svg>
                    </h5>
                  </div>
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="42"
                      height="41"
                      viewBox="0 0 42 41"
                      fill="none"
                    >
                      <path
                        d="M21.1465 12.2534C21.2077 12.2552 21.2686 12.2448 21.3257 12.2228C21.3828 12.2009 21.435 12.1678 21.4792 12.1255C21.5235 12.0832 21.5589 12.0326 21.5834 11.9765C21.6079 11.9204 21.621 11.8601 21.622 11.7989C21.6225 11.7369 21.6108 11.6753 21.5873 11.6179C21.5639 11.5605 21.5293 11.5083 21.4856 11.4643C21.4418 11.4203 21.3898 11.3855 21.3325 11.3617C21.2751 11.338 21.2137 11.3259 21.1517 11.3261L15.1739 11.266L12.7777 11.2422C12.7152 11.2415 12.6531 11.2532 12.5951 11.2765C12.537 11.2998 12.4842 11.3343 12.4395 11.3781C12.3948 11.4218 12.3591 11.474 12.3346 11.5315C12.31 11.589 12.297 11.6508 12.2964 11.7133C12.2957 11.7759 12.3074 11.8379 12.3307 11.896C12.354 11.954 12.3885 12.0069 12.4322 12.0516C12.476 12.0963 12.5281 12.1319 12.5856 12.1565C12.6432 12.181 12.7049 12.194 12.7675 12.1947L15.1637 12.2207C15.9093 12.233 16.6262 12.5106 17.1857 13.0038C17.7451 13.4969 18.1106 14.1732 18.2165 14.9114L12.739 14.8687H12.7338C12.6726 14.867 12.6117 14.8774 12.5546 14.8993C12.4975 14.9213 12.4453 14.9544 12.4011 14.9967C12.3568 15.0389 12.3214 15.0896 12.2969 15.1457C12.2724 15.2017 12.2593 15.2621 12.2583 15.3233C12.2578 15.3853 12.2696 15.4469 12.293 15.5043C12.3164 15.5617 12.351 15.6139 12.3947 15.6579C12.4385 15.7019 12.4905 15.7367 12.5479 15.7604C12.6052 15.7842 12.6666 15.7963 12.7287 15.796L18.2059 15.8508C18.0845 16.5789 17.7088 17.2404 17.1458 17.7178C16.5827 18.1952 15.8687 18.4575 15.1305 18.4582C15.1191 18.4582 15.1078 18.4571 15.0965 18.4569L12.7003 18.4308C12.6052 18.4299 12.512 18.4575 12.4327 18.51C12.3534 18.5626 12.2918 18.6378 12.2557 18.7258C12.2196 18.8138 12.2107 18.9106 12.2302 19.0037C12.2496 19.0968 12.2966 19.1819 12.365 19.248L18.293 24.9716C18.3838 25.0592 18.5056 25.1071 18.6317 25.1049C18.7578 25.1027 18.8778 25.0505 18.9654 24.9597C19.053 24.869 19.101 24.7472 19.0988 24.6211C19.0965 24.495 19.0443 24.375 18.9536 24.2874L13.8857 19.394L15.0864 19.4069C15.1014 19.4069 15.1159 19.4069 15.1307 19.4069C16.1183 19.4077 17.0723 19.0488 17.8147 18.3975C18.557 17.7462 19.0369 16.847 19.1646 15.8677L21.1028 15.8994H21.1081C21.2363 15.9001 21.3595 15.8498 21.4506 15.7596C21.5418 15.6694 21.5933 15.5467 21.594 15.4185C21.5947 15.2902 21.5444 15.167 21.4542 15.0759C21.364 14.9847 21.2413 14.9332 21.1131 14.9325L19.1749 14.9087C19.0645 13.8717 18.5637 12.9156 17.774 12.2345L21.1414 12.2534H21.1465Z"
                        fill="black"
                      />
                      <path
                        d="M38.5874 19.8648L30.6879 15.9839C29.6259 9.25425 23.7759 4.22656 16.9161 4.22656C9.22495 4.22656 2.97013 10.4838 2.97013 18.175C2.97013 25.8662 9.2286 32.1234 16.9198 32.1234C19.0001 32.1224 21.0541 31.6579 22.9323 30.7635C23.4595 31.7403 24.1687 32.5705 24.9208 33.0833L30.2044 36.6831C30.2833 36.7369 30.3767 36.7656 30.4722 36.7656C30.5677 36.7656 30.6611 36.7369 30.74 36.6831L36.0038 33.0833C37.6017 31.995 38.8338 29.6301 38.8338 27.6993V20.2917C38.8377 20.2045 38.8165 20.1179 38.7729 20.0423C38.7292 19.9666 38.6648 19.9051 38.5874 19.8648ZM3.92361 18.175C3.92361 11.0082 9.75428 5.17759 16.921 5.17759C23.3419 5.17759 28.8179 9.90396 29.7716 16.2165L22.3185 19.8535C22.2362 19.8916 22.166 19.9516 22.1155 20.0269C22.0651 20.1023 22.0363 20.19 22.0324 20.2806V27.6993C22.0324 28.3851 22.2105 29.1387 22.5121 29.9014C20.7633 30.7373 18.8496 31.1715 16.9112 31.1723C9.74445 31.1723 3.92361 25.3417 3.92361 18.175ZM37.8828 27.6993C37.8828 29.2931 36.7878 31.3988 35.4684 32.2974L30.4625 35.7147L25.4516 32.2973C24.728 31.8044 24.0263 30.9421 23.5564 29.9304C23.1979 29.159 22.9834 28.3666 22.9834 27.6993V20.5773L30.4331 16.9325L37.8828 20.588V27.6993Z"
                        fill="black"
                      />
                    </svg>
                  </span>
                </div>
              </div>
              <div class="col-m-5 col-sm-6 mb-3">
                <div
                  class="payroll-count p-3 d-flex align-items-center justify-content-between"
                >
                  <div>
                    <p class="mb-1 font-13">Benefit</p>
                    <h5 class="mb-0 fw-semibold">
                      {{ employeePayslipResponse.benifit || "0" }}%
                    </h5>
                  </div>
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="43"
                      height="43"
                      viewBox="0 0 43 43"
                      fill="none"
                    >
                      <path
                        d="M17.9778 35.9353C9.614 35.805 6.044 33.3284 6.044 27.6729C6.044 23.4946 10.5916 17.4626 14.4585 13.0888H15.675C14.4512 14.7615 13.575 16.6877 13.1406 18.7153C13.0899 18.9398 13.2274 19.1932 13.5461 19.2222C13.7416 19.2367 13.9081 19.0919 13.9516 18.8964C14.4006 16.8108 15.3419 14.8195 16.6743 13.1467C16.6888 13.1322 16.6888 13.1105 16.7033 13.096H18.6802C19.665 14.6964 20.4037 16.4198 20.8743 18.2157C20.925 18.4039 21.1568 18.5705 21.3812 18.5126C21.6057 18.4546 21.7361 18.2301 21.6781 18.0057C21.2292 16.2895 20.5412 14.6457 19.6361 13.096H23.054C24.2705 14.4791 25.3857 15.826 26.3633 17.1077C26.443 17.2164 26.6819 17.3684 26.9499 17.1874C27.1381 17.057 27.1671 16.7891 27.0295 16.6008C26.1678 15.4639 25.1974 14.2836 24.1402 13.067C24.915 12.9657 25.5088 12.3067 25.5088 11.5101C25.5088 10.6412 24.7992 9.93152 23.9302 9.93152H23.6406C23.8723 9.54049 24.1547 9.17118 24.4878 8.85256C25.2481 8.12842 26.2474 7.65773 27.2974 7.53463C27.435 7.52014 27.5509 7.43325 27.6161 7.31738C27.6812 7.19428 27.6812 7.04945 27.6161 6.92635C26.6892 5.16669 25.6899 4.26152 24.5747 4.14566C23.6261 4.04428 22.6702 4.54394 21.6926 5.60842C20.6209 4.60911 19.5564 4.11669 18.5426 4.16014C17.6085 4.19635 16.7033 4.68152 15.8488 5.58669C14.8495 4.55118 13.9009 4.08049 12.945 4.16738C11.8516 4.26152 10.8523 5.0798 9.88917 6.66566C9.81676 6.78152 9.80952 6.91911 9.86021 7.04221C9.9109 7.16531 10.0195 7.25945 10.1499 7.28842C11.6706 7.65773 13.0319 8.62807 13.9009 9.93876H13.5823C12.7133 9.93876 12.0037 10.6484 12.0037 11.5174C12.0037 12.3139 12.5974 12.9657 13.365 13.0743C9.51262 17.4988 5.21124 23.4077 5.21124 27.6729C5.21124 35.5588 12.0254 36.6812 17.9633 36.7681H17.9706C18.195 36.7681 18.3833 36.587 18.3906 36.3553C18.3906 36.1308 18.2095 35.9353 17.9778 35.9353ZM10.9102 6.62945C11.6199 5.60118 12.3295 5.05083 13.0319 4.9929C13.7706 4.92773 14.6395 5.42738 15.5592 6.48463C15.6388 6.57876 15.7185 6.63669 15.8778 6.62945C16.0009 6.62945 16.1168 6.57152 16.1964 6.47738C16.9857 5.52152 17.7895 5.02187 18.6006 4.9929C19.4695 4.94945 20.4326 5.46359 21.4392 6.50635C21.5188 6.59325 21.6419 6.64394 21.7578 6.62945C21.8737 6.62221 21.9895 6.57152 22.0619 6.47738C22.9526 5.39842 23.7709 4.89876 24.5168 4.97118C25.2264 5.04359 25.9361 5.66635 26.624 6.81049C25.6174 7.04221 24.6761 7.54187 23.9374 8.25152C23.4306 8.73669 23.025 9.316 22.7281 9.93152H14.8712C14.0095 8.38187 12.5757 7.1798 10.9102 6.62945ZM12.8437 11.5101C12.8437 11.0974 13.1768 10.7643 13.5895 10.7643H23.9519C24.3647 10.7643 24.6978 11.0974 24.6978 11.5101C24.6978 11.9229 24.3647 12.256 23.9519 12.256H13.5895C13.1768 12.2488 12.8437 11.9157 12.8437 11.5101Z"
                        fill="black"
                      />
                      <path
                        d="M26.5443 18.0938C20.8164 18.0938 16.1529 22.7572 16.1529 28.4924C16.1529 34.2203 20.8164 38.8837 26.5443 38.8837C32.2795 38.8837 36.9429 34.2203 36.9429 28.4924C36.9429 22.7572 32.2795 18.0938 26.5443 18.0938ZM26.5443 38.051C21.2726 38.051 16.9857 33.7641 16.9857 28.4924C16.9857 23.2206 21.2726 18.9265 26.5443 18.9265C31.816 18.9265 36.1102 23.2206 36.1102 28.4924C36.1102 33.7641 31.816 38.051 26.5443 38.051Z"
                        fill="black"
                      />
                      <path
                        d="M26.5444 20.7969C22.3082 20.7969 18.8541 24.251 18.8541 28.4945C18.8541 32.7307 22.301 36.1848 26.5444 36.1848C30.7879 36.1848 34.242 32.7379 34.242 28.4945C34.242 24.251 30.7879 20.7969 26.5444 20.7969ZM26.5444 35.352C22.7644 35.352 19.6868 32.2745 19.6868 28.4945C19.6868 24.7145 22.7644 21.6369 26.5444 21.6369C30.3244 21.6369 33.402 24.7145 33.402 28.4945C33.4092 32.2745 30.3317 35.352 26.5444 35.352Z"
                        fill="black"
                      />
                      <path
                        d="M29.2163 24.9181C29.4481 24.9181 29.6363 24.7299 29.6363 24.4981C29.6363 24.2664 29.4481 24.0781 29.2163 24.0781H24.5094C24.2777 24.0781 24.0894 24.2664 24.0894 24.4981C24.0894 24.7299 24.2777 24.9181 24.5094 24.9181H25.726C26.6022 24.9181 27.3336 25.5336 27.5219 26.3519H24.5094C24.2777 26.3519 24.0894 26.5402 24.0894 26.7719C24.0894 27.0036 24.2777 27.1919 24.5094 27.1919H27.5219C27.3336 28.0102 26.6022 28.6257 25.726 28.6257H24.5094C24.2777 28.6257 24.0894 28.814 24.0894 29.0457C24.0894 29.2774 24.2777 29.4657 24.5094 29.4657C26.1967 29.4657 27.5726 30.8416 27.5726 32.5288C27.5726 32.5288 27.4857 33.1588 27.9926 33.1588C28.5212 33.1588 28.4126 32.5288 28.4126 32.5288C28.4126 31.1747 27.7174 29.9871 26.6674 29.2847C27.5581 28.9516 28.217 28.1623 28.3691 27.1992H29.2236C29.4553 27.1992 29.6436 27.0109 29.6436 26.7792C29.6436 26.5474 29.4553 26.3592 29.2236 26.3592H28.3691C28.2822 25.8088 28.0288 25.3164 27.6667 24.9254H29.2163V24.9181Z"
                        fill="black"
                      />
                    </svg>
                  </span>
                </div>
              </div>
              <div class="col-m-5 col-sm-6 mb-3">
                <div
                  class="payroll-count p-3 d-flex align-items-center justify-content-between"
                >
                  <div>
                    <p class="mb-1 font-13">Net Payable</p>
                    <h5 class="mb-0 fw-semibold">
                      ₹{{ employeePayslipResponse.netPay || "0" }}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="17"
                        viewBox="0 0 12 17"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M7.68524 16.3594H4.23756V9.05166H0L5.9614 0.641602L11.9228 9.05166H7.68524V16.3594Z"
                          fill="#388E3C"
                        />
                      </svg>
                    </h5>
                  </div>
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="33"
                      height="33"
                      viewBox="0 0 33 33"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_6673_1902)">
                        <path
                          d="M5.06659 17.1243C5.40277 17.1143 5.67279 16.8389 5.67279 16.5C5.67279 16.1611 5.40277 15.8857 5.06659 15.8757C5.06024 15.875 5.05414 15.875 5.04779 15.875C4.70282 15.875 4.42279 16.155 4.42279 16.5C4.42279 16.845 4.70282 17.125 5.04779 17.125C5.05414 17.125 5.06024 17.125 5.06659 17.1243Z"
                          fill="black"
                        />
                        <path
                          d="M16.9229 0.5C8.29712 0.5 0.922852 7.86353 0.922852 16.5C0.922852 25.1238 8.2854 32.5 16.9229 32.5C25.5466 32.5 32.9229 25.1375 32.9229 16.5C32.9229 7.87427 25.5593 0.5 16.9229 0.5ZM16.9229 31.25C8.92749 31.25 2.17285 24.4954 2.17285 16.5C2.17285 8.50464 8.92749 1.75 16.9229 1.75C24.9182 1.75 31.6729 8.50464 31.6729 16.5C31.6729 24.4954 24.9182 31.25 16.9229 31.25Z"
                          fill="black"
                        />
                        <path
                          d="M16.9228 4C10.8022 4 5.88059 8.35571 4.69846 13.8831C4.62644 14.2207 4.84153 14.5527 5.17893 14.625C5.51682 14.6973 5.84861 14.4819 5.92088 14.1445C7.02317 8.99072 11.6501 5.25 16.9228 5.25C23.1262 5.25 28.1728 10.2966 28.1728 16.5C28.1728 22.7034 23.1262 27.75 16.9228 27.75C11.6501 27.75 7.02317 24.0093 5.92088 18.8555C5.84861 18.5181 5.51634 18.3027 5.17893 18.375C4.84153 18.4473 4.62644 18.7793 4.69846 19.1169C5.92161 24.8364 11.0136 29 16.9228 29C23.8154 29 29.4228 23.3926 29.4228 16.5C29.4228 9.60742 23.8154 4 16.9228 4Z"
                          fill="black"
                        />
                        <path
                          d="M11.2979 14C11.2979 14.3452 11.5776 14.6243 11.9229 14.6243H18.7356C18.4504 16.0352 17.2012 17.125 15.6729 17.125H11.9229C11.6702 17.125 11.4421 17.2773 11.3455 17.5107C11.2488 17.7444 11.3022 18.0132 11.481 18.1919L18.981 25.6919C19.2251 25.936 19.6206 25.936 19.8647 25.6919C20.1089 25.4478 20.1089 25.0522 19.8647 24.8081L13.4316 18.375H15.6729C17.8984 18.375 19.7046 16.7256 20.0032 14.625H21.9229C22.2681 14.625 22.5479 14.3452 22.5479 14C22.5479 13.6548 22.2681 13.375 21.9229 13.375H20.0024C19.8625 12.4021 19.4016 11.5317 18.7305 10.875H21.9229C22.2681 10.875 22.5479 10.5952 22.5479 10.25C22.5479 9.90479 22.2681 9.625 21.9229 9.625H11.9229C11.5776 9.625 11.2979 9.90479 11.2979 10.25C11.2979 10.5952 11.5776 10.875 11.9229 10.875H15.6729C17.1819 10.875 18.4446 11.9502 18.7349 13.375H11.9229C11.5776 13.375 11.2979 13.6548 11.2979 14Z"
                          fill="black"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_6673_1902">
                          <rect
                            width="32"
                            height="32"
                            fill="white"
                            transform="translate(0.922852 0.5)"
                          />
                        </clipPath>
                      </defs>
                    </svg>
                  </span>
                </div>
              </div>
            </div>

            <div class="payroll-summary p-3 pb-0">
              <div class="d-flex align-items-center justify-content-between payroll-summary-hedding  d-n-mobile">
                <div class="d-flex align-items-center gap-2">
                  <span class="d-flex align-items-center justify-content-center ">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="18"
                      height="18"
                      viewBox="0 0 18 18"
                      fill="none"
                    >
                      <mask
                        id="mask0_6642_10899"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="18"
                        height="18"
                      >
                        <rect width="18" height="18" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_6642_10899)">
                        <path
                          d="M10.2937 15.75L5.25 10.5V9H7.875C8.5375 9 9.10938 8.78437 9.59062 8.35312C10.0719 7.92187 10.3625 7.3875 10.4625 6.75H4.5V5.25H10.2375C10.025 4.8125 9.70937 4.45312 9.29063 4.17188C8.87188 3.89062 8.4 3.75 7.875 3.75H4.5V2.25H13.5V3.75H11.0625C11.2375 3.9625 11.3938 4.19375 11.5312 4.44375C11.6687 4.69375 11.775 4.9625 11.85 5.25H13.5V6.75H11.9813C11.8813 7.8125 11.4438 8.70312 10.6688 9.42188C9.89375 10.1406 8.9625 10.5 7.875 10.5H7.33125L12.375 15.75H10.2937Z"
                          fill="#1C1B1F"
                        />
                      </g>
                    </svg>
                  </span>
                   <h5 class="mb-0 font-14 fw-semibold">Payroll Summary</h5>
                </div>
                <p class="mb-0 fw-semibold font-14"> Last Processes Cycle:
                  <span class="text-primary"> {{ startDate | date : "MMM yyyy" }} ({{ startDate | date : "dd MMM" }} - {{ endDate | date : "dd MMM" }})</span>
                </p>
              </div>


              <div class="d-n-desktop">
                <div class="d-flex align-items-center gap-2 mb-1">
                  <span class="d-flex align-items-center justify-content-center payroll-icon radius-50">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="18"
                      height="18"
                      viewBox="0 0 18 18"
                      fill="none"
                    >
                      <mask
                        id="mask0_6642_10899"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="18"
                        height="18"
                      >
                        <rect width="18" height="18" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_6642_10899)">
                        <path
                          d="M10.2937 15.75L5.25 10.5V9H7.875C8.5375 9 9.10938 8.78437 9.59062 8.35312C10.0719 7.92187 10.3625 7.3875 10.4625 6.75H4.5V5.25H10.2375C10.025 4.8125 9.70937 4.45312 9.29063 4.17188C8.87188 3.89062 8.4 3.75 7.875 3.75H4.5V2.25H13.5V3.75H11.0625C11.2375 3.9625 11.3938 4.19375 11.5312 4.44375C11.6687 4.69375 11.775 4.9625 11.85 5.25H13.5V6.75H11.9813C11.8813 7.8125 11.4438 8.70312 10.6688 9.42188C9.89375 10.1406 8.9625 10.5 7.875 10.5H7.33125L12.375 15.75H10.2937Z"
                          fill="#1C1B1F"
                        />
                      </g>
                    </svg>
                  </span>
                   <h5 class="mb-0 font-14 fw-semibold">Payroll Summary</h5>
                </div>
                <p class="mb-0 fw-semibold font-12"> Last Processes Cycle:
                  <span class="text-primary"> {{ startDate | date : "MMM yyyy" }} ({{ startDate | date : "dd MMM" }} - {{ endDate | date : "dd MMM" }})</span>
                </p>
              </div>

              <div class="row border-top mt-3">
                <div class="col-md-3 m-0 p-0 border-right">
                  <div class="scene scene--card">
                    <div class="card">
                      <div class="month-day pt-4 p-3">
                        <button class="p-0 btn text-primary summary-btn fw-semibold" (click)="flipView()"> Summary
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="13"
                            height="13"
                            viewBox="0 0 13 13"
                            fill="none"
                          >
                            <mask
                              id="mask0_6753_7078"
                              style="mask-type: alpha"
                              maskUnits="userSpaceOnUse"
                              x="0"
                              y="0"
                              width="13"
                              height="13"
                            >
                              <rect width="13" height="13" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_6753_7078)">
                              <path
                                d="M3.54336 9.9937L2.53247 8.98281L7.55643 3.95885H3.15065V2.52344H10.0027V9.37552H8.56732V4.96974L3.54336 9.9937Z"
                                fill="#6666F2"
                              />
                            </g>
                          </svg>
                        </button>

                        <div class="progress-ring">
                          <svg width="200" height="200">
                            <g id="lines"></g>
                          </svg>
                          <div class="progress-text">
                            <div class="fraction font-24 fw-bold"></div>
                            <div
                              id="increaseBtn"
                              class="subtitle font-14 mt-1 pointer"
                            >
                              Payout Days
                            </div>
                          </div>
                        </div>

                        <div class="row mt-5">
                          <div class="col-md-6">
                            <div class="standard-days mb-5">
                              <p class="mb-2 fw-semibold font-13"> Standard Days </p>
                              <h5 class="mb-1 font-14"> {{ totalStandardDays }} days </h5>
                              <p class="mb-0 font-12">Defined Payout Days</p>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="standard-days mb-5">
                              <p class="mb-2 fw-semibold font-13"> Payout Days</p>
                              <h5 class="mb-1 font-14"> {{ totalPayoutDays }} days</h5>
                              <p class="mb-0 font-12">Payable Days Count</p>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="card__face overview-summary h-100">
                        <!-- Back Content -->
                        <div
                          class="d-flex align-items-center justify-content-between border-bottom"
                          style="padding: 13px 15px"
                        >
                          <button class="p-0 btn text-black fw-semibold" (click)="flipView()">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="15"
                              height="15"
                              viewBox="0 0 15 15"
                              fill="none"
                            >
                              <mask
                                id="mask0_6684_3610"
                                style="mask-type: alpha"
                                maskUnits="userSpaceOnUse"
                                x="0"
                                y="0"
                                width="15"
                                height="15"
                              >
                                <rect
                                  x="14.8959"
                                  y="14.9453"
                                  width="14.8958"
                                  height="14.8958"
                                  transform="rotate(180 14.8959 14.9453)"
                                  fill="#D9D9D9"
                                />
                              </mask>
                              <g mask="url(#mask0_6684_3610)">
                                <path
                                  d="M5.33895 6.67193H12.7113V8.31668H5.33895L8.62162 11.5995L7.4478 12.7578L2.1843 7.49431L7.4478 2.2308L8.62162 3.38911L5.33895 6.67193Z"
                                  fill="black"
                                />
                              </g>
                            </svg>
                            Back
                          </button>
                        </div>
                        <div class="p-3">
                          <div class="d-flex align-items-center gap-3 mb-2">
                            <div class="d-flex align-items-center gap-1">
                              <span
                                class="total-working-day"
                                *ngFor="let date of dateStatuses"
                                [ngClass]="getClass(date.status)"
                              ></span>
                            </div>
                          </div>
                          <p class="font-13 pb-0">
                            Standard days were
                            <span class="fw-semibold">{{
                              totalStandardDays
                            }}</span>
                          </p>
                          <div class="overview-summary-detail">
                            <div
                              class="d-flex align-items-center justify-content-between mb-3 mt-2"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count present"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Present</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.presentCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-3"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count absent"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Absent</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.absentCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-3"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count leave"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Leave</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.leaveCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-3"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count week-off"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Week-off</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.weekOffCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-3"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count holiday"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Holiday</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.holidayCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-3"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count half-day"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Half Day</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.halfDayCount }}
                              </p>
                            </div>
                            <div
                              class="d-flex align-items-center justify-content-between mb-0"
                            >
                              <div class="d-flex align-items-center gap-2">
                                <span class="summary-count late"></span>
                                <p class="mb-0 fonr-13 fw-semibold">Late</p>
                              </div>
                              <p class="mb-0 fonr-13 fw-semibold">
                                {{ payoutDaysSummary.lateCount }}
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-9 p-0 m-0">
                  <div class="d-flex align-items-start table-responsive h-100">

                     <!-- desktop calculation box -->
                    <div class="earning d-n-mobile">
                      <table class="table">
                        <thead class="thead-light">
                          <tr>
                            <th
                              style="
                                width: 20%;
                                background-color: #f9fafc !important;
                              "
                            >
                              <span class="fw-semibold">Earning</span>
                            </th>
                            <th
                              class="text-center"
                              style="
                                width: 20%;
                                background-color: #f9fafc !important;
                              "
                            >
                              <span class="fw-semibold">Standard</span>
                            </th>
                            <th
                              class="text-center"
                              style="
                                width: 20%;
                                background-color: #f9fafc !important;
                              "
                            >
                              <span class="fw-semibold">Actual</span>
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let payslipBreakup of employeePayslipBreakupResponseList
                            "
                          >
                            <td>
                              <span class="fw-semibold">{{
                                payslipBreakup.name
                              }}</span>
                            </td>
                            <td class="text-center">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    payslipBreakup.standardAmount
                                  )
                                }}</span
                              >
                            </td>
                            <td class="text-center">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    payslipBreakup.actualAmount
                                  )
                                }}</span
                              >
                            </td>
                          </tr>

                          <tr>
                            <td>
                              <span class="fw-bold text-black"
                                >Gross Earning</span
                              >
                            </td>
                            <td class="text-center">
                              <span class="fw-bold text-primary"
                                >₹{{
                                  convertNumberToStringFormat(monthlySalary)
                                }}</span
                              >
                            </td>
                            <td class="text-center">
                              <span class="fw-bold text-primary"
                                >₹{{
                                  convertNumberToStringFormat(earningSalary)
                                }}</span
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                      <!-- desktop calculation box -->

                    <!-- mobile calculation box -->
                    <div class="d-n-desktop w-100">
                      <table class="table mb-3">
                        <thead>
                          <tr>
                            <th class="font-13 fw-semibold" style="width:33.33%">Earning</th>
                            <th class="font-13 fw-semibold" style="width:33.33%">Standard</th>
                            <th class="font-13 fw-semibold" style="width:33.33%">Actual</th>
                          </tr>
                        </thead>
                        <tbody >
                            <tr *ngFor="let payslipBreakup of employeePayslipBreakupResponseList">
                              <td>
                                {{ payslipBreakup.name }}
                              </td>
                              <td> ₹{{convertNumberToStringFormat( payslipBreakup.standardAmount) }}</td>
                              <td>
                                ₹{{ convertNumberToStringFormat( payslipBreakup.actualAmount) }}
                              </td>
                            </tr>

                            <tr>
                              <td>
                                <span class="fw-bold text-black"
                                  >Gross Earning</span
                                >
                              </td>
                              <td>
                                <span class="fw-bold text-primary"
                                  >₹{{
                                    convertNumberToStringFormat(monthlySalary)
                                  }}</span
                                >
                              </td>
                              <td>
                                <span class="fw-bold text-primary"
                                  >₹{{
                                    convertNumberToStringFormat(earningSalary)
                                  }}</span
                                >
                              </td>
                            </tr>
                        </tbody>
                      </table>
                      <h5 class="font-14 fw-semibold mb-3"> Deduction</h5>
                      <table class="table">
                        <thead>
                          <tr>
                            <th class="text-center font-13 fw-semibold">TDS</th>
                            <th class="text-center font-13 fw-semibold">EPF</th>
                            <th class="text-center font-13 fw-semibold">ESI</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="text-center font-13 fw-semibold">₹{{ convertNumberToStringFormat( salaryDeductionResponse.tds ) }}</td>
                            <td class="text-center font-13 fw-semibold">₹{{ convertNumberToStringFormat( salaryDeductionResponse.employeeEpf ) }} </td>
                            <td class="text-center font-13 fw-semibold">₹{{ convertNumberToStringFormat( salaryDeductionResponse.employeeEsi ) }} </td>
                        </tbody>
                      </table>
                      <h5 class="font-14 fw-semibold mb-3"> Employer Contribution</h5>
                      <table class="table">
                        <thead>
                          <tr>
                            <th class="text-center font-13 fw-semibold">EPF</th>
                            <th class="text-center font-13 fw-semibold">ESI</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="text-center font-13 fw-semibold">₹{{ convertNumberToStringFormat( salaryDeductionResponse.employerEpf )}}</td>
                            <td class="text-center font-13 fw-semibold">₹{{ convertNumberToStringFormat( salaryDeductionResponse.employerEsi ) }} </td>
                        </tbody>
                      </table>
                    </div>
                    <!-- mobile calculation box end  -->

                      <!-- desktop calculation box -->
                    <div class="deduction d-n-mobile">
                      <table class="table">
                        <thead class="thead-light">
                          <tr>
                            <th
                              style="
                                width: 15%;
                                background-color: #f9fafc !important;
                              "
                            >
                              <span class="fw-semibold">Deduction</span>
                            </th>
                            <th
                              style="
                                width: 15%;
                                background-color: #f9fafc !important;
                              "
                            ></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td><span class="fw-semibold">TDS</span></td>
                            <td class="text-end">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    salaryDeductionResponse.tds
                                  )
                                }}</span
                              >
                            </td>
                          </tr>
                          <tr>
                            <td><span class="fw-semibold">EPF</span></td>
                            <td class="text-end">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    salaryDeductionResponse.employeeEpf
                                  )
                                }}</span
                              >
                            </td>
                          </tr>
                          <tr>
                            <td><span class="fw-semibold">ESI</span></td>
                            <td class="text-end">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    salaryDeductionResponse.employeeEsi
                                  )
                                }}</span
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <table class="table">
                        <thead class="thead-light">
                          <tr>
                            <th
                              style="
                                width: 15%;
                                background-color: #f9fafc !important;
                              "
                            >
                              <span class="fw-semibold"
                                >Employer Contribution</span
                              >
                            </th>
                            <th
                              style="
                                width: 15%;
                                background-color: #f9fafc !important;
                              "
                            ></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td><span class="fw-semibold">EPF</span></td>
                            <td class="text-end">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    salaryDeductionResponse.employerEpf
                                  )
                                }}</span
                              >
                            </td>
                          </tr>
                          <tr>
                            <td><span class="fw-semibold">ESI</span></td>
                            <td class="text-end">
                              <span class="fw-semibold"
                                >₹{{
                                  convertNumberToStringFormat(
                                    salaryDeductionResponse.employerEsi
                                  )
                                }}</span
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                      <!-- desktop calculation box -->
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-md-6 mb-3">
                <div class="payment-information p-3">
                  <div
                    class="d-flex align-items-center justify-content-between border-bottom pb-3"
                  >
                    <h5 class="mb-0 font-14 fw-semibold">
                      Payment Information
                    </h5>
                    <button
                      class="btn p-0 text-primary font-13 fw-semibold"
                      (click)="employeeProfileComponent.clickOnProfileTab()"
                    >
                      Edit It
                    </button>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <div class="payment-information-box border-right">
                        <div class="mt-4">
                          <p class="mb-1 font-13">Salary Payment Mode</p>
                          <h5 class="mb-0 font-15">Bank Transfer</h5>
                        </div>
                        <div class="mt-4">
                          <p class="mb-1 font-13">Bank Name</p>
                          <h5 class="mb-0 font-15">
                            {{ userPaymentDetail.bankName || "-" }}
                          </h5>
                        </div>
                        <div class="mt-4 mb-3">
                          <p class="mb-1 font-13">Name of the account</p>
                          <h5 class="mb-0 font-15">
                            {{ userPaymentDetail.accountHolderName || "-" }}
                          </h5>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div
                        class="payment-information-box" >
                        <div class="mt-4">
                          <p class="mb-1 font-13">Account Number</p>
                          <h5 class="mb-0 font-15">
                            {{ userPaymentDetail.accountNumber || "-" }}
                          </h5>
                        </div>
                        <div class="mt-4">
                          <p class="mb-1 font-13">IFSC code</p>
                          <h5 class="mb-0 font-15">
                            {{ userPaymentDetail.ifsc || "-" }}
                          </h5>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="payment-information p-3">
                  <div class="d-flex align-items-center justify-content-between border-bottom pb-3">
                    <h5 class="mb-0 font-14 fw-semibold">
                      Statutory Information
                    </h5>
                  </div>
                  <div
                    class="payment-information-box" >
                    <div class="mt-4">
                      <h5 class="mb-1 font-15">EPF Account Information</h5>
                      <p class="mb-1 font-13">EPF Status</p>
                      <div class="d-flex align-items-center gap-3">
                        <h5 class="mb-0 font-14">
                          {{ isEPF ? "ENABLE" : "DISABLE" }}
                        </h5>
                        <nz-switch
                          [(ngModel)]="isEPF"
                          [ngModelOptions]="{ standalone: true }"
                          [nzControl]="true"
                          (click)="toggleStatutory(EPF_STATUTORY_ID)"
                          [nzLoading]="epfLoader"
                        ></nz-switch>
                      </div>
                    </div>
                    <div class="mt-4">
                      <h5 class="mb-1 font-15">ESI Account Information</h5>
                      <p class="mb-1 font-13">ESI Status</p>
                      <div class="d-flex align-items-center gap-3">
                        <h5 class="mb-0 font-14">
                          {{ isESI ? "ENABLE" : "DISABLE" }}
                        </h5>
                        <nz-switch
                          [(ngModel)]="isESI"
                          [ngModelOptions]="{ standalone: true }"
                          [nzControl]="true"
                          (click)="toggleStatutory(ESI_STATUTORY_ID)"
                          [nzLoading]="esiLoader"
                        ></nz-switch>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade pt-3" id="payment" role="tabpanel">

          <!-- mobile security box   -->
          <div class="security p-2 d-n-desktop mb-3" *ngIf="!financeBlur">
            <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0 font-12 fw-semibold">Toggle disabled due to security reasons.</p>
              <nz-switch
                [(ngModel)]="financeBlur"
                [nzControl]="true"
                (click)="switchFinanceBlur()"
              ></nz-switch>
            </div>
          </div>
           <!-- mobile security box   -->

          <div class="payment-box mt-3" [ngClass]="{ blur: financeBlur }">
            <div class="row">
              <div class="col-md-3 mb-3">
                <div class="payroll-count p-3 d-flex align-items-center gap-3">
                  <span
                    class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="33"
                      height="33"
                      viewBox="0 0 33 33"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_6673_1902)">
                        <path
                          d="M5.06659 17.1243C5.40277 17.1143 5.67279 16.8389 5.67279 16.5C5.67279 16.1611 5.40277 15.8857 5.06659 15.8757C5.06024 15.875 5.05414 15.875 5.04779 15.875C4.70282 15.875 4.42279 16.155 4.42279 16.5C4.42279 16.845 4.70282 17.125 5.04779 17.125C5.05414 17.125 5.06024 17.125 5.06659 17.1243Z"
                          fill="black"
                        />
                        <path
                          d="M16.9229 0.5C8.29712 0.5 0.922852 7.86353 0.922852 16.5C0.922852 25.1238 8.2854 32.5 16.9229 32.5C25.5466 32.5 32.9229 25.1375 32.9229 16.5C32.9229 7.87427 25.5593 0.5 16.9229 0.5ZM16.9229 31.25C8.92749 31.25 2.17285 24.4954 2.17285 16.5C2.17285 8.50464 8.92749 1.75 16.9229 1.75C24.9182 1.75 31.6729 8.50464 31.6729 16.5C31.6729 24.4954 24.9182 31.25 16.9229 31.25Z"
                          fill="black"
                        />
                        <path
                          d="M16.9228 4C10.8022 4 5.88059 8.35571 4.69846 13.8831C4.62644 14.2207 4.84153 14.5527 5.17893 14.625C5.51682 14.6973 5.84861 14.4819 5.92088 14.1445C7.02317 8.99072 11.6501 5.25 16.9228 5.25C23.1262 5.25 28.1728 10.2966 28.1728 16.5C28.1728 22.7034 23.1262 27.75 16.9228 27.75C11.6501 27.75 7.02317 24.0093 5.92088 18.8555C5.84861 18.5181 5.51634 18.3027 5.17893 18.375C4.84153 18.4473 4.62644 18.7793 4.69846 19.1169C5.92161 24.8364 11.0136 29 16.9228 29C23.8154 29 29.4228 23.3926 29.4228 16.5C29.4228 9.60742 23.8154 4 16.9228 4Z"
                          fill="black"
                        />
                        <path
                          d="M11.2979 14C11.2979 14.3452 11.5776 14.6243 11.9229 14.6243H18.7356C18.4504 16.0352 17.2012 17.125 15.6729 17.125H11.9229C11.6702 17.125 11.4421 17.2773 11.3455 17.5107C11.2488 17.7444 11.3022 18.0132 11.481 18.1919L18.981 25.6919C19.2251 25.936 19.6206 25.936 19.8647 25.6919C20.1089 25.4478 20.1089 25.0522 19.8647 24.8081L13.4316 18.375H15.6729C17.8984 18.375 19.7046 16.7256 20.0032 14.625H21.9229C22.2681 14.625 22.5479 14.3452 22.5479 14C22.5479 13.6548 22.2681 13.375 21.9229 13.375H20.0024C19.8625 12.4021 19.4016 11.5317 18.7305 10.875H21.9229C22.2681 10.875 22.5479 10.5952 22.5479 10.25C22.5479 9.90479 22.2681 9.625 21.9229 9.625H11.9229C11.5776 9.625 11.2979 9.90479 11.2979 10.25C11.2979 10.5952 11.5776 10.875 11.9229 10.875H15.6729C17.1819 10.875 18.4446 11.9502 18.7349 13.375H11.9229C11.5776 13.375 11.2979 13.6548 11.2979 14Z"
                          fill="black"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_6673_1902">
                          <rect
                            width="32"
                            height="32"
                            fill="white"
                            transform="translate(0.922852 0.5)"
                          />
                        </clipPath>
                      </defs>
                    </svg>
                  </span>
                  <div>
                    <p class="mb-1 font-13">(CTC)</p>
                    <h5 class="mb-0 fw-semibold font-14">
                      INR
                      {{
                        convertNumberToStringFormat(
                          currentSalaryDetail.annualCTC
                        )
                      }}/<span class="font-13 fw-normal">Annum</span>
                    </h5>
                  </div>
                </div>
              </div>
              <div class="col-md-9 d-n-mobile">
                <div class="payroll-count p-3">
                  <div class="d-flex align-items-center justify-content-center">
                    <div
                      class="d-flex align-items-center gap-3"
                      style="width: 20%"
                    >
                      <span
                        class="payroll-count-icon bg-white d-flex align-items-center justify-content-center"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="42"
                          height="42"
                          viewBox="0 0 42 42"
                          fill="none"
                        >
                          <path
                            d="M17.9006 35.4353C9.53685 35.305 5.96685 32.8284 5.96685 27.1729C5.96685 22.9946 10.5144 16.9626 14.3813 12.5888H15.5979C14.3741 14.2615 13.4979 16.1877 13.0634 18.2153C13.0127 18.4398 13.1503 18.6932 13.4689 18.7222C13.6644 18.7367 13.831 18.5919 13.8744 18.3964C14.3234 16.3108 15.2648 14.3195 16.5972 12.6467C16.6117 12.6322 16.6117 12.6105 16.6262 12.596H18.6031C19.5879 14.1964 20.3265 15.9198 20.7972 17.7157C20.8479 17.9039 21.0796 18.0705 21.3041 18.0126C21.5286 17.9546 21.6589 17.7301 21.601 17.5057C21.152 15.7895 20.4641 14.1457 19.5589 12.596H22.9769C24.1934 13.9791 25.3086 15.326 26.2862 16.6077C26.3658 16.7164 26.6048 16.8684 26.8727 16.6874C27.061 16.557 27.09 16.2891 26.9524 16.1008C26.0906 14.9639 25.1203 13.7836 24.0631 12.567C24.8379 12.4657 25.4317 11.8067 25.4317 11.0101C25.4317 10.1412 24.722 9.43152 23.8531 9.43152H23.5634C23.7951 9.04049 24.0775 8.67118 24.4106 8.35256C25.171 7.62842 26.1703 7.15773 27.2203 7.03463C27.3579 7.02014 27.4737 6.93325 27.5389 6.81738C27.6041 6.69428 27.6041 6.54945 27.5389 6.42635C26.612 4.66669 25.6127 3.76152 24.4975 3.64566C23.5489 3.54428 22.5931 4.04394 21.6155 5.10842C20.5437 4.10911 19.4793 3.61669 18.4655 3.66014C17.5313 3.69635 16.6262 4.18152 15.7717 5.08669C14.7724 4.05118 13.8237 3.58049 12.8679 3.66738C11.7744 3.76152 10.7751 4.5798 9.81202 6.16566C9.73961 6.28152 9.73237 6.41911 9.78306 6.54221C9.83375 6.66531 9.94237 6.75945 10.0727 6.78842C11.5934 7.15773 12.9548 8.12807 13.8237 9.43876H13.5051C12.6362 9.43876 11.9265 10.1484 11.9265 11.0174C11.9265 11.8139 12.5203 12.4657 13.2879 12.5743C9.43547 16.9988 5.13409 22.9077 5.13409 27.1729C5.13409 35.0588 11.9482 36.1812 17.8862 36.2681H17.8934C18.1179 36.2681 18.3062 36.087 18.3134 35.8553C18.3134 35.6308 18.1324 35.4353 17.9006 35.4353ZM10.8331 6.12945C11.5427 5.10118 12.2524 4.55083 12.9548 4.4929C13.6934 4.42773 14.5624 4.92738 15.482 5.98463C15.5617 6.07876 15.6413 6.13669 15.8006 6.12945C15.9237 6.12945 16.0396 6.07152 16.1193 5.97738C16.9086 5.02152 17.7124 4.52187 18.5234 4.4929C19.3924 4.44945 20.3555 4.96359 21.362 6.00635C21.4417 6.09325 21.5648 6.14394 21.6806 6.12945C21.7965 6.12221 21.9124 6.07152 21.9848 5.97738C22.8755 4.89842 23.6937 4.39876 24.4396 4.47118C25.1493 4.54359 25.8589 5.16635 26.5469 6.31049C25.5403 6.54221 24.5989 7.04187 23.8603 7.75152C23.3534 8.23669 22.9479 8.816 22.651 9.43152H14.7941C13.9324 7.88187 12.4986 6.6798 10.8331 6.12945ZM12.7665 11.0101C12.7665 10.5974 13.0996 10.2643 13.5124 10.2643H23.8748C24.2875 10.2643 24.6206 10.5974 24.6206 11.0101C24.6206 11.4229 24.2875 11.756 23.8748 11.756H13.5124C13.0996 11.7488 12.7665 11.4157 12.7665 11.0101Z"
                            fill="black"
                          />
                          <path
                            d="M26.4672 17.5938C20.7392 17.5938 16.0758 22.2572 16.0758 27.9924C16.0758 33.7203 20.7392 38.3837 26.4672 38.3837C32.2023 38.3837 36.8658 33.7203 36.8658 27.9924C36.8658 22.2572 32.2023 17.5938 26.4672 17.5938ZM26.4672 37.551C21.1954 37.551 16.9085 33.2641 16.9085 27.9924C16.9085 22.7206 21.1954 18.4265 26.4672 18.4265C31.7389 18.4265 36.033 22.7206 36.033 27.9924C36.033 33.2641 31.7389 37.551 26.4672 37.551Z"
                            fill="black"
                          />
                          <path
                            d="M26.4673 20.2969C22.2311 20.2969 18.7769 23.751 18.7769 27.9945C18.7769 32.2307 22.2238 35.6848 26.4673 35.6848C30.7107 35.6848 34.1648 32.2379 34.1648 27.9945C34.1648 23.751 30.7107 20.2969 26.4673 20.2969ZM26.4673 34.852C22.6873 34.852 19.6097 31.7745 19.6097 27.9945C19.6097 24.2145 22.6873 21.1369 26.4673 21.1369C30.2473 21.1369 33.3248 24.2145 33.3248 27.9945C33.3321 31.7745 30.2545 34.852 26.4673 34.852Z"
                            fill="black"
                          />
                          <path
                            d="M29.1392 24.4181C29.3709 24.4181 29.5592 24.2299 29.5592 23.9981C29.5592 23.7664 29.3709 23.5781 29.1392 23.5781H24.4323C24.2006 23.5781 24.0123 23.7664 24.0123 23.9981C24.0123 24.2299 24.2006 24.4181 24.4323 24.4181H25.6488C26.5251 24.4181 27.2564 25.0336 27.4447 25.8519H24.4323C24.2006 25.8519 24.0123 26.0402 24.0123 26.2719C24.0123 26.5036 24.2006 26.6919 24.4323 26.6919H27.4447C27.2564 27.5102 26.5251 28.1257 25.6488 28.1257H24.4323C24.2006 28.1257 24.0123 28.314 24.0123 28.5457C24.0123 28.7774 24.2006 28.9657 24.4323 28.9657C26.1195 28.9657 27.4954 30.3416 27.4954 32.0288C27.4954 32.0288 27.4085 32.6588 27.9154 32.6588C28.444 32.6588 28.3354 32.0288 28.3354 32.0288C28.3354 30.6747 27.6402 29.4871 26.5902 28.7847C27.4809 28.4516 28.1399 27.6623 28.292 26.6992H29.1464C29.3782 26.6992 29.5664 26.5109 29.5664 26.2792C29.5664 26.0474 29.3782 25.8592 29.1464 25.8592H28.292C28.2051 25.3088 27.9516 24.8164 27.5895 24.4254H29.1392V24.4181Z"
                            fill="black"
                          />
                        </svg>
                      </span>
                      <div>
                        <h5 class="mb-0 fw-semibold font-14">Payroll</h5>
                      </div>
                    </div>
                    <div
                      class="payroll-box position-relative"
                      style="width: 35%"
                    >
                      <p class="mb-1 font-13">Legal Entity</p>
                      <h5 class="mb-0 fw-semibold font-14">
                        {{ currentSalaryDetail.companyName }}
                      </h5>
                    </div>
                    <div
                      class="payroll-box position-relative"
                      style="width: 15%"
                    >
                      <p class="mb-1 font-13">Remuneration</p>
                      <h5 class="mb-0 fw-semibold font-14">Annual</h5>
                    </div>
                    <div
                      class="payroll-box position-relative"
                      style="width: 15%"
                    >
                      <p class="mb-1 font-13">Remuneration</p>
                      <h5 class="mb-0 fw-semibold font-14">Annual</h5>
                    </div>
                    <div
                      class="payroll-box position-relative"
                      style="width: 15%"
                    >
                      <p class="mb-1 font-13">Pay Cycle</p>
                      <h5 class="mb-0 fw-semibold font-14">Monthly</h5>
                    </div>
                  </div>
                </div>
              </div>
              <!-- mobile payment cycle start -->
              <div class="col-md-12 mb-3 d-n-desktop">
                <div class="payroll-count p-3">
                <div class="d-flex align-items-center justify-content-start">
                  <div class="d-flex align-items-center gap-3" >
                    <span class="payroll-count-icon bg-white d-flex align-items-center justify-content-center">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="42"
                        height="42"
                        viewBox="0 0 42 42"
                        fill="none"
                      >
                        <path
                          d="M17.9006 35.4353C9.53685 35.305 5.96685 32.8284 5.96685 27.1729C5.96685 22.9946 10.5144 16.9626 14.3813 12.5888H15.5979C14.3741 14.2615 13.4979 16.1877 13.0634 18.2153C13.0127 18.4398 13.1503 18.6932 13.4689 18.7222C13.6644 18.7367 13.831 18.5919 13.8744 18.3964C14.3234 16.3108 15.2648 14.3195 16.5972 12.6467C16.6117 12.6322 16.6117 12.6105 16.6262 12.596H18.6031C19.5879 14.1964 20.3265 15.9198 20.7972 17.7157C20.8479 17.9039 21.0796 18.0705 21.3041 18.0126C21.5286 17.9546 21.6589 17.7301 21.601 17.5057C21.152 15.7895 20.4641 14.1457 19.5589 12.596H22.9769C24.1934 13.9791 25.3086 15.326 26.2862 16.6077C26.3658 16.7164 26.6048 16.8684 26.8727 16.6874C27.061 16.557 27.09 16.2891 26.9524 16.1008C26.0906 14.9639 25.1203 13.7836 24.0631 12.567C24.8379 12.4657 25.4317 11.8067 25.4317 11.0101C25.4317 10.1412 24.722 9.43152 23.8531 9.43152H23.5634C23.7951 9.04049 24.0775 8.67118 24.4106 8.35256C25.171 7.62842 26.1703 7.15773 27.2203 7.03463C27.3579 7.02014 27.4737 6.93325 27.5389 6.81738C27.6041 6.69428 27.6041 6.54945 27.5389 6.42635C26.612 4.66669 25.6127 3.76152 24.4975 3.64566C23.5489 3.54428 22.5931 4.04394 21.6155 5.10842C20.5437 4.10911 19.4793 3.61669 18.4655 3.66014C17.5313 3.69635 16.6262 4.18152 15.7717 5.08669C14.7724 4.05118 13.8237 3.58049 12.8679 3.66738C11.7744 3.76152 10.7751 4.5798 9.81202 6.16566C9.73961 6.28152 9.73237 6.41911 9.78306 6.54221C9.83375 6.66531 9.94237 6.75945 10.0727 6.78842C11.5934 7.15773 12.9548 8.12807 13.8237 9.43876H13.5051C12.6362 9.43876 11.9265 10.1484 11.9265 11.0174C11.9265 11.8139 12.5203 12.4657 13.2879 12.5743C9.43547 16.9988 5.13409 22.9077 5.13409 27.1729C5.13409 35.0588 11.9482 36.1812 17.8862 36.2681H17.8934C18.1179 36.2681 18.3062 36.087 18.3134 35.8553C18.3134 35.6308 18.1324 35.4353 17.9006 35.4353ZM10.8331 6.12945C11.5427 5.10118 12.2524 4.55083 12.9548 4.4929C13.6934 4.42773 14.5624 4.92738 15.482 5.98463C15.5617 6.07876 15.6413 6.13669 15.8006 6.12945C15.9237 6.12945 16.0396 6.07152 16.1193 5.97738C16.9086 5.02152 17.7124 4.52187 18.5234 4.4929C19.3924 4.44945 20.3555 4.96359 21.362 6.00635C21.4417 6.09325 21.5648 6.14394 21.6806 6.12945C21.7965 6.12221 21.9124 6.07152 21.9848 5.97738C22.8755 4.89842 23.6937 4.39876 24.4396 4.47118C25.1493 4.54359 25.8589 5.16635 26.5469 6.31049C25.5403 6.54221 24.5989 7.04187 23.8603 7.75152C23.3534 8.23669 22.9479 8.816 22.651 9.43152H14.7941C13.9324 7.88187 12.4986 6.6798 10.8331 6.12945ZM12.7665 11.0101C12.7665 10.5974 13.0996 10.2643 13.5124 10.2643H23.8748C24.2875 10.2643 24.6206 10.5974 24.6206 11.0101C24.6206 11.4229 24.2875 11.756 23.8748 11.756H13.5124C13.0996 11.7488 12.7665 11.4157 12.7665 11.0101Z"
                          fill="black"
                        />
                        <path
                          d="M26.4672 17.5938C20.7392 17.5938 16.0758 22.2572 16.0758 27.9924C16.0758 33.7203 20.7392 38.3837 26.4672 38.3837C32.2023 38.3837 36.8658 33.7203 36.8658 27.9924C36.8658 22.2572 32.2023 17.5938 26.4672 17.5938ZM26.4672 37.551C21.1954 37.551 16.9085 33.2641 16.9085 27.9924C16.9085 22.7206 21.1954 18.4265 26.4672 18.4265C31.7389 18.4265 36.033 22.7206 36.033 27.9924C36.033 33.2641 31.7389 37.551 26.4672 37.551Z"
                          fill="black"
                        />
                        <path
                          d="M26.4673 20.2969C22.2311 20.2969 18.7769 23.751 18.7769 27.9945C18.7769 32.2307 22.2238 35.6848 26.4673 35.6848C30.7107 35.6848 34.1648 32.2379 34.1648 27.9945C34.1648 23.751 30.7107 20.2969 26.4673 20.2969ZM26.4673 34.852C22.6873 34.852 19.6097 31.7745 19.6097 27.9945C19.6097 24.2145 22.6873 21.1369 26.4673 21.1369C30.2473 21.1369 33.3248 24.2145 33.3248 27.9945C33.3321 31.7745 30.2545 34.852 26.4673 34.852Z"
                          fill="black"
                        />
                        <path
                          d="M29.1392 24.4181C29.3709 24.4181 29.5592 24.2299 29.5592 23.9981C29.5592 23.7664 29.3709 23.5781 29.1392 23.5781H24.4323C24.2006 23.5781 24.0123 23.7664 24.0123 23.9981C24.0123 24.2299 24.2006 24.4181 24.4323 24.4181H25.6488C26.5251 24.4181 27.2564 25.0336 27.4447 25.8519H24.4323C24.2006 25.8519 24.0123 26.0402 24.0123 26.2719C24.0123 26.5036 24.2006 26.6919 24.4323 26.6919H27.4447C27.2564 27.5102 26.5251 28.1257 25.6488 28.1257H24.4323C24.2006 28.1257 24.0123 28.314 24.0123 28.5457C24.0123 28.7774 24.2006 28.9657 24.4323 28.9657C26.1195 28.9657 27.4954 30.3416 27.4954 32.0288C27.4954 32.0288 27.4085 32.6588 27.9154 32.6588C28.444 32.6588 28.3354 32.0288 28.3354 32.0288C28.3354 30.6747 27.6402 29.4871 26.5902 28.7847C27.4809 28.4516 28.1399 27.6623 28.292 26.6992H29.1464C29.3782 26.6992 29.5664 26.5109 29.5664 26.2792C29.5664 26.0474 29.3782 25.8592 29.1464 25.8592H28.292C28.2051 25.3088 27.9516 24.8164 27.5895 24.4254H29.1392V24.4181Z"
                          fill="black"
                        />
                      </svg>
                    </span>
                    <div>
                    </div>
                  </div>
                  <div>
                    <p class="mb-1 font-13">Legal Entity</p>
                    <h5 class="mb-0 fw-semibold font-14">
                      {{ currentSalaryDetail.companyName }}
                    </h5>
                  </div>
                </div>
              </div>
              </div>
              <div class="col-sm-4 mb-3 d-n-desktop">
                <div class="payroll-count p-3">
                  <div>
                    <p class="mb-1 font-13">Remuneration</p>
                      <h5 class="mb-0 fw-semibold font-14">Annual</h5>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 mb-3 d-n-desktop">
                <div class="payroll-count p-3">
                  <div>
                    <p class="mb-1 font-13">Remuneration</p>
                      <h5 class="mb-0 fw-semibold font-14">Annual</h5>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 mb-3 d-n-desktop">
                <div class="payroll-count p-3">
                  <div>
                    <p class="mb-1 font-13">Pay Cycle</p>
                    <h5 class="mb-0 fw-semibold font-14">Monthly</h5>
                  </div>
                </div>
              </div>
              <!-- mobile payment cycle end -->
            </div>
            <div class="mt-3 salary-simeline-box">
              <div class="salary-simeline p-3 d-flex align-items-center justify-content-between">
                <h5 class="mb-0 font-15">Salary Timeline</h5>
                <div class="d-flex align-items-center gap-3">
                  <div class="d-flex align-items-center gap-3 d-n-mobile" *ngIf="_roleService.getRoles() == 'ADMIN' || _roleService.hasWriteAccess(Routes.EMPLOYEE_PROFILE) ">
                    <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openSalaryTemplate()" >
                      Update Template
                    </button>
                    <span class="calendar-separator"></span>
                    <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openAppraisal()">
                      Appraisal
                    </button>
                    <span class="calendar-separator"></span>
                    <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openBonus()">Bonus
                    </button>
                  </div>
                  <span class="pointer" (click)=" getCurrentSalaryDetail(); getEmployeeSalaryRevision() ">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="25"
                      height="24"
                      viewBox="0 0 25 24"
                      fill="none"
                    >
                      <mask
                        id="mask0_6704_1368"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="25"
                        height="24"
                      >
                        <rect
                          x="0.959961"
                          width="24"
                          height="24"
                          fill="#D9D9D9"
                        />
                      </mask>
                      <g mask="url(#mask0_6704_1368)">
                        <path
                          d="M12.96 20C10.7266 20 8.83496 19.225 7.28496 17.675C5.73496 16.125 4.95996 14.2333 4.95996 12C4.95996 9.76667 5.73496 7.875 7.28496 6.325C8.83496 4.775 10.7266 4 12.96 4C14.11 4 15.21 4.2375 16.26 4.7125C17.31 5.1875 18.21 5.86667 18.96 6.75V4H20.96V11H13.96V9H18.16C17.6266 8.06667 16.8975 7.33333 15.9725 6.8C15.0475 6.26667 14.0433 6 12.96 6C11.2933 6 9.87663 6.58333 8.70996 7.75C7.54329 8.91667 6.95996 10.3333 6.95996 12C6.95996 13.6667 7.54329 15.0833 8.70996 16.25C9.87663 17.4167 11.2933 18 12.96 18C14.2433 18 15.4016 17.6333 16.435 16.9C17.4683 16.1667 18.1933 15.2 18.61 14H20.71C20.2433 15.7667 19.2933 17.2083 17.86 18.325C16.4266 19.4417 14.7933 20 12.96 20Z"
                          fill="#1C1B1F"
                        />
                      </g>
                    </svg>
                  </span>
                </div>
              </div>

              <div class="empty-file" style="margin-top: 20%; margin-bottom: 20%" *ngIf="userSalaryRevisionResList.length == 0">
                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                  <ng-template #contentTpl>
                    <p class="mb-1 empty-detail">No data for now</p>
                  </ng-template>
                </nz-empty>
              </div>

              <div class="d-n-mobile" *ngFor=" let salaryRevision of userSalaryRevisionResList; let i = index">
                <div class="d-flex align-items-center justify-content-between p-3">
                  <div class="d-flex align-items-center gap-3">
                    <span class="salary-simeline-icon d-flex align-items-center justify-content-center">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="21"
                        height="21"
                        viewBox="0 0 21 21"
                        fill="none"
                      >
                        <mask
                          id="mask0_6704_1548"
                          style="mask-type: alpha"
                          maskUnits="userSpaceOnUse"
                          x="0"
                          y="0"
                          width="21"
                          height="21"
                        >
                          <rect
                            x="0.925781"
                            y="0.789062"
                            width="19.4286"
                            height="19.4286"
                            fill="#D9D9D9"
                          />
                        </mask>
                        <g mask="url(#mask0_6704_1548)">
                          <path
                            d="M3.67826 15.3627L2.54492 14.2294L8.5354 8.19844L11.7735 11.4365L15.983 7.26749H13.8783V5.64844H18.7354V10.5056H17.1163V8.40082L11.7735 13.7437L8.5354 10.5056L3.67826 15.3627Z"
                            fill="#444444"
                          />
                        </g>
                      </svg>
                    </span>
                    <div>
                      <h5 class="mb-1 font-15 fw-semibold">Salary Revision</h5>
                      <p class="mb-0 font-13">
                        Effective
                        {{
                          salaryRevision.effectiveDate | date : "MMM , dd yyyy"
                        }}
                      </p>
                    </div>
                  </div>
                  <div class="d-flex align-items-center gap-3">
                    <div class="d-flex align-items-center gap-2">
                      <p class="mb-0 font-13">Regular Salary</p>
                      <p class="mb-0 fw-bold font-13">
                        INR
                        {{
                          convertNumberToStringFormat(salaryRevision.monthlyCtc)
                        }}
                      </p>
                    </div>
                    <div class="d-flex align-items-center gap-2">
                      <p class="mb-0 font-13">Total</p>
                      <p class="mb-0 fw-bold font-13">
                        INR
                        {{
                          convertNumberToStringFormat(salaryRevision.annualCtc)
                        }}
                      </p>
                    </div>
                    <span
                      class="down-icon d-flex align-items-center justify-content-center collapsed"
                      data-bs-toggle="collapse"
                      [attr.href]="'#collapseExample' + i"
                      role="button"
                      aria-expanded="false"
                      aria-controls="collapseExample"
                      *ngIf="salaryRevision.salaryBreakup.length > 0"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="17"
                        height="11"
                        viewBox="0 0 17 11"
                        fill="none"
                      >
                        <path
                          d="M8.125 10.6625L0.0625 2.6L1.94375 0.71875L8.125 6.9L14.3063 0.71875L16.1875 2.6L8.125 10.6625Z"
                          fill="#444444"
                        />
                      </svg>
                    </span>
                  </div>
                </div>
                <div
                  class="collapse p-3 border-bottom"
                  [attr.id]="'collapseExample' + i"
                >
                  <h5 class="mb-0 font-14 mb-3">Summary</h5>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="summary-box border-right">
                        <div
                          class="d-flex align-items-center justify-content-between mb-4"
                          *ngFor="let component of salaryRevision.salaryBreakup"
                        >
                          <h5 class="fw-normal font-14 mb-0">
                            {{ component.name }}
                          </h5>
                          <h5 class="fw-normal font-14 mb-0">
                            ₹{{
                              convertNumberToStringFormat(
                                component.standardAmount
                              )
                            }}
                          </h5>
                        </div>

                        <div
                          class="d-flex align-items-center justify-content-between mb-4"
                        >
                          <h5 class="fw-boid font-15 mb-0">Gross Earning</h5>
                          <h5 class="fw-bold text-primary font-15 mb-0">
                            ₹{{
                              convertNumberToStringFormat(
                                salaryRevision.monthlyCtc
                              )
                            }}
                          </h5>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div>
                        <div class="p-3 holiday-date mb-3 universal-holiday">
                          <p class="mb-0">
                            Salary Per Month |
                            <span style="color: #3f988f"
                              >INR
                              {{
                                convertNumberToStringFormat(
                                  salaryRevision.monthlyCtc
                                )
                              }}</span
                            >
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>


              <div class="d-n-desktop">
              <div class="d-flex align-items-center justify-content-between p-3 border-bottom" *ngIf="_roleService.getRoles() == 'ADMIN' || _roleService.hasWriteAccess(Routes.EMPLOYEE_PROFILE) ">
                <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openSalaryTemplate()" >
                  Update Template
                </button>
                <span class="calendar-separator"></span>
                <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openAppraisal()">
                  Appraisal
                </button>
                <span class="calendar-separator"></span>
                <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openBonus()">Bonus
                </button>
              </div>
              </div>


              <div class="d-n-desktop border-bottom" *ngFor=" let salaryRevision of userSalaryRevisionResList; let i = index">
                <div class="d-flex align-items-center justify-content-between p-3">
                <div class="d-flex align-items-center gap-3 ">
                  <span class="salary-simeline-icon d-flex align-items-center justify-content-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="21"
                      height="21"
                      viewBox="0 0 21 21"
                      fill="none"
                    >
                      <path
                        d="M3.67826 15.3627L2.54492 14.2294L8.5354 8.19844L11.7735 11.4365L15.983 7.26749H13.8783V5.64844H18.7354V10.5056H17.1163V8.40082L11.7735 13.7437L8.5354 10.5056L3.67826 15.3627Z"
                        fill="#444444"
                      />
                    </svg>
                  </span>
                  <div>
                    <h5 class="mb-1 font-15 fw-semibold">Salary Revision</h5>
                    <p class="mb-0 font-13"> Effective {{ salaryRevision.effectiveDate | date : "MMM , dd yyyy" }}</p>
                  </div>
                </div>


                <span class="down-icon d-flex align-items-center justify-content-center collapsed"
                      data-bs-toggle="collapse" [attr.href]="'#collapseExample' + i" role="button"
                       aria-expanded="false" aria-controls="collapseExample" *ngIf="salaryRevision.salaryBreakup.length > 0">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="17"
                        height="11"
                        viewBox="0 0 17 11"
                        fill="none"
                      >
                        <path
                          d="M8.125 10.6625L0.0625 2.6L1.94375 0.71875L8.125 6.9L14.3063 0.71875L16.1875 2.6L8.125 10.6625Z"
                          fill="#444444"
                        />
                      </svg>
                  </span>
              </div>
                <div class="d-flex align-items-center justify-content-between p-3 pt-0">
                  <div class="d-flex align-items-center gap-2">
                    <p class="mb-0 font-13">Regular Salary</p>
                    <p class="mb-0 fw-bold font-13">
                      INR {{ convertNumberToStringFormat(salaryRevision.monthlyCtc) }}
                    </p>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <p class="mb-0 font-13">Total</p>
                    <p class="mb-0 fw-bold font-13">
                      INR {{ convertNumberToStringFormat(salaryRevision.annualCtc) }}
                    </p>
                  </div>
               </div>


               <div
               class="collapse p-3 border-bottom"
               [attr.id]="'collapseExample' + i"
             >
               <h5 class="mb-0 font-14 mb-3">Summary</h5>
               <div class="row">
                 <div class="col-md-6">
                   <div class="border-right w-100">

                    <table class="table">
                      <tbody>
                        <tr *ngFor="let component of salaryRevision.salaryBreakup">
                          <th class="fw-normal font-14">{{ component.name }}</th>
                          <td class="fw-normal font-14">₹{{ convertNumberToStringFormat( component.standardAmount ) }}</td>
                        </tr>
                        <tr>
                          <th>
                            <span class="fw-boid font-15"> Gross Earning</span></th>
                          <td class="fw-bold text-primary font-15">₹{{convertNumberToStringFormat( salaryRevision.monthlyCtc )}}</td>
                        </tr>
                      </tbody>
                    </table>
                   
                   </div>
                 </div>
                 <div class="col-md-6">
                   <div>
                     <div class="p-3 holiday-date mb-3 universal-holiday">
                       <p class="mb-0">
                         Salary Per Month |
                         <span style="color: #3f988f"
                           >INR
                           {{
                             convertNumberToStringFormat(
                               salaryRevision.monthlyCtc
                             )
                           }}</span
                         >
                       </p>
                     </div>
                   </div>
                 </div>
               </div>
             </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade pt-3" id="pay-slips" role="tabpanel">


          <!-- mobile security box   -->
          <div class="security p-2 d-n-desktop mb-3" *ngIf="!financeBlur">
            <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0 font-13 fw-semibold">Toggle disabled due to security reasons.</p>
              <nz-switch
                [(ngModel)]="financeBlur"
                [nzControl]="true"
                (click)="switchFinanceBlur()"
              ></nz-switch>
            </div>
          </div>
           <!-- mobile security box   -->
          
          <div class="payroll" [ngClass]="{ blur: financeBlur }">
            <div class="d-flex align-items-center justify-content-between d-n-mobile">
              <div>
                <h5 class="mb-1 font-16">Pay Slips</h5>
                <p class="mb-0 font-13 pay-slip">
                  Here you can manage all generated payslips for application
                  years.
                </p>
              </div>
              <div class="attendance-date">
                <nz-date-picker nzBorderless
                  nzMode="year"
                  [nzSize]="size"
                  [(ngModel)]="selectedYear"
                  [nzDisabledDate]="disableYears"
                  (ngModelChange)="onYearChange($event)"
                >
                </nz-date-picker>
              </div>
            </div>



            <!-- mobile payslip heading start  -->

            <div class="d-n-desktop">
              <div class="d-flex align-items-center justify-content-between mb-2">
                <h5 class="mb-0 font-16">Pay Slips</h5>
                <div class="attendance-date">
                  <nz-date-picker nzBorderless
                    nzMode="year"
                    [nzSize]="size"
                    [(ngModel)]="selectedYear"
                    [nzDisabledDate]="disableYears"
                    (ngModelChange)="onYearChange($event)"
                  >
                  </nz-date-picker>
                </div>
              </div>
            </div>

            <!-- mobile payslip heading end  -->

            <div class="mt-3 pay-slip-box d-flex align-items-start d-n-mobile">
              <div class="payslip-sidebar">
                <ul class="mb-0 pl-0">
                  <li class="d-flex align-items-center justify-content-between" *ngFor="let payslip of employeePayslipLogResponseList; let i = index "
                    [ngClass]="{ ' active-month': i == selectedIndex }" (click)="selectedIndex = i; loadPayslip(payslip)">
                    <span>{{ payslip.paySlipMonth | date : "MMMM yyyy" }}</span>
                    <span class="pointer" *ngIf="i == selectedIndex">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="29"
                        height="30"
                        viewBox="0 0 29 30"
                        fill="none"
                      >
                        <mask
                          id="mask0_6709_6993"
                          style="mask-type: alpha"
                          maskUnits="userSpaceOnUse"
                          x="0"
                          y="0"
                          width="29"
                          height="30"
                        >
                          <rect y="0.5" width="29" height="29" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_6709_6993)">
                          <path
                            d="M10 23.1253V6.875L18.1252 15.0002L10 23.1253Z"
                            fill="#6666F2"
                          />
                        </g>
                      </svg>
                    </span>
                  </li>
                </ul>
              </div>
              <div class="pay-slip-file w-100" *ngIf="selectedPayslip">
                <div class="d-flex align-items-center justify-content-center">
                  <iframe class="nest w-100" [src]="selectedPayslipUrl" style="height: 100vh" frameborder="0"></iframe>
                </div>
              </div>
            </div>


            <!-- mobile payslip section -->

            <div class="payslip-sidebar d-n-desktop mt-3">
              <ul class="mb-0 pl-0">
                <li class="d-flex align-items-center justify-content-between mb-2 p-3" *ngFor="let payslip of employeePayslipLogResponseList; let i = index "
                  [ngClass]="{ ' active-month': i == selectedIndex }" (click)="selectedIndex = i; loadPayslip(payslip)">
                  <span class="fw-semibold font-13">{{ payslip.paySlipMonth | date : "MMMM yyyy" }}</span>
                  <span class="pointer" *ngIf="i == selectedIndex">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="29"
                      height="30"
                      viewBox="0 0 29 30"
                      fill="none"
                    >
                      <mask
                        id="mask0_6709_6993"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="29"
                        height="30"
                      >
                        <rect y="0.5" width="29" height="29" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_6709_6993)">
                        <path
                          d="M10 23.1253V6.875L18.1252 15.0002L10 23.1253Z"
                          fill="#6666F2"
                        />
                      </g>
                    </svg>
                  </span>
                </li>
              </ul>
            </div>

            <!-- mobile payslip section -->



            <div
              class="empty-file d-flex align-items-center justify-content-center"
              *ngIf="employeePayslipLogResponseList.length == 0"
              style="margin-top: 22%; margin-bottom: 8%"
            >
              <nz-empty
                nzNotFoundImage="assets/images/no-data-found-img.svg"
                [nzNotFoundContent]="contentTpl"
              >
                <ng-template #contentTpl>
                  <p class="mb-1 empty-detail">No data for now</p>
                </ng-template>
              </nz-empty>
            </div>
          </div>
        </div>
      </div>
      <div id="pills-tabContent" class="tab-content" *ngIf="currentSalaryDetail.annualCTC == 0 && !firstTimeLoad">
        <div class="empty-file" style="margin-top: 20%; margin-bottom: 20%">
            <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                <ng-template #contentTpl>
                    <p class="mb-1 empty-detail">No data for now</p>
                    <button type="button" class="btn p-0 text-primary font-13 fw-semibold" (click)="openAppraisal()" *ngIf="ROLE=='ADMIN'">
                        <i class="bi bi-plus p-0 fw-semibold" style="font-size: 15px text-primary"></i> Add Salary
                    </button>
                </ng-template>
            </nz-empty>
        </div>
      </div>
    </div>
  </div>
</div>

<!--////////////////////////////////////////////////// SALARY TEMPLATE MODAL START //////////////////////////////////////////////////-->
<button
  type="button"
  class="btn btn-primary d-none"
  data-bs-toggle="modal"
  data-bs-target="#salaryTemplate"
  #salaryTemplateButton
>
  Update Salary Template
</button>
<div
  class="modal fade"
  id="salaryTemplate"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Update Salary Template</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          #salaryTemplateCloseButton
        ></button>
      </div>
    <div class="modal-body" *ngIf="templateLoader">
            <div *ngFor="let item of [].constructor(20)">
                <ngx-shimmer-loading [width]="'100%'" [height]="'30px'" ></ngx-shimmer-loading>
            </div>
    </div>
    <div *ngIf="!templateLoader">
        <div class="modal-body">
            <div class="">
                <ul id="myTab" role="tablist" class="nav nav-tabs">
                  <li role="presentation" class="nav-item">
                    <button
                      id="home-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#template"
                      type="button"
                      role="tab"
                      aria-controls="salarytemplate"
                      aria-selected="true"
                      class="nav-link active"
                    >
                      Template details
                    </button>
                  </li>
                  <li role="presentation" class="nav-item">
                    <button
                      id="profile-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#deduction"
                      type="button"
                      role="tab"
                      aria-controls="deductionselection"
                      aria-selected="false"
                      class="nav-link">
                      Deduction declaration
                    </button>
                  </li>
                </ul>
      
                <div class="tab-content" id="myTabContent">
                  <div class="tab-pane fade show active" id="template" role="tabpanel">
                    <div class="row mt-3 mb-3">
                      <p>Calculate salary break up</p>
                      <div class="col-md-6">
                          <div class="tex-regime">
                          <label
                              class="form-check notifaction-req d-flex align-items-center justify-content-start gap-2">
                              <input type="radio" name="componentValue" id="percent" [value]="0"
                                  [(ngModel)]="userSalaryTemplate2.isFixed"
         
                                  class="form-check-input ng-untouched ng-pristine ng-invalid">
                              <p for="percent" class="form-check-label mb-0"> Percentage </p>
                          </label>
                      </div>
                  </div>
  
                      <div class="col-md-6">
                          <div class="tex-regime">
                          <label
                              class="form-check notifaction-req d-flex align-items-center justify-content-start gap-2"><input
                                  type="radio" name="componentValue" id="flat" [value]="1"
                                  [(ngModel)]="userSalaryTemplate2.isFixed" 
           
                                  class="form-check-input ng-untouched ng-pristine ng-invalid">
                              <p for="flat" class="form-check-label mb-0"> Flat </p>
                          </label>
                      </div>
                      </div>
                  </div>
                  <table class="table template-table" *ngIf="userSalaryTemplate2.isFixed==0">
                    <tr>
                        <th>Component Name</th>
                        <th>Percentage(%)</th>
                        <th></th>
                    </tr>
                    <tr *ngFor="let salaryComponent of userSalaryTemplate2.salaryComponentResponseList">
                      <td>{{ salaryComponent.name }}</td>
                      <td > 
                        <nz-input-number
                        [(ngModel)]="salaryComponent.value"
                        [ngModelOptions]="{ standalone: true }"
                        [nzMin]="1"
                        [nzMax]="100"
                        [nzStep]="1"
                        [nzSize]="'large'"
                        [nzDisabled]="!salaryComponent.toggle"
                        style="width: 100%"
                        required
                    ></nz-input-number></td>
                      <td><nz-switch
                        [(ngModel)]="salaryComponent.toggle"
                        [ngModelOptions]="{ standalone: true }"
                        [nzDisabled]="salaryComponent.id == BASIC_PAY_ID"
                        ></nz-switch></td>
                    </tr>
                  </table>

                    <table class="table template-table" *ngIf="userSalaryTemplate2.isFixed==1">
                        <tr>
                            <th>Component Name</th>
                            <th>Amount(in Rs)</th>
                            <th></th>
                        </tr>
                        <tr *ngFor="let salaryComponent of userSalaryTemplate2.salaryComponentResponseList">
                          <td>{{ salaryComponent.name }}</td>
                          <td > 
                            <nz-input-number
                            [(ngModel)]="salaryComponent.value"
                            [ngModelOptions]="{ standalone: true }"
                            [nzMin]="1"
                            [nzStep]="1"
                            [nzSize]="'large'"
                            [nzDisabled]="!salaryComponent.toggle"
                            style="width: 100%"
                            required
                        ></nz-input-number></td>
                          <td><nz-switch
                            [(ngModel)]="salaryComponent.toggle"
                            [ngModelOptions]="{ standalone: true }"
                            [nzDisabled]="salaryComponent.id == BASIC_PAY_ID"
                            ></nz-switch></td>
                        </tr>
                      </table>
                  </div>
                  <div class="tab-pane fade" id="deduction" role="tabpanel">
                    <div class="row mt-3 mb-3">

                    <div class="col-md-6">
                        <div class="tex-regime">
                        <label
                            class="form-check notifaction-req d-flex align-items-center justify-content-start gap-2">
                            <input type="radio" name="taxregime" id="new" [value]="2"
                                [(ngModel)]="userSalaryTemplate2.taxRegimeId"
                                class="form-check-input ng-untouched ng-pristine ng-invalid">
                            <p for="new" class="form-check-label mb-0"> New Tax Regime </p>
                        </label>
                    </div>
                </div>

                    <div class="col-md-6">
                        <div class="tex-regime">
                        <label
                            class="form-check notifaction-req d-flex align-items-center justify-content-start gap-2"><input
                                type="radio" name="taxregime"id="old" [value]="1"
                                [(ngModel)]="userSalaryTemplate2.taxRegimeId" 
                                class="form-check-input ng-untouched ng-pristine ng-invalid">
                            <p for="old" class="form-check-label mb-0"> Old Tax Regime </p>
                        </label>
                    </div>
                    </div>
                </div>

                    <table class="table template-table" *ngIf="userSalaryTemplate2.taxRegimeId == 1">
                        <tr>
                            <th>Name</th>
                            <th>Exemption value</th>
                            <th></th>
                        </tr>
                        <tr *ngFor="let exemption of userSalaryTemplate2.taxExemptionValueList">
                          <td>{{ exemption.name }}</td>
                          <td ><nz-input-number
                            [(ngModel)]="exemption.value"
                            [ngModelOptions]="{ standalone: true }"
                            [nzMin]="1"
                            [nzStep]="1"
                            [nzSize]="'large'"
                            [nzDisabled]="!exemption.toggle"
                            style="width: 100%"
                            required
                        ></nz-input-number></td>
                          <td><nz-switch
                            [(ngModel)]="exemption.toggle"
                            [ngModelOptions]="{ standalone: true }"
                            ></nz-switch></td>
                        </tr>
                      </table>
                  </div>
                </div>
           </div>
        </div>
        <div class="modal-footer">
            <button
              type="submit"
              class="btn btn-primary"
              [ngClass]="{ 'disabled-lnk': saveLoader }" (click)="saveCustomSalaryTemplate()">
              <div class="dot-opacity-loader" *ngIf="saveLoader">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <span *ngIf="!saveLoader" > Submit </span>
            </button>
          </div>
    </div>
  </div>
</div>
</div> 
<!--////////////////////////////////////////////////// SALARY TEMPLATE MODAL END //////////////////////////////////////////////////-->

<!--////////////////////////////////////////////////// APPRAISAL MODAL START //////////////////////////////////////////////////-->
<button
  type="button"
  class="btn btn-primary d-none"
  data-bs-toggle="modal"
  data-bs-target="#appraisal"
  #appraisalButton
>
  Appraisal
</button>
<div
  class="modal fade"
  id="appraisal"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Appraise Now</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          #appraisalCloseButton
        ></button>
      </div>
      <form
        #appraisalForm="ngForm"
        ngNativeValidate
        (ngSubmit)="saveAppraisal()"
      >
        <div class="modal-body">
          <div class="mb-3">
            <label for="currentCTC" class="form-label"
              >Current Annual CTC</label
            >
            <input
              type="number"
              id="currentCTC"
              name="currentCTC"
              class="form-control"
              placeholder="Current CTC"
              [(ngModel)]="appraisal.previousCtc"
              disabled
            />
          </div>
          <div class="mb-3">
            <label for="newCTC" class="form-label">New Annual CTC</label>
            <input
              type="text"
              id="newCTC"
              name="newCTC"
              class="form-control"
              placeholder="Enter the amount here"
              oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/^0+/, '').slice(0, 8);"
              pattern="^[1-9][0-9]{0,7}$"
              maxlength="8"
              [(ngModel)]="appraisal.updatedCtc"
              required
            />
          </div>
          <div class="mb-3">
            <label for="effectiveDate" class="form-label">Effective Date</label>
            <nz-date-picker
              nzBorderless
              class="form-control"
              name="effectiveDate"
              [nzFormat]="'yyyy-MM-dd'"
              [nzSize]="'large'"
              nzId="effectiveDate"
              [(ngModel)]="appraisal.effectiveDate"
              required
            >
            </nz-date-picker>
            <!-- <input type="date" id="effectiveDate" class="form-control" [(ngModel)]="appraisal.effectiveDate" required> -->
          </div>
          <div class="mb-3">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="designation"
                [checked]="appraisal.checked"
                (change)="changePositionToggle(appraisal)"
              />
              <label
                class="form-check-label"
                for="designation"
                (change)="changePositionToggle(appraisal)"
              >
                Would you like to enhance the designation?
              </label>
            </div>
          </div>
          <div class="mb-3" *ngIf="appraisal.checked">
            <label for="positionDropdown" class="form-label">Designation</label>
            <input
              maxlength="50"
              class="seach-dropdown input-zorro"
              id="positionDropdown"
              class="form-control"
              name="positionDropdown"
              placeholder="Search for the Designation"
              nz-input
              [(ngModel)]="appraisal.position"
              [nzAutocomplete]="positionAuto"
              (ngModelChange)="onChange($event)"
              required
            />
            <nz-autocomplete
              [nzDataSource]="positionFilteredOptions"
              #positionAuto
            ></nz-autocomplete>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="submit"
            class="btn btn-primary"
            [ngClass]="{ 'disabled-lnk': saveLoader }"
          >
            <div class="dot-opacity-loader" *ngIf="saveLoader">
              <span></span>
              <span></span>
              <span></span>
            </div>
            <span *ngIf="!saveLoader"> Submit </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--////////////////////////////////////////////////// APPRAISAL MODAL END //////////////////////////////////////////////////-->

<!--////////////////////////////////////////////////// BONUS MODAL START //////////////////////////////////////////////////-->
<button
  type="button"
  class="btn btn-primary d-none"
  data-bs-toggle="modal"
  data-bs-target="#bonus"
  #bonusButton
>
  Bonus
</button>
<div
  class="modal fade"
  id="bonus"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Add Bonus</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          #bonusCloseButton
        ></button>
      </div>
      <form #bonusForm="ngForm" ngNativeValidate (ngSubmit)="saveBonus()">
        <div class="modal-body">
          <div class="mb-3">
            <label for="amount" class="form-label">Amount</label>
            <input
              type="text"
              id="amount"
              name="amount"
              class="form-control"
              placeholder="Enter the amount here"
              [(ngModel)]="bonusRequest.amount"
              oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/^0+/, '').slice(0, 6);"
              pattern="^[1-9][0-9]{0,5}$"
              maxlength="6"
              required
              #amount="ngModel"
            />

            <div *ngIf="amount.touched && amount.invalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="amount.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> Amount is required.
              </p>
            </div>
          </div>

          <div class="mb-3">
            <label for="comments" class="form-label">Comments</label>
            <textarea
              id="comments"
              name="comments"
              class="form-control"
              placeholder="Please specify the reason"
              row="3"
              [(ngModel)]="bonusRequest.comment"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="submit"
            class="btn btn-primary"
            [ngClass]="{ 'disabled-lnk': saveLoader }"
          >
            <div class="dot-opacity-loader" *ngIf="saveLoader">
              <span></span>
              <span></span>
              <span></span>
            </div>
            <span *ngIf="!saveLoader"> Submit </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--////////////////////////////////////////////////// BONUS MODAL END //////////////////////////////////////////////////-->


