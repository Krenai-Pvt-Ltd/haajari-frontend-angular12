<div class="employee-detail-box">
    <div class="attendance-history m-3 mb-5">
        <div class="mt-3">
            <ul id="pills-tab" role="tablist" class="nav nav-pills">
                <li class="nav-item">
                    <a id="pills-home-tab" data-bs-toggle="pill" href="#attendance" role="tab"
                        aria-controls="pills-home" aria-selected="true" class="nav-link active">Attendance</a>
                </li>
                <li class="nav-item">
                    <a id="pills-profile-tab" data-bs-toggle="pill" href="#leaves" role="tab"
                        aria-controls="pills-profile" aria-selected="false" class="nav-link">Leaves</a>
                </li>
                <li class="nav-item">
                    <a id="pills-profile-tab" data-bs-toggle="pill" href="#viewrequests" role="tab"
                        aria-controls="pills-profile" aria-selected="false" class="nav-link">Attendance Requests</a>
                </li>
            </ul>
            <div id="pills-tabContent" class="tab-content">
                <div class="tab-pane fade active show pt-3" id="attendance" role="tabpanel"
                    aria-labelledby="attendance-tab">

                    <div class="d-flex align-items-center justify-content-between mobile-filter-section">
                        <div class="d-flex align-items-center attendance-date">
                            <span class=" d-flex align-items-center justify-content-center pointer calendar-back-btn"
                                [class.disabled]="isPreviousDisabled()" (click)="goToPreviousMonth()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21"
                                    fill="none">
                                    <mask id="mask0_4719_1625" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0"
                                        y="0" width="21" height="21">
                                        <rect x="0.5" y="0.5" width="20" height="20" fill="#D9D9D9" />
                                    </mask>
                                    <g mask="url(#mask0_4719_1625)">
                                        <path
                                            d="M8.83203 15.5L3.83203 10.5L8.83203 5.5L9.9987 6.70833L7.04036 9.66667H17.1654V11.3333H7.04036L9.9987 14.2917L8.83203 15.5Z"
                                            fill="#060606" />
                                    </g>
                                </svg>
                            </span>
                            <span class="calendar-separator"></span>
                            <div class="dropdown ">
                                <nz-date-picker nzMode="month" [nzSize]="size" nzFormat="MMM, yyyy"
                                    [(ngModel)]="selectedDate"  (ngModelChange)="onMonthChange($event)"
                                    [nzDisabledDate]="disableMonths"></nz-date-picker>

                                <!-- <nz-date-picker nzMode="month" nzFormat="MMM, yyyy"></nz-date-picker> -->
                            </div>

                            <span class="calendar-separator"></span>
                            <span class=" d-flex align-items-center justify-content-center pointer calendar-back-btn"
                                [class.disabled]="isNextDisabled()" (click)="goToNextMonth()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21"
                                    fill="none">
                                    <mask id="mask0_4719_1639" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0"
                                        y="0" width="21" height="21">
                                        <rect width="20" height="20" transform="matrix(-1 0 0 1 20.5 0.5)"
                                            fill="#D9D9D9" />
                                    </mask>
                                    <g mask="url(#mask0_4719_1639)">
                                        <path
                                            d="M12.168 15.5L17.168 10.5L12.168 5.5L11.0013 6.70833L13.9596 9.66667H3.83464V11.3333H13.9596L11.0013 14.2917L12.168 15.5Z"
                                            fill="#060606" />
                                    </g>
                                </svg>
                            </span>
                        </div>

                        <div class="d-flex align-items-center justify-content-end gap-3">
                            <div class="btn-group week-data radio-btn" role="group"
                                aria-label="Basic radio toggle button group">

                                <nz-radio-group [(ngModel)]="selectedTab" nzButtonStyle="solid" nzSize="large"
                                    (ngModelChange)="onTabChange($event)">

                                    <label nz-radio-button [nzValue]="week"
                                        *ngFor="let week of weekLabels; let i = index">{{week}}</label>
                                    <label nz-radio-button [nzValue]="'30 DAYS'">{{thirtyDaysLabel}}</label>
                                </nz-radio-group>

                            </div>

                            <!-- <nz-select class="request-dropdown placeholder-lines" nzSize="large"
                                nzPlaceHolder="New Request" required [(ngModel)]="selectedRequest"
                                (ngModelChange)="onRequestChange(selectedRequest)" *ngIf="userId==currentUserUuid">
                                <nz-option [nzValue]="'Attendance update'" [nzLabel]="'Attendance update'"></nz-option>

                            </nz-select> -->
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-md-9">
                            <div class="row" style="border-right: 1px solid #EDEFF5;">
                                <div class="col-md-8 ">
                                    <div
                                        class="attendance-summery p-3 pt-2 pb-2 d-flex align-items-center justify-content-between ">
                                        <div class="d-flex align-items-center gap-2">
                                            <div>
                                                <div *ngIf="isShimmer">
                                                    <ngx-shimmer-loading [width]="'50%'"
                                                        [height]="'10px'"></ngx-shimmer-loading>
                                                </div>
                                                <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                                    {{convertToHourMinuteFormat(totalAttendanceDetails.totalWorkedHours)}}
                                                </h5>
                                                <p class="mb-0 font-12">Worked</p>
                                            </div>
                                        </div>
                                        <div>
                                            <div *ngIf="isShimmer">
                                                <ngx-shimmer-loading [width]="'50%'"
                                                    [height]="'10px'"></ngx-shimmer-loading>
                                            </div>
                                            <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                                {{convertToHourMinuteFormat(totalAttendanceDetails.totalEarlyCheckoutHours)}}
                                                <span class="lat">({{totalAttendanceDetails.totalEarlyCheckoutCount}}
                                                    early
                                                    out’s)</span>
                                            </h5>
                                            <p class="mb-0 font-12">Total shortage</p>

                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="attendance-summery p-3 pt-2 pb-2">
                                        <!-- <h5 class="mb-0 font-15">+ 7 hr 30 min</h5>
                                    <p class="mb-0 font-12">Difference</p> -->
                                        <div *ngIf="isShimmer">
                                            <ngx-shimmer-loading [width]="'50%'"
                                                [height]="'10px'"></ngx-shimmer-loading>
                                        </div>
                                        <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                            {{convertToHourMinuteFormat(totalAttendanceDetails.totalOvertimeHours)}}
                                            <span class="lat">({{totalAttendanceDetails.totalOvertimeCount}}
                                                overtime)</span>
                                        </h5>
                                        <p class="mb-0 font-12">Overtime</p>

                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="attendance-summery p-3 pt-2 pb-2">
                                        <div *ngIf="isShimmer">
                                            <ngx-shimmer-loading [width]="'50%'"
                                                [height]="'10px'"></ngx-shimmer-loading>
                                        </div>
                                        <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                            {{convertToHourMinuteFormat(totalAttendanceDetails.totalLateHours)}} <span
                                                class="lat">({{totalAttendanceDetails.totalLateCount}} late in’s)</span>
                                        </h5>
                                        <p class="mb-0 font-12">Total late delay</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="attendance-summery p-3 pt-2 pb-2">
                                        <div *ngIf="isShimmer">
                                            <ngx-shimmer-loading [width]="'50%'"
                                                [height]="'10px'"></ngx-shimmer-loading>
                                        </div>
                                        <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                            {{convertToHourMinuteFormat(totalAttendanceDetails.totalHalfDayHours)}}
                                            <span class="lat">({{totalAttendanceDetails.totalHalfDayCount}} half day
                                                in’s)</span>
                                        </h5>
                                        <p class="mb-0 font-12">Total half day delay</p>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="attendance-summery p-3 pt-2 pb-2">
                                        <div *ngIf="isShimmer">
                                            <ngx-shimmer-loading [width]="'50%'"
                                                [height]="'10px'"></ngx-shimmer-loading>
                                        </div>
                                        <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                            {{totalAttendanceDetails.totalSystemCheckoutCount || 0}}
                                        </h5>

                                        <p class="mb-0 font-12">System checkout</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="attendance-summery p-3 pt-2 pb-2">
                                        <div *ngIf="isShimmer">
                                            <ngx-shimmer-loading [width]="'40%'"
                                                [height]="'10px'"></ngx-shimmer-loading>
                                        </div>

                                        <h5 class="mb-0 font-15" *ngIf="!isShimmer">
                                            {{totalAttendanceDetails.totalAbsentCount || 0}}
                                        </h5>

                                        <p class="mb-0 font-12">Absent</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-3">
                            <div class="total-detail ">
                                <h5 class="mb-3 font-14">Overall Performance</h5>

                                <!-- <img src="assets/images/overall-performance.png" style="width: 100%;"> -->
                                <div class="chart-container w-100" *ngIf="!isPlaceholder">
                                    <canvas #chartCanvas id="workingHoursChart"></canvas>
                                </div>
                                <!-- <apx-chart [series]="chartOptions.series [chart]="chartOptions.chart"
                                [xaxis]="chartOptions.xaxis"
                                [title]="chartOptions.title">
                                    </apx-chart> -->

                                <!-- <div class="col-md-12" *ngIf="isShimmer">
                                    <ngx-shimmer-loading [width]="'100%'" [height]="'100px'"></ngx-shimmer-loading>
                                </div> -->

                                <div class="empty-file d-flex align-items-center justify-content-center"
                                    style="margin-top: 8%; margin-bottom: 8%" *ngIf="isPlaceholder">
                                    <p class="mb-1 empty-detail">No data for now</p>
                                </div>


                            </div>
                        </div>

                    </div>

                    <div class="table-responsive bg-white mt-3">
                        <table class="table empOnnoardtable">
                            <thead class="thead-light">
                                <tr>
                                    <th class=" text-left" style="width: 10%">
                                        Date
                                    </th>
                                    <th class="text-center" style="width: 10%">Status</th>
                                    <th class="text-center" style="width: 10%">
                                        Mode
                                    </th>
                                    <th class="text-left" style="width: 10%">Schedule</th>
                                    <th class="text-left" style="width: 10%">
                                        Check In
                                    </th>
                                    <th class="text-left" style="width: 10%">
                                        Check Out
                                    </th>
                                    <th class="text-center" style="width: 10%">
                                        Break
                                    </th>
                                    <th class="text-left" style="width: 10%">
                                        Break Duration
                                    </th>
                                    <th class="text-left" style="width: 10%">
                                        Worked
                                    </th>
                                    <th class="text-left" style="width: 10%">
                                        Difference
                                    </th>
                                </tr>
                            </thead>

                            <!-- {{isShimmer}} -->
                            <tbody *ngIf="isShimmer">
                                <tr *ngFor="let item of [].constructor(7)">
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                    <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </td>
                                </tr>
                            </tbody>

                            <tbody *ngIf="!isShimmer && attendanceDetails.length == 0">
                                <tr>
                                    <td colspan="10">
                                        <div class="empty-file" style="margin-top: 7%; margin-bottom: 7%">
                                            <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                                [nzNotFoundContent]="contentTpl">
                                                <ng-template #contentTpl>
                                                    <p class="mb-1 empty-detail">No data for now</p>
                                                </ng-template>
                                            </nz-empty>
                                        </div>

                                    </td>
                                </tr>
                            </tbody>

                            <tbody *ngIf="!isShimmer && attendanceDetails.length > 0">
                                <ng-container *ngFor="let item of attendanceDetails">
                                    <!-- {{item.status}} -->
                                    <tr class=""
                                        *ngIf="item.status == 'Present' || item.status == 'Late' || item.status == 'Half Day'">

                                        <td class="text-left">
                                            <span class="team-maneger mb-0 ">
                                                {{item.createdDate | date:'fullDate'}}</span>
                                        </td>
                                        <td class="text-center">
                                            <span class="team-maneger mb-0 text-success">
                                                <!-- {{item.status}} -->
                                                Present
                                            </span>
                                        </td>
                                        <td class="text-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                viewBox="0 0 20 20" fill="none"
                                                *ngIf="item.attendanceSource == 'SLACK'">
                                                <g clip-path="url(#clip0_4742_116)">
                                                    <path
                                                        d="M7.31906 10.5859C6.16523 10.5859 5.22656 11.5246 5.22656 12.6784V17.9075C5.22656 19.0613 6.16523 20 7.31906 20C8.47289 20 9.41156 19.0613 9.41156 17.9075V12.6784C9.41156 11.5246 8.47289 10.5859 7.31906 10.5859Z"
                                                        fill="#E01E5A" />
                                                    <path
                                                        d="M4.05938 10.5859H2.03359C0.916562 10.5859 0.0078125 11.4947 0.0078125 12.6117C0.0078125 13.7287 0.916602 14.6375 2.03359 14.6375C3.15059 14.6375 4.05938 13.7287 4.05938 12.6117V10.5859Z"
                                                        fill="#E01E5A" />
                                                    <path
                                                        d="M0 7.32297C0 8.4768 0.938672 9.41547 2.0925 9.41547H7.32152C8.47539 9.41547 9.41406 8.4768 9.41406 7.32297C9.41406 6.16914 8.47539 5.23047 7.32156 5.23047H2.0925C0.938672 5.23043 0 6.16914 0 7.32297Z"
                                                        fill="#36C5F0" />
                                                    <path
                                                        d="M7.38906 4.05547H9.41484V2.02969C9.41484 0.912656 8.50605 0.00390625 7.38906 0.00390625C6.27203 0.00390625 5.36328 0.912695 5.36328 2.02969C5.36328 3.14668 6.27203 4.05547 7.38906 4.05547Z"
                                                        fill="#36C5F0" />
                                                    <path
                                                        d="M12.6784 9.41406C13.8323 9.41406 14.7709 8.47539 14.7709 7.32156V2.0925C14.771 0.938672 13.8323 0 12.6784 0C11.5246 0 10.5859 0.938672 10.5859 2.0925V7.32152C10.5859 8.47539 11.5246 9.41406 12.6784 9.41406Z"
                                                        fill="#2EB67D" />
                                                    <path
                                                        d="M15.9453 9.41484H17.9711C19.0881 9.41484 19.9969 8.50605 19.9969 7.38906C19.9969 6.27203 19.0881 5.36328 17.9711 5.36328C16.8541 5.36328 15.9453 6.27207 15.9453 7.38906V9.41484Z"
                                                        fill="#2EB67D" />
                                                    <path
                                                        d="M20 12.6784C20 11.5246 19.0613 10.5859 17.9075 10.5859H12.6784C11.5246 10.5859 10.5859 11.5246 10.5859 12.6784C10.5859 13.8323 11.5246 14.7709 12.6784 14.7709H17.9075C19.0613 14.771 20 13.8323 20 12.6784Z"
                                                        fill="#ECB22E" />
                                                    <path
                                                        d="M12.6117 15.9414H10.5859V17.9672C10.5859 19.0842 11.4947 19.993 12.6117 19.993C13.7287 19.993 14.6375 19.0842 14.6375 17.9672C14.6375 16.8502 13.7287 15.9414 12.6117 15.9414Z"
                                                        fill="#ECB22E" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_4742_116">
                                                        <rect width="20" height="20" fill="white" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                                viewBox="0 0 23 23" fill="none"
                                                *ngIf="item.attendanceSource == 'WHATSAPP'">
                                                <g clip-path="url(#clip0_4894_1292)">
                                                    <path
                                                        d="M0.536266 23C0.407116 23 0.281475 22.9489 0.188297 22.8547C0.065464 22.7305 0.0180854 22.5501 0.0642357 22.3814L1.55947 16.9213C0.628567 15.238 0.13776 13.3337 0.138462 11.4007C0.141094 5.11425 5.25692 0 11.5428 0C14.5917 0.00122833 17.4566 1.18885 19.6098 3.3437C21.7627 5.49872 22.9479 8.36337 22.947 11.4098C22.9442 17.6964 17.8284 22.811 11.5428 22.811C11.5428 22.811 11.5381 22.811 11.5379 22.811C9.70191 22.8103 7.8817 22.3628 6.261 21.5153L0.660328 22.984C0.619267 22.9947 0.577503 23 0.536266 23Z"
                                                        fill="#E5E5E5" />
                                                    <path
                                                        d="M0.535156 22.5095L2.08356 16.8551C1.12844 15.2002 0.626053 13.323 0.626755 11.3997C0.629211 5.38319 5.52534 0.488281 11.5417 0.488281C14.4613 0.48951 17.2017 1.62589 19.2625 3.68844C21.3231 5.75098 22.4576 8.49262 22.4565 11.4085C22.4539 17.4249 17.557 22.3205 11.5417 22.3205C11.5414 22.3205 11.5419 22.3205 11.5417 22.3205H11.537C9.71027 22.3198 7.9155 21.8616 6.3213 20.9921L0.535156 22.5095ZM6.58926 19.0168L6.92073 19.2132C8.31331 20.0396 9.90997 20.4768 11.5382 20.4776H11.5417C16.5417 20.4776 20.6114 16.4087 20.6135 11.4078C20.6144 8.98431 19.6717 6.7054 17.9589 4.99117C16.2459 3.27695 13.9684 2.33236 11.5451 2.33131C6.541 2.33131 2.47153 6.39972 2.4696 11.4004C2.4689 13.1141 2.9483 14.7829 3.85657 16.2271L4.0724 16.5703L3.15572 19.917L6.58926 19.0168Z"
                                                        fill="white" />
                                                    <path
                                                        d="M0.914062 22.13L2.40894 16.6711C1.48664 15.0736 1.0018 13.2611 1.00233 11.4047C1.00461 5.59649 5.73141 0.871094 11.5391 0.871094C14.358 0.872322 17.0036 1.9694 18.9927 3.96053C20.9822 5.95165 22.0772 8.59836 22.0761 11.413C22.0737 17.2214 17.3467 21.9473 11.5397 21.9473C11.5391 21.9473 11.5398 21.9473 11.5397 21.9473H11.5349C9.77157 21.9466 8.03874 21.5041 6.49982 20.6653L0.914062 22.13Z"
                                                        fill="#4DCB5B" />
                                                    <path
                                                        d="M0.535156 22.5095L2.08356 16.8551C1.12844 15.2002 0.626053 13.323 0.626755 11.3997C0.629211 5.38319 5.52534 0.488281 11.5417 0.488281C14.4613 0.48951 17.2017 1.62589 19.2625 3.68844C21.3231 5.75098 22.4576 8.49262 22.4565 11.4085C22.4539 17.4249 17.557 22.3205 11.5417 22.3205C11.5414 22.3205 11.5419 22.3205 11.5417 22.3205H11.537C9.71027 22.3198 7.9155 21.8616 6.3213 20.9921L0.535156 22.5095ZM6.58926 19.0168L6.92073 19.2132C8.31331 20.0396 9.90997 20.4768 11.5382 20.4776H11.5417C16.5417 20.4776 20.6114 16.4087 20.6135 11.4078C20.6144 8.98431 19.6717 6.7054 17.9589 4.99117C16.2459 3.27695 13.9684 2.33236 11.5451 2.33131C6.541 2.33131 2.47153 6.39972 2.4696 11.4004C2.4689 13.1141 2.9483 14.7829 3.85657 16.2271L4.0724 16.5703L3.15572 19.917L6.58926 19.0168Z"
                                                        fill="white" />
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M8.81441 6.83702C8.61016 6.38289 8.39503 6.37377 8.2006 6.36587C8.04162 6.35903 7.85965 6.35938 7.67803 6.35938C7.49624 6.35938 7.20074 6.42781 6.95086 6.70068C6.70081 6.97354 5.99609 7.63333 5.99609 8.9752C5.99609 10.3172 6.9735 11.6138 7.10984 11.796C7.24619 11.9779 8.99656 14.8196 11.7686 15.9128C14.0724 16.8214 14.5411 16.6407 15.0412 16.5953C15.5413 16.5498 16.6547 15.9355 16.8819 15.2987C17.1093 14.6619 17.1093 14.1161 17.0411 14.0019C16.9728 13.8884 16.791 13.8201 16.5183 13.6838C16.2457 13.5474 14.9048 12.8874 14.6548 12.7965C14.4047 12.7055 14.2229 12.6602 14.0411 12.9332C13.8592 13.2059 13.337 13.8201 13.1778 14.0019C13.0186 14.1842 12.8595 14.207 12.5868 14.0705C12.3141 13.9338 11.4357 13.646 10.3937 12.7169C9.583 11.9941 9.03551 11.1013 8.87636 10.8282C8.71738 10.5555 8.87373 10.4208 8.99621 10.2718C9.21678 10.0035 9.58686 9.52111 9.67776 9.33931C9.76865 9.15717 9.72321 8.99801 9.65512 8.86149C9.58686 8.72515 9.05675 7.37644 8.81441 6.83702Z"
                                                        fill="white" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_4894_1292">
                                                        <rect width="23" height="23" fill="white" />
                                                    </clipPath>
                                                </defs>
                                            </svg>

                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                viewBox="0 0 50 50" fill="none" *ngIf="item.attendanceSource == 'LENS'">
                                                <g clip-path="url(#clip0_561_5201)">
                                                    <path
                                                        d="M13.96 0C14.4075 0.157524 14.77 0.410062 14.93 0.880132C15.2125 1.71526 14.5925 2.55538 13.675 2.57039C12.9675 2.58289 12.26 2.57039 11.5525 2.57289C10.3575 2.57289 9.1625 2.55538 7.9675 2.58039C4.9775 2.6404 2.635 4.97825 2.585 7.9662C2.555 9.84398 2.575 11.7218 2.5775 13.602C2.5775 14.0996 2.405 14.5097 1.98 14.7872C1.29 15.2373 0.3925 14.9347 0.085 14.1596C0.0575 14.0921 0.0275 14.0271 0 13.9621C0 11.8143 0 9.66645 0 7.51863C0.015 7.45612 0.035 7.39361 0.0425 7.3311C0.3725 3.78557 2.8875 0.945142 6.37 0.192529C6.7475 0.110017 7.135 0.0625094 7.5175 0H13.96Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M42.4658 0C42.8658 0.0650098 43.2683 0.115017 43.6633 0.20003C47.1008 0.937641 49.6633 3.86808 49.9408 7.37361C49.9658 7.69866 49.9783 8.0237 49.9808 8.34875C49.9833 10.1315 49.9858 11.9118 49.9808 13.6946C49.9808 14.3272 49.5483 14.8497 48.9483 14.9747C48.3708 15.0948 47.7708 14.7947 47.5333 14.2296C47.4483 14.0271 47.4133 13.7896 47.4133 13.567C47.4033 11.7768 47.4083 9.9865 47.4083 8.19873C47.4083 6.50598 46.8108 5.06826 45.5383 3.94059C44.6008 3.10797 43.4908 2.62789 42.2383 2.60039C40.2883 2.55538 38.3333 2.58039 36.3833 2.58039C35.8833 2.58039 35.4733 2.40786 35.1983 1.9828C34.7483 1.29269 35.0508 0.395059 35.8258 0.0875131C35.8933 0.060009 35.9583 0.0325049 36.0233 0.00250038C38.1708 0.00250038 40.3183 0.00250038 42.4658 0.00250038V0Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M0 36.0273C0.1575 35.5797 0.41 35.2171 0.8825 35.0571C1.7175 34.7746 2.56 35.3947 2.5725 36.3148C2.585 37.1924 2.5725 38.0726 2.575 38.9502C2.575 39.9754 2.56 41.0005 2.5825 42.0257C2.645 45.0161 4.9825 47.3565 7.975 47.4065C9.8525 47.4365 11.7325 47.414 13.6125 47.4165C14.255 47.4165 14.75 47.7565 14.9325 48.3041C15.2025 49.1242 14.595 49.9794 13.72 49.9869C12.435 49.9969 11.15 49.9944 9.865 49.9869C9.035 49.9819 8.2025 50.0044 7.3775 49.9419C3.87 49.6768 0.9425 47.1064 0.2025 43.6684C0.1175 43.2734 0.0675 42.8683 0.0025 42.4707V36.0273H0Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M39.3212 47.4121C40.2237 47.4121 41.1287 47.4296 42.0312 47.4096C45.0062 47.3446 47.3487 45.0093 47.4012 42.0313C47.4337 40.1535 47.4087 38.2733 47.4112 36.393C47.4112 35.7529 47.7262 35.2728 48.2637 35.0728C49.0487 34.7827 49.9662 35.3503 49.9737 36.1879C49.9887 38.3283 50.0512 40.4711 49.9262 42.6039C49.7262 45.9944 47.3337 48.8223 44.0537 49.685C43.3612 49.8675 42.6287 49.9625 41.9137 49.9775C40.0362 50.0175 38.1562 49.995 36.2762 49.99C35.6612 49.99 35.1437 49.555 35.0187 48.9624C34.8962 48.3798 35.2062 47.7647 35.7787 47.5322C35.9687 47.4546 36.1887 47.4246 36.3962 47.4221C37.3712 47.4121 38.3487 47.4171 39.3237 47.4171V47.4121H39.3212Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M25.4116 40.3382C21.6716 40.3407 18.7616 39.253 16.2916 37.0027C15.6941 36.4576 15.6141 35.6625 16.1116 35.0924C16.6016 34.5273 17.4316 34.4873 18.0266 35.0274C19.1991 36.0951 20.5141 36.9302 22.0591 37.3127C25.6791 38.2154 28.9941 37.6528 31.8491 35.1149C32.2541 34.7549 32.6841 34.5473 33.2241 34.6923C34.2166 34.9574 34.5441 36.1951 33.7941 36.9027C32.4216 38.2004 30.8416 39.158 29.0366 39.7331C27.7241 40.1507 26.3791 40.3432 25.4116 40.3382Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M27.6262 23.5554C27.6262 25.0356 27.6312 26.5158 27.6262 27.996C27.6212 29.2037 27.2087 30.2214 26.1987 30.944C25.6112 31.364 24.9437 31.5491 24.2287 31.5666C23.8237 31.5766 23.4112 31.5916 23.0112 31.5391C22.3462 31.4491 21.8712 30.8165 21.9262 30.1614C21.9812 29.4938 22.5312 28.9637 23.1987 28.9462C23.4837 28.9387 23.7687 28.9462 24.0537 28.9437C24.7312 28.9362 24.9937 28.6736 24.9937 27.9885C24.9937 24.9706 24.9937 21.9526 24.9937 18.9347C24.9937 18.4221 25.1887 18.0145 25.6212 17.742C26.0462 17.4745 26.4962 17.4595 26.9412 17.7095C27.3987 17.967 27.6262 18.3696 27.6262 18.8922C27.6312 20.4449 27.6262 22.0001 27.6262 23.5529V23.5554Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M13.5898 20.6583C13.5898 20.0882 13.5898 19.5206 13.5898 18.9505C13.5898 18.4654 13.7548 18.0554 14.1548 17.7678C14.8798 17.2503 15.8798 17.6803 16.0573 18.5805C16.0648 18.6205 16.0748 18.6605 16.0748 18.7005C16.0748 20.0157 16.1048 21.3334 16.0598 22.6486C16.0373 23.3237 15.4523 23.7937 14.8223 23.7862C14.1973 23.7787 13.6523 23.2812 13.6148 22.6086C13.5773 21.961 13.6073 21.3084 13.6073 20.6583H13.5923H13.5898Z"
                                                        fill="#386EF9" />
                                                    <path
                                                        d="M34.2094 20.6507C34.2094 20.0256 34.1944 19.398 34.2144 18.7729C34.2319 18.1953 34.6619 17.6878 35.1894 17.5727C35.9444 17.4102 36.6744 17.9778 36.6944 18.8029C36.7219 20.0456 36.7194 21.2908 36.6944 22.536C36.6794 23.2611 36.0969 23.7962 35.4244 23.7862C34.7569 23.7737 34.2269 23.2136 34.2094 22.481C34.1969 21.8709 34.2069 21.2608 34.2069 20.6507H34.2119H34.2094Z"
                                                        fill="#386EF9" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_561_5201">
                                                        <rect width="50" height="50" fill="white" />
                                                    </clipPath>
                                                </defs>
                                            </svg>

                                            <img src="assets/images/hajiri-icon.svg" style="width: 22px; height: 22px;"
                                                *ngIf="item.attendanceSource == 'DASHBOARD'">


                                            <!-- <span *ngIf="!item.attendanceSource">No Source</span> -->

                                        </td>
                                        <td class="text-left">
                                            <div class="team-maneger mb-0 table-font-weight schedule"
                                                *ngIf="item.shiftInTime">
                                                <h5 class="mb-0 font-12"> {{item.shiftInTime | date:'shortTime'}} -
                                                    {{item.shiftOutTime | date:'shortTime'}} <span
                                                        class="lat">({{convertToHourMinuteFormat(item.totalWorkingHour)}})</span>
                                                </h5>
                                                <p class="mb-0 font-10">Shift: {{item.shiftType}}</p>
                                            </div>
                                            <div class="" *ngIf="!item.shiftInTime">
                                                <!-- <h5 class="mb-0 font-12"> {{item.shiftInTime | date:'shortTime'}} -  {{item.shiftOutTime | date:'shortTime'}} <span class="lat">({{convertToHourMinuteFormat(item.totalWorkingHour)}})</span></h5> -->
                                                <h5 class="mb-0 font-10">--</h5>
                                            </div>
                                        </td>
                                        <td class="text-left">

                                            <span class="team-maneger mb-0 table-font-weight">
                                                {{item.checkInTime | date:'shortTime'}} <br>
                                                <span class="text-danger font-11" *ngIf=" item.status == 'Late'" > Late - {{convertSecondsToHMS(+item.lateMinutes)}}</span>
                                                <span class="text-danger font-11" *ngIf=" item.status == 'Half Day'" > Half Day - {{convertSecondsToHMS(+item.halfDayMinutes)}}</span>
                                            </span>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 table-font-weight"
                                                *ngIf="item.checkOutTime && (item.currentStatus == 'out')">
                                                {{item.checkOutTime | date:'shortTime'}} &nbsp; <span
                                                    class="text-primary font-12"
                                                    *ngIf="item.checkoutType == 'SYSTEM_GENERATED'">System</span>
                                            </span>
                                            <span class="team-maneger mb-0 table-font-weight"
                                                *ngIf="(item.currentStatus != 'out')">
                                                <span class="text-primary font-12">Working</span>
                                            </span>
                                        </td>

                                        <td class="text-center">
                                            <!-- To DO: Make it dynamic break time -->
                                            <!-- <span *ngIf="item.breakCount > 0" class="team-maneger mb-0 table-font-weight" nz-popover
                                            nzPopoverTitle="Break Logs" [nzPopoverContent]=""
                                            [nzPopoverOverlayStyle]="{'width':'250px'}">
                                                {{item.breakCount}}
                                            </span> -->
                                            <span

                                                class="team-manager mb-0 table-font-weight"
                                                nz-popover
                                                nzPopoverTitle="Break Logs"
                                                [nzPopoverContent]="breakLogsContent"
                                                [nzPopoverOverlayStyle]="{'width':'250px'}"
                                                (mouseover)="getUserBreakTimingsReportByDate(item.createdDate.toString())">
                                                {{item.breakCount}}
                                            </span>
                                            <ng-template #breakLogsContent>
                                                <div class="total-break-time">
                                                  <div *ngIf="breakTimingsList?.length; else noDataTemplate">
                                                    <table class="table">
                                                      <thead class="table-light">
                                                        <tr>
                                                          <th class="text-left">Break</th>
                                                          <th class="text-left">Back</th>
                                                        </tr>
                                                      </thead>
                                                    </table>
                                                    <div class="break-times-scrollable">
                                                      <table class="table">
                                                        <tbody>
                                                          <tr *ngFor="let breakTiming of breakTimingsList">
                                                            <td class="text-left">
                                                              {{ breakTiming.breakTime | date: 'shortTime' }}
                                                            </td>
                                                            <td class="text-left">
                                                              {{ breakTiming.backTime | date: 'shortTime' }}
                                                            </td>
                                                          </tr>
                                                        </tbody>
                                                      </table>
                                                    </div>
                                                  </div>
                                                  <ng-template #noDataTemplate>
                                                    <p>No break logs available.</p>
                                                  </ng-template>
                                                </div>
                                              </ng-template>

                                            <!-- <span *ngIf="item.breakCount == 0" class="team-maneger mb-0 table-font-weight">
                                                {{item.breakCount}}
                                            </span> -->
                                        </td>


                                        <td>
                                            <span class="team-maneger text-center mb-0 table-font-weight">
                                                {{convertToHourMinuteFormat(item.totalBreakHours)}}</span>
                                        </td>

                                        <td class="text-left">
                                            <span class="team-maneger text-center mb-0 table-font-weight">
                                                {{convertToHourMinuteFormat(item.totalWorkedHour)}}</span>
                                        </td>
                                        <td class="text-left">
                                            <div class="">
                                                <div>
                                                    <span class="team-manager mb-0 table-font-weight" [ngClass]="{
                                              'text-danger': checkTimeNegative(item.workingHourDifference),
                                              'text-success': !checkTimeNegative(item.workingHourDifference)
                                            }" *ngIf="item.workingHourDifference && (item.currentStatus == 'out')">
                                                        {{
                                                        convertToHourMinuteFormatNegativeCase(item.workingHourDifference)
                                                        }}
                                                    </span>
                                                    <span class="team-manager mb-0 table-font-weight"
                                                        *ngIf="(item.currentStatus != 'out')">
                                                        --
                                                    </span>
                                                </div>

                                                <button class="text-primary btn p-0 font-13 fw-semibold"
                                                    data-bs-toggle="modal" data-bs-target="#viewlog"
                                                    (click)="viewLogs(item.createdDate.toString())">
                                                    View Logs</button>
                                            </div>

                                        </td>


                                    </tr>


                                    <tr class="week-holiday"
                                        *ngIf="(item.status == 'Custom Holiday' || item.status == 'Universal Holiday')">
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 ">
                                                {{item.createdDate | date:'fullDate'}}</span>
                                        </td>
                                        <td class="text-center">
                                            <span class="team-maneger mb-0 text-warning">
                                                Holiday
                                            </span>
                                        </td>
                                        <td class="text-center">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>

                                        <td class="text-center">

                                        </td>
                                        <td>

                                        </td>

                                        <td class="text-left">

                                        </td>
                                        <td class=" text-left">

                                        </td>
                                    </tr>
                                    <!-- week off  -->
                                    <tr class="week-off" *ngIf="item.status == 'Weekly Holiday'">
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 ">
                                                {{item.createdDate | date:'fullDate'}}</span>
                                        </td>
                                        <td class="text-center">
                                            <span class="team-maneger mb-0 text-primary">
                                                W-off
                                            </span>
                                        </td>
                                        <td class="text-center">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>

                                        <td class="text-center">

                                        </td>
                                        <td>

                                        </td>

                                        <td class="text-left">

                                        </td>
                                        <td class=" text-left">

                                        </td>
                                    </tr>
                                    <!-- leave  -->
                                    <tr class="week-leave"
                                        *ngIf="item.status.toLowerCase().includes('paid leave') || item.status.toLowerCase().includes('unpaid leave')">
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 ">
                                                {{item.createdDate | date:'fullDate'}}</span>
                                        </td>
                                        <td class="text-center">
                                            <span class="team-maneger mb-0 text-black">
                                                {{item.status}}
                                            </span>
                                        </td>
                                        <td class="text-center">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>

                                        <td class="text-center">

                                        </td>
                                        <td>

                                        </td>

                                        <td class="text-left">

                                        </td>
                                        <td class=" text-left">

                                        </td>
                                    </tr>
                                    <!-- absent -->
                                    <tr class="week-absent" *ngIf="item.status == 'Absent'">
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 ">
                                                {{item.createdDate | date:'fullDate'}}</span>
                                        </td>
                                        <td class="text-center">
                                            <span class="team-maneger mb-0 text-danger">
                                                Absent
                                            </span>
                                        </td>
                                        <td class="text-center">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>
                                        <td class="text-left">

                                        </td>

                                        <td class="text-center">

                                        </td>
                                        <td>

                                        </td>

                                        <td class="text-left">

                                        </td>
                                        <td class=" text-left">

                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>


                    </div>


                </div>

                <div class="tab-pane fade pt-3" id="leaves" role="tabpanel" aria-labelledby="leaves-tab">
                    <div class="leave-summary">
                        <div class="row">
                            <div class="col-md-8" style="border-right: 1px solid #f1f1f1;">
                                <div class="row">
                                    <div *ngFor="let category of userLeave" class="col-md-12">
                                        <div class="row" *ngIf="category.isHidden==0">
                                            <div class="col-md-3">
                                                <div class="leave-summery-box p-3">
                                                    <h5 class="font-13 mb-0">{{ category.leaveType }}</h5>
                                                </div>
                                            </div>

                                            <div class="col-md-3 col-md-3-summary">
                                                <div class="attendance-summery p-2">
                                                    <h5 class="mb-0 font-15">{{ category.totalQuota }}</h5>
                                                    <!-- <p class="mb-0 font-12">Total</p> -->
                                                    <p class="mb-0 font-12">Allocated</p>

                                                </div>
                                            </div>
                                            <div class="col-md-3 col-md-3-summary">
                                                <div class="attendance-summery p-2">
                                                    <h5 class="mb-0 font-15">{{ category.approved }}</h5>
                                                    <p class="mb-0 font-12 text-success">Approved</p>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-md-3-summary">
                                                <div class="attendance-summery p-2">
                                                    <h5 class="mb-0 font-15">{{ category.applied }}</h5>
                                                    <p class="mb-0 font-12 text-warning">Pending</p>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-md-3-summary">
                                                <div class="attendance-summery p-2">
                                                    <h5 class="mb-0 font-15">{{ category.remainingQuota }}</h5>
                                                    <p class="mb-0 font-12 text-primary">Remaining</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4"></div>
                        </div>

                        <div class="obboard-employee-list">
                            <div class="onboard-add row align-items-center mx-0">
                                <div class="col-md-12 p-0">
                                    <div class="row justify-content-between align-items-center mx-0">
                                        <div class="col-lg-12 col-md-12 col-sm-12 ps-0">
                                            <div class="d-flex justify-content-start align-items-center">
                                                <!-- Leave Type Filter -->
                                                <div class="dropdown empFilerDropfilter">
                                                    <button type="button" id="leaveTypeDropdown"
                                                        data-bs-toggle="dropdown" aria-expanded="false"
                                                        class="btn btn-secondary dropdown-toggle new-deopdown">
                                                        {{ selectedLeaveType }} <i class="bi bi-chevron-down"></i>
                                                    </button>
                                                    <ul class="dropdown-menu" aria-labelledby="leaveTypeDropdown">
                                                        <li *ngFor="let type of leaveTypes">
                                                            <a class="dropdown-item" (click)="updateLeaveType(type)"
                                                                [class.active]="selectedLeaveType === type">
                                                                {{ type }}
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <!-- Status Filter -->
                                                <div class="dropdown empFilerDropfilter">
                                                    <button type="button" id="statusDropdown" data-bs-toggle="dropdown"
                                                        aria-expanded="false"
                                                        class="btn btn-secondary dropdown-toggle new-deopdown">
                                                        {{ selectedStatus }} <i class="bi bi-chevron-down"></i>
                                                    </button>
                                                    <ul class="dropdown-menu" aria-labelledby="statusDropdown">
                                                        <li *ngFor="let status of statuses">
                                                            <a class="dropdown-item" (click)="updateStatus(status)"
                                                                [class.active]="selectedStatus === status">
                                                                {{ status }}
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <!-- Search -->
                                                <div
                                                    class="onboarding-date d-flex align-items-center justify-content-between position-relative w-100">
                                                    <form novalidate
                                                        class="searching d-flex align-items-center justify-content-between w-100">
                                                        <div class="form-group w-100 position-relative">
                                                            <input type="text" id="searchText" #searchInput
                                                                [value]="searchQuery"
                                                                (input)="updateSearch(searchInput.value)"
                                                                placeholder="Search by name.."
                                                                class="form-control me-2 w-100"
                                                                style="padding: 10px 45px;" />

                                                            <i class="bi bi-search search-icon"></i>

                                                            <!-- <i class="bi bi-x reset-icon text-primary pointer"></i> -->
                                                        </div>
                                                    </form>
                                                </div>
                                                <div>
                                                    <!--  *ngIf="userId==currentUserUuid && (dataService.resignationInfo==null || dataService.resignationInfo==undefined)" -->
                                                    <ng-container *ngIf="isUserLeaveTaken && isUserLeaveTaken == 1 && userId==currentUserUuid">
                                                        <button type="button" class="btn primaryBtnLink leave-request"
                                                            (click)="applyNewLeaveReq()">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20"
                                                                height="21" viewBox="0 0 20 21" fill="none">
                                                                <mask id="mask0_5145_1779" style="mask-type:alpha"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="20"
                                                                    height="21">
                                                                    <rect y="0.5" width="20" height="20"
                                                                        fill="#D9D9D9" />
                                                                </mask>
                                                                <g mask="url(#mask0_5145_1779)">
                                                                    <path
                                                                        d="M11.668 11.332H15.8346V9.66536H11.668V11.332ZM11.668 8.83203H15.8346V7.16536H11.668V8.83203ZM4.16797 13.832H10.8346V13.3737C10.8346 12.7487 10.5291 12.2522 9.91797 11.8841C9.30686 11.5161 8.5013 11.332 7.5013 11.332C6.5013 11.332 5.69575 11.5161 5.08464 11.8841C4.47352 12.2522 4.16797 12.7487 4.16797 13.3737V13.832ZM7.5013 10.4987C7.95964 10.4987 8.352 10.3355 8.67839 10.0091C9.00477 9.68273 9.16797 9.29036 9.16797 8.83203C9.16797 8.3737 9.00477 7.98134 8.67839 7.65495C8.352 7.32856 7.95964 7.16536 7.5013 7.16536C7.04297 7.16536 6.65061 7.32856 6.32422 7.65495C5.99783 7.98134 5.83464 8.3737 5.83464 8.83203C5.83464 9.29036 5.99783 9.68273 6.32422 10.0091C6.65061 10.3355 7.04297 10.4987 7.5013 10.4987ZM3.33464 17.1654C2.8763 17.1654 2.48394 17.0022 2.15755 16.6758C1.83116 16.3494 1.66797 15.957 1.66797 15.4987V5.4987C1.66797 5.04036 1.83116 4.648 2.15755 4.32161C2.48394 3.99523 2.8763 3.83203 3.33464 3.83203H16.668C17.1263 3.83203 17.5187 3.99523 17.8451 4.32161C18.1714 4.648 18.3346 5.04036 18.3346 5.4987V15.4987C18.3346 15.957 18.1714 16.3494 17.8451 16.6758C17.5187 17.0022 17.1263 17.1654 16.668 17.1654H3.33464ZM3.33464 15.4987H16.668V5.4987H3.33464V15.4987Z"
                                                                        fill="#6666F2" />
                                                                </g>
                                                            </svg>

                                                            Leave Request
                                                        </button>
                                                    </ng-container>

                                                    <ng-container *ngIf="isUserLeaveTaken == 0 && userId==currentUserUuid">
                                                        <button type="button" nz-popover nzPopoverTitle="Note"
                                                            [nzPopoverContent]="contentTemplate"
                                                            [nzPopoverOverlayStyle]="{'width':'300px'}"
                                                            class="btn primaryBtnLink leave-request" (click)="applyNewLeaveReq()"
                                                            *ngIf="UUID==currentUserUuid">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20"
                                                                height="21" viewBox="0 0 20 21" fill="none">
                                                                <mask id="mask0_5145_1779" style="mask-type:alpha"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="20"
                                                                    height="21">
                                                                    <rect y="0.5" width="20" height="20"
                                                                        fill="#D9D9D9" />
                                                                </mask>
                                                                <g mask="url(#mask0_5145_1779)">
                                                                    <path
                                                                        d="M11.668 11.332H15.8346V9.66536H11.668V11.332ZM11.668 8.83203H15.8346V7.16536H11.668V8.83203ZM4.16797 13.832H10.8346V13.3737C10.8346 12.7487 10.5291 12.2522 9.91797 11.8841C9.30686 11.5161 8.5013 11.332 7.5013 11.332C6.5013 11.332 5.69575 11.5161 5.08464 11.8841C4.47352 12.2522 4.16797 12.7487 4.16797 13.3737V13.832ZM7.5013 10.4987C7.95964 10.4987 8.352 10.3355 8.67839 10.0091C9.00477 9.68273 9.16797 9.29036 9.16797 8.83203C9.16797 8.3737 9.00477 7.98134 8.67839 7.65495C8.352 7.32856 7.95964 7.16536 7.5013 7.16536C7.04297 7.16536 6.65061 7.32856 6.32422 7.65495C5.99783 7.98134 5.83464 8.3737 5.83464 8.83203C5.83464 9.29036 5.99783 9.68273 6.32422 10.0091C6.65061 10.3355 7.04297 10.4987 7.5013 10.4987ZM3.33464 17.1654C2.8763 17.1654 2.48394 17.0022 2.15755 16.6758C1.83116 16.3494 1.66797 15.957 1.66797 15.4987V5.4987C1.66797 5.04036 1.83116 4.648 2.15755 4.32161C2.48394 3.99523 2.8763 3.83203 3.33464 3.83203H16.668C17.1263 3.83203 17.5187 3.99523 17.8451 4.32161C18.1714 4.648 18.3346 5.04036 18.3346 5.4987V15.4987C18.3346 15.957 18.1714 16.3494 17.8451 16.6758C17.5187 17.0022 17.1263 17.1654 16.668 17.1654H3.33464ZM3.33464 15.4987H16.668V5.4987H3.33464V15.4987Z"
                                                                        fill="#6666F2" />
                                                                </g>
                                                            </svg>
                                                            Leave Request
                                                        </button>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="table-responsive bg-white mt-3">

                            <table class="table empOnnoardtable">
                                <thead class="thead-light">
                                    <tr>
                                        <th class="text-left font-13" style="width: 10%">Apply On</th>
                                        <th class="text-left font-13" style="width: 10%">Date</th>
                                        <th class="text-left font-13" style="width: 10%">Type</th>
                                        <th class="text-left font-13" style="width: 10%">Requested To</th>
                                        <th class="text-left font-13" style="width: 10%">Approved by</th>
                                        <th class="text-left font-13" style="width: 10%">Action Taken on</th>
                                        <th class="text-left font-13" style="width: 20%">Leave Note</th>
                                        <th class="text-left font-13" style="width: 10%">Reject/ cancellation reason
                                        </th>
                                        <th class="text-left font-13" style="width: 10%">Status</th>
                                    </tr>
                                </thead>

                                <tbody *ngIf="isLoading">
                                    <tr *ngFor="let item of [].constructor(7)">
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="userLeaveLog?.length === 0">
                                    <tr>
                                        <td colspan="8">
                                            <div class="empty-file" style="margin-top: 7%; margin-bottom: 7%">
                                                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                                    [nzNotFoundContent]="contentTpl">
                                                    <ng-template #contentTpl>
                                                        <p class="mb-1 empty-detail">No data for now</p>
                                                    </ng-template>
                                                </nz-empty>
                                            </div>

                                        </td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="!isLoading">

                                    <tr *ngFor="let item of userLeaveLog">
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 table-font-weight">{{ item.createdDate |
                                                date: 'EEE, d MMM yy' }}</span>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-maneger mb-0">{{ item.startDate | date: 'd MMM yy' }} - {{
                                                item.endDate | date: 'd MMM yy' }}</span>
                                            <p class="mb-0 font-10">
                                                {{ item.totalDays }} Day
                                                <span class="text-primary" *ngIf="item.firstHalf">(1st half)</span>
                                                <span class="text-primary" *ngIf="item.secondHalf">(2nd half)</span>
                                            </p>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-maneger mb-0">{{ item.leaveType }}</span>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 table-font-weight">{{ item.requestedTo ||
                                                'N/A' }}</span>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-maneger mb-0 table-font-weight"
                                                [class.text-warning]="item.status === 'Pending'">{{ item.approvedBy ||
                                                'N/A' }}</span>
                                        </td>
                                        <td class="text-left">
                                            <span class="team-manager mb-0 table-font-weight">
                                                {{ item.updatedDate ? (item.updatedDate | date: 'd MMM yyyy') : 'N/A' }}
                                            </span>

                                        </td>
                                        <td>
                                            <span class="team-maneger mb-0 table-font-weight white-space" nz-popover
                                                nzPopoverTitle="Note" [nzPopoverContent]="leaveNotes"
                                                [nzPopoverOverlayStyle]="{'width':'300px'}">{{
                                                item.optNotes || 'N/A'}}</span>
                                            <ng-template #leaveNotes>
                                                {{ item.optNotes || 'N/A'}}
                                            </ng-template>
                                        </td>
                                        <td>
                                            <span class="team-maneger mb-0 table-font-weight white-space">{{
                                                item.rejectionReason || 'N/A' }}</span>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center gap-2">
                                                <ng-container [ngSwitch]="item.status">
                                                    <!-- Pending Status -->
                                                    <ng-container *ngSwitchCase="'pending'">
                                                        <!-- Pending Button -->
                                                        <span class="badge rounded-pill badge-soft-warning"> Pending
                                                        </span>

                                                        <!-- Delete Button -->
                                                        <button *ngIf="userId==currentUserUuid"
                                                            class="icon-button d-none"
                                                            (click)="openDeleteConfirmation(item.id)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20"
                                                                height="20" viewBox="0 0 20 20" fill="none">
                                                                <mask id="mask0_4901_3722" style="mask-type:alpha"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="20"
                                                                    height="20">
                                                                    <rect width="20" height="20" fill="#D9D9D9" />
                                                                </mask>
                                                                <g mask="url(#mask0_4901_3722)">
                                                                    <path
                                                                        d="M5.83203 17.5C5.3737 17.5 4.98134 17.3368 4.65495 17.0104C4.32856 16.684 4.16536 16.2917 4.16536 15.8333V5H3.33203V3.33333H7.4987V2.5H12.4987V3.33333H16.6654V5H15.832V15.8333C15.832 16.2917 15.6688 16.684 15.3424 17.0104C15.0161 17.3368 14.6237 17.5 14.1654 17.5H5.83203ZM14.1654 5H5.83203V15.8333H14.1654V5ZM7.4987 14.1667H9.16536V6.66667H7.4987V14.1667ZM10.832 14.1667H12.4987V6.66667H10.832V14.1667Z"
                                                                        fill="#FF0404" />
                                                                </g>
                                                            </svg>
                                                        </button>

                                                    </ng-container>

                                                    <!-- Approved Status -->
                                                    <ng-container *ngSwitchCase="'approved'">
                                                        <span class="badge rounded-pill badge-soft-success">
                                                            Approved
                                                        </span>
                                                    </ng-container>

                                                    <!-- Rejected Status -->
                                                    <ng-container *ngSwitchCase="'rejected'">
                                                        <span class="badge rounded-pill badge-soft-danger">
                                                            Rejected
                                                        </span>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div *ngIf="totalPages>1"
                            class="d-flex align-items-center justify-content-between pagination-box-profile p-3 bg-white border-top">
                            <p>
                                Showing 0 - 0 of {{ totalItems }} users
                            </p>
                            <ngb-pagination class="pagition-box" [collectionSize]="totalItems" [rotate]="true"
                                (pageChange)="pageChanged($event)" [pageSize]="pageSize" [(page)]="currentPage"
                                [maxSize]="8" [boundaryLinks]="true">
                            </ngb-pagination>
                        </div>


                    </div>
                </div>
                <div class="tab-pane fade pt-3" id="viewrequests" role="tabpanel" aria-labelledby="viewrequests-tab">



                    <!-- <div class="d-flex align-items-center justify-content-between">
                        <div class="d-flex align-items-center attendance-date">
                            <span class=" d-flex align-items-center justify-content-center pointer calendar-back-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                    <mask id="mask0_4719_1625" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="21"
                                        height="21">
                                        <rect x="0.5" y="0.5" width="20" height="20" fill="#D9D9D9" />
                                    </mask>
                                    <g mask="url(#mask0_4719_1625)">
                                        <path
                                            d="M8.83203 15.5L3.83203 10.5L8.83203 5.5L9.9987 6.70833L7.04036 9.66667H17.1654V11.3333H7.04036L9.9987 14.2917L8.83203 15.5Z"
                                            fill="#060606" />
                                    </g>
                                </svg>
                            </span>
                            <span class="calendar-separator"></span>
                            <div class="dropdown ">
                                <nz-date-picker nzMode="month" nzFormat="MMM, yyyy"></nz-date-picker>
                            </div>
                            <span class="calendar-separator"></span>
                            <span class=" d-flex align-items-center justify-content-center pointer calendar-back-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                    <mask id="mask0_4719_1639" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="21"
                                        height="21">
                                        <rect width="20" height="20" transform="matrix(-1 0 0 1 20.5 0.5)" fill="#D9D9D9" />
                                    </mask>
                                    <g mask="url(#mask0_4719_1639)">
                                        <path
                                            d="M12.168 15.5L17.168 10.5L12.168 5.5L11.0013 6.70833L13.9596 9.66667H3.83464V11.3333H13.9596L11.0013 14.2917L12.168 15.5Z"
                                            fill="#060606" />
                                    </g>
                                </svg>
                            </span>
                        </div>

                        <div class="d-flex align-items-center justify-content-end gap-3 w-50">


                            <div class="btn-group week-data radio-btn" role="group" aria-label="Basic radio toggle button group">
                                <input type="radio" class="btn-check">
                                <label class="btn btn-outline-secondary font-12">30 DAYS</label>
                                <input type="radio" class="btn-check">
                                <label class="btn btn-outline-primary btn-primary font-12">Week 1</label>
                                <input type="radio" class="btn-check">
                                <label class="btn btn-outline-secondary font-12">Week 2</label>
                                <input type="radio" class="btn-check">
                                <label class="btn btn-outline-secondary font-12">Week 3</label>
                                <input type="radio" class="btn-check">
                                <label class="btn btn-outline-secondary font-12">Week 4</label>
                            </div>

                            <nz-select class="request-dropdown" nzSize="large" nzPlaceHolder="New Request" required>
                                <nz-option [nzValue]="'Attendance update'" [nzLabel]="'Attendance update'"></nz-option>
                                <nz-option [nzValue]="'Overtime'" [nzLabel]="'Overtime'"></nz-option>
                                <nz-option [nzValue]="'Lop reversal'" [nzLabel]="'Lop reversal'"></nz-option>
                            </nz-select>

                        </div>
                    </div> -->


                    <!-- <div class="table-responsive bg-white mt-3">




                        <table class="table empOnnoardtable">
                            <thead class="thead-light">
                                <tr>
                                    <th class=" text-left font-13 stickyColTh" style="width: 10%">
                                        Date
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                       10 AM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        11 AM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        12 PM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        1 PM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        2 PM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        3 PM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        5 PM
                                    </th>
                                    <th class="text-center font-13 attendance-request" style="width: 15%">
                                        6 PM
                                    </th>
                                    <th class="text-center font-13" style="width: 15%">
                                        7 PM
                                    </th>
                                    <th class="text-left font-13 stickyColThend" style="width: 10%">
                                        Request
                                    </th>
                                </tr>
                            </thead>

                            <tbody class="">
                                <tr class="">
                                    <td class="text-left stickyColTh">
                                        <span class="team-maneger mb-0 ">
                                            Mon, 1st Jun</span>
                                    </td>
                                    <td colspan="9" >
                                        <div class="d-flex align-items-center justify-content-between request-detail">
                                            <div class="in-time p-2">
                                                <h6 class="mb-0">10:08 AM</h6>
                                                <p class="mb-0">Work: 9hr</p>
                                            </div>
                                            <div class="break-time p-2">
                                                <h6 class="mb-0">Break</h6>
                                                <p class="mb-0">Hour: 01 hr</p>
                                            </div>
                                            <div class="text-end out-time p-2">
                                                <h6 class="mb-0">07:00 PM</h6>
                                                <p class="mb-0">Out</p>
                                            </div>

                                        </div>
                                    </td>
                                <td class="text-left stickyColThend">
                                    <div class="position-relative request-btn">
                                        <div class="d-flex align-items-center gap-2">
                                            <button class="btn p-0 Pending-btn text-primary font-13 "> 1 Request </button>

                                            <span class="edit-action-btn">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="15" viewBox="0 0 22 15" fill="none">
                                                    <path
                                                        d="M11 12C12.25 12 13.3125 11.5625 14.1875 10.6875C15.0625 9.8125 15.5 8.75 15.5 7.5C15.5 6.25 15.0625 5.1875 14.1875 4.3125C13.3125 3.4375 12.25 3 11 3C9.75 3 8.6875 3.4375 7.8125 4.3125C6.9375 5.1875 6.5 6.25 6.5 7.5C6.5 8.75 6.9375 9.8125 7.8125 10.6875C8.6875 11.5625 9.75 12 11 12ZM11 10.2C10.25 10.2 9.6125 9.9375 9.0875 9.4125C8.5625 8.8875 8.3 8.25 8.3 7.5C8.3 6.75 8.5625 6.1125 9.0875 5.5875C9.6125 5.0625 10.25 4.8 11 4.8C11.75 4.8 12.3875 5.0625 12.9125 5.5875C13.4375 6.1125 13.7 6.75 13.7 7.5C13.7 8.25 13.4375 8.8875 12.9125 9.4125C12.3875 9.9375 11.75 10.2 11 10.2ZM11 15C8.56667 15 6.35 14.3208 4.35 12.9625C2.35 11.6042 0.9 9.78333 0 7.5C0.9 5.21667 2.35 3.39583 4.35 2.0375C6.35 0.679167 8.56667 0 11 0C13.4333 0 15.65 0.679167 17.65 2.0375C19.65 3.39583 21.1 5.21667 22 7.5C21.1 9.78333 19.65 11.6042 17.65 12.9625C15.65 14.3208 13.4333 15 11 15ZM11 13C12.8833 13 14.6125 12.5042 16.1875 11.5125C17.7625 10.5208 18.9667 9.18333 19.8 7.5C18.9667 5.81667 17.7625 4.47917 16.1875 3.4875C14.6125 2.49583 12.8833 2 11 2C9.11667 2 7.3875 2.49583 5.8125 3.4875C4.2375 4.47917 3.03333 5.81667 2.2 7.5C3.03333 9.18333 4.2375 10.5208 5.8125 11.5125C7.3875 12.5042 9.11667 13 11 13Z"
                                                        fill="#1C1B1F" />
                                                </svg>
                                            </span>
                                        </div>


                                        <span class="request-loge p-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <h5>Request</h5>

                                                <div>
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                        <mask id="mask0_5429_4311" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                                                            width="24" height="24">
                                                            <rect width="24" height="24" fill="#D9D9D9" />
                                                        </mask>
                                                        <g mask="url(#mask0_5429_4311)">
                                                            <path
                                                                d="M8.4 17.0004L7 15.6004L10.6 12.0004L7 8.42539L8.4 7.02539L12 10.6254L15.575 7.02539L16.975 8.42539L13.375 12.0004L16.975 15.6004L15.575 17.0004L12 13.4004L8.4 17.0004Z"
                                                                fill="#1C1B1F" />
                                                        </g>
                                                    </svg>
                                                </div>
                                            </div>
                                            <div class="request-detail-log">
                                                <div class=" mt-2 d-flex align-items-center justify-content-between">
                                                    <div>
                                                        <div class="d-flex align-items-center gap-2">

                                                            <div>
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"
                                                                    fill="none">
                                                                    <mask id="mask0_5429_4330" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0"
                                                                        y="0" width="14" height="14">
                                                                        <rect width="14" height="14" fill="#D9D9D9" />
                                                                    </mask>
                                                                    <g mask="url(#mask0_5429_4330)">
                                                                        <path
                                                                            d="M3.49984 8.16602H8.1665V6.99935H3.49984V8.16602ZM3.49984 6.41602H10.4998V5.24935H3.49984V6.41602ZM3.49984 4.66602H10.4998V3.49935H3.49984V4.66602ZM1.1665 12.8327V2.33268C1.1665 2.01185 1.28074 1.7372 1.50921 1.50872C1.73768 1.28025 2.01234 1.16602 2.33317 1.16602H11.6665C11.9873 1.16602 12.262 1.28025 12.4905 1.50872C12.7189 1.7372 12.8332 2.01185 12.8332 2.33268V9.33268C12.8332 9.65352 12.7189 9.92817 12.4905 10.1566C12.262 10.3851 11.9873 10.4993 11.6665 10.4993H3.49984L1.1665 12.8327ZM3.004 9.33268H11.6665V2.33268H2.33317V9.98893L3.004 9.33268Z"
                                                                            fill="#F3A73D" />
                                                                    </g>
                                                                </svg>
                                                            </div>
                                                            <h6 class="font-13">Request</h6>

                                                        </div>
                                                        <h5 class="mb-2 mt-1 font-16">Attendance Update</h5>
                                                        <p class="mb-0 font-13">12/10/24</p>
                                                    </div>

                                                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="15" viewBox="0 0 22 15" fill="none">
                                                        <path
                                                            d="M11 12C12.25 12 13.3125 11.5625 14.1875 10.6875C15.0625 9.8125 15.5 8.75 15.5 7.5C15.5 6.25 15.0625 5.1875 14.1875 4.3125C13.3125 3.4375 12.25 3 11 3C9.75 3 8.6875 3.4375 7.8125 4.3125C6.9375 5.1875 6.5 6.25 6.5 7.5C6.5 8.75 6.9375 9.8125 7.8125 10.6875C8.6875 11.5625 9.75 12 11 12ZM11 10.2C10.25 10.2 9.6125 9.9375 9.0875 9.4125C8.5625 8.8875 8.3 8.25 8.3 7.5C8.3 6.75 8.5625 6.1125 9.0875 5.5875C9.6125 5.0625 10.25 4.8 11 4.8C11.75 4.8 12.3875 5.0625 12.9125 5.5875C13.4375 6.1125 13.7 6.75 13.7 7.5C13.7 8.25 13.4375 8.8875 12.9125 9.4125C12.3875 9.9375 11.75 10.2 11 10.2ZM11 15C8.56667 15 6.35 14.3208 4.35 12.9625C2.35 11.6042 0.9 9.78333 0 7.5C0.9 5.21667 2.35 3.39583 4.35 2.0375C6.35 0.679167 8.56667 0 11 0C13.4333 0 15.65 0.679167 17.65 2.0375C19.65 3.39583 21.1 5.21667 22 7.5C21.1 9.78333 19.65 11.6042 17.65 12.9625C15.65 14.3208 13.4333 15 11 15ZM11 13C12.8833 13 14.6125 12.5042 16.1875 11.5125C17.7625 10.5208 18.9667 9.18333 19.8 7.5C18.9667 5.81667 17.7625 4.47917 16.1875 3.4875C14.6125 2.49583 12.8833 2 11 2C9.11667 2 7.3875 2.49583 5.8125 3.4875C4.2375 4.47917 3.03333 5.81667 2.2 7.5C3.03333 9.18333 4.2375 10.5208 5.8125 11.5125C7.3875 12.5042 9.11667 13 11 13Z"
                                                            fill="#1C1B1F" />
                                                    </svg>
                                                </div>
                                            </div>
                                        </span>

                                    </div>
                                </td>

                                </tr>
                                <tr class="">
                                    <td class="text-left stickyColTh">
                                        <span class="team-maneger mb-0 ">
                                            Mon, 1st Jun</span>
                                    </td>
                                    <td colspan="9">
                                    <div class="d-flex align-items-center justify-content-between request-detail">
                                        <div class="in-time let-intime p-2">
                                            <h6 class="mb-0">10:15 AM</h6>
                                            <p class="mb-0">Work: 9hr</p>
                                        </div>
                                        <div class="break-time p-2">
                                            <h6 class="mb-0">Break</h6>
                                            <p class="mb-0">Hour: 30 min</p>
                                        </div>
                                        <div class="break-time p-2">
                                            <h6 class="mb-0">Break</h6>
                                            <p class="mb-0">Hour: 15 min</p>
                                        </div>
                                        <div class="over-time p-2">
                                            <h6 class="mb-0">Overtime</h6>
                                            <p class="mb-0">Hour: 2hr</p>
                                        </div>

                                    </div>
                                    </td>
                                    <td class="text-left stickyColThend">
                                        <div class="d-flex align-items-center gap-2">
                                            <button class="btn p-0 Pending-btn text-primary font-13"> 1 Request </button>
                                            <span class="edit-action-btn">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="15" viewBox="0 0 22 15" fill="none">
                                                    <path
                                                        d="M11 12C12.25 12 13.3125 11.5625 14.1875 10.6875C15.0625 9.8125 15.5 8.75 15.5 7.5C15.5 6.25 15.0625 5.1875 14.1875 4.3125C13.3125 3.4375 12.25 3 11 3C9.75 3 8.6875 3.4375 7.8125 4.3125C6.9375 5.1875 6.5 6.25 6.5 7.5C6.5 8.75 6.9375 9.8125 7.8125 10.6875C8.6875 11.5625 9.75 12 11 12ZM11 10.2C10.25 10.2 9.6125 9.9375 9.0875 9.4125C8.5625 8.8875 8.3 8.25 8.3 7.5C8.3 6.75 8.5625 6.1125 9.0875 5.5875C9.6125 5.0625 10.25 4.8 11 4.8C11.75 4.8 12.3875 5.0625 12.9125 5.5875C13.4375 6.1125 13.7 6.75 13.7 7.5C13.7 8.25 13.4375 8.8875 12.9125 9.4125C12.3875 9.9375 11.75 10.2 11 10.2ZM11 15C8.56667 15 6.35 14.3208 4.35 12.9625C2.35 11.6042 0.9 9.78333 0 7.5C0.9 5.21667 2.35 3.39583 4.35 2.0375C6.35 0.679167 8.56667 0 11 0C13.4333 0 15.65 0.679167 17.65 2.0375C19.65 3.39583 21.1 5.21667 22 7.5C21.1 9.78333 19.65 11.6042 17.65 12.9625C15.65 14.3208 13.4333 15 11 15ZM11 13C12.8833 13 14.6125 12.5042 16.1875 11.5125C17.7625 10.5208 18.9667 9.18333 19.8 7.5C18.9667 5.81667 17.7625 4.47917 16.1875 3.4875C14.6125 2.49583 12.8833 2 11 2C9.11667 2 7.3875 2.49583 5.8125 3.4875C4.2375 4.47917 3.03333 5.81667 2.2 7.5C3.03333 9.18333 4.2375 10.5208 5.8125 11.5125C7.3875 12.5042 9.11667 13 11 13Z"
                                                        fill="#1C1B1F" />
                                                </svg>
                                            </span>
                                        </div>
                                    </td>

                                </tr>
                                <tr class="">
                                    <td class="text-left stickyColTh">
                                        <span class="team-maneger mb-0 ">
                                            Mon, 1st Jun</span>
                                    </td>
                                    <td colspan="9">
                                        <div class="d-flex align-items-center justify-content-between request-detail">
                                            <div class="in-time let-intime p-2">
                                                <h6 class="mb-0">10:20 AM</h6>
                                                <p class="mb-0">Work: 9hr</p>
                                            </div>
                                            <div class="break-time p-2">
                                                <h6 class="mb-0">Break</h6>
                                                <p class="mb-0">Hour: 30 min</p>
                                            </div>
                                            <div class="system-out p-2">
                                                <h6 class="mb-0">System Out</h6>
                                                <p class="mb-0">08:00 PM</p>
                                            </div>

                                        </div>
                                    </td>
                                    <td class="text-left stickyColThend">
                                        <div class="d-flex align-items-center gap-2 position-relative">
                                            <button class="btn p-0 Pending-btn text-primary font-13 request-btn"> 1 Request </button>

                                            <span class="edit-action-btn">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="15" viewBox="0 0 22 15" fill="none">
                                                    <path
                                                        d="M11 12C12.25 12 13.3125 11.5625 14.1875 10.6875C15.0625 9.8125 15.5 8.75 15.5 7.5C15.5 6.25 15.0625 5.1875 14.1875 4.3125C13.3125 3.4375 12.25 3 11 3C9.75 3 8.6875 3.4375 7.8125 4.3125C6.9375 5.1875 6.5 6.25 6.5 7.5C6.5 8.75 6.9375 9.8125 7.8125 10.6875C8.6875 11.5625 9.75 12 11 12ZM11 10.2C10.25 10.2 9.6125 9.9375 9.0875 9.4125C8.5625 8.8875 8.3 8.25 8.3 7.5C8.3 6.75 8.5625 6.1125 9.0875 5.5875C9.6125 5.0625 10.25 4.8 11 4.8C11.75 4.8 12.3875 5.0625 12.9125 5.5875C13.4375 6.1125 13.7 6.75 13.7 7.5C13.7 8.25 13.4375 8.8875 12.9125 9.4125C12.3875 9.9375 11.75 10.2 11 10.2ZM11 15C8.56667 15 6.35 14.3208 4.35 12.9625C2.35 11.6042 0.9 9.78333 0 7.5C0.9 5.21667 2.35 3.39583 4.35 2.0375C6.35 0.679167 8.56667 0 11 0C13.4333 0 15.65 0.679167 17.65 2.0375C19.65 3.39583 21.1 5.21667 22 7.5C21.1 9.78333 19.65 11.6042 17.65 12.9625C15.65 14.3208 13.4333 15 11 15ZM11 13C12.8833 13 14.6125 12.5042 16.1875 11.5125C17.7625 10.5208 18.9667 9.18333 19.8 7.5C18.9667 5.81667 17.7625 4.47917 16.1875 3.4875C14.6125 2.49583 12.8833 2 11 2C9.11667 2 7.3875 2.49583 5.8125 3.4875C4.2375 4.47917 3.03333 5.81667 2.2 7.5C3.03333 9.18333 4.2375 10.5208 5.8125 11.5125C7.3875 12.5042 9.11667 13 11 13Z"
                                                        fill="#1C1B1F" />
                                                </svg>
                                            </span>



                                        </div>
                                    </td>

                                </tr>
                                <tr class="">
                                    <td class="text-left stickyColTh">
                                        <span class="team-maneger mb-0 ">
                                            Mon, 1st Jun</span>
                                    </td>
                                    <td colspan="9">
                                        <div class="d-flex align-items-center justify-content-between request-detail">
                                            <div class="in-time let-intime p-2">
                                                <h6 class="mb-0">10:20 AM</h6>
                                                <p class="mb-0">Work: 9hr</p>
                                            </div>
                                            <div class="break-time p-2">
                                                <h6 class="mb-0">Break</h6>
                                                <p class="mb-0">Hour: 30 min</p>
                                            </div>
                                            <div class="system-out p-2">
                                                <h6 class="mb-0">System Out</h6>
                                                <p class="mb-0">08:00 PM</p>
                                            </div>

                                        </div>
                                    </td>
                                    <td class="text-left stickyColThend">
                                        <div class="d-flex align-items-center gap-2 position-relative">
                                            <button class="btn p-0 Pending-btn text-primary font-13 request-btn"> 1 Request </button>

                                            <span class="edit-action-btn">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="15" viewBox="0 0 22 15" fill="none">
                                                    <path
                                                        d="M11 12C12.25 12 13.3125 11.5625 14.1875 10.6875C15.0625 9.8125 15.5 8.75 15.5 7.5C15.5 6.25 15.0625 5.1875 14.1875 4.3125C13.3125 3.4375 12.25 3 11 3C9.75 3 8.6875 3.4375 7.8125 4.3125C6.9375 5.1875 6.5 6.25 6.5 7.5C6.5 8.75 6.9375 9.8125 7.8125 10.6875C8.6875 11.5625 9.75 12 11 12ZM11 10.2C10.25 10.2 9.6125 9.9375 9.0875 9.4125C8.5625 8.8875 8.3 8.25 8.3 7.5C8.3 6.75 8.5625 6.1125 9.0875 5.5875C9.6125 5.0625 10.25 4.8 11 4.8C11.75 4.8 12.3875 5.0625 12.9125 5.5875C13.4375 6.1125 13.7 6.75 13.7 7.5C13.7 8.25 13.4375 8.8875 12.9125 9.4125C12.3875 9.9375 11.75 10.2 11 10.2ZM11 15C8.56667 15 6.35 14.3208 4.35 12.9625C2.35 11.6042 0.9 9.78333 0 7.5C0.9 5.21667 2.35 3.39583 4.35 2.0375C6.35 0.679167 8.56667 0 11 0C13.4333 0 15.65 0.679167 17.65 2.0375C19.65 3.39583 21.1 5.21667 22 7.5C21.1 9.78333 19.65 11.6042 17.65 12.9625C15.65 14.3208 13.4333 15 11 15ZM11 13C12.8833 13 14.6125 12.5042 16.1875 11.5125C17.7625 10.5208 18.9667 9.18333 19.8 7.5C18.9667 5.81667 17.7625 4.47917 16.1875 3.4875C14.6125 2.49583 12.8833 2 11 2C9.11667 2 7.3875 2.49583 5.8125 3.4875C4.2375 4.47917 3.03333 5.81667 2.2 7.5C3.03333 9.18333 4.2375 10.5208 5.8125 11.5125C7.3875 12.5042 9.11667 13 11 13Z"
                                                        fill="#1C1B1F" />
                                                </svg>
                                            </span>



                                        </div>
                                    </td>

                                </tr>


                            </tbody>
                        </table>


                    </div>


                    <h1>vis-timeline</h1>
                    <div #timeline></div> -->

                    <ul class="requests-btn">
                        <li [class.active]="attendanceType === 'CREATE'" (click)="updateAttendanceTypeFilter('CREATE')">Missed Punch</li>
                        <li [class.active]="attendanceType === 'UPDATE'" (click)="updateAttendanceTypeFilter('UPDATE')">System Outage</li>
                    </ul>


                    <div class="obboard-employee-list">
                        <div class="onboard-add row align-items-center mx-0">
                            <div class="col-md-12 p-0">
                                <div class="row justify-content-between align-items-center mx-0">
                                    <div class="col-lg-12 col-md-12 col-sm-12 ps-0">
                                        <div class="d-flex justify-content-start align-items-center">


                                            <!-- Status Filter -->
                                            <div class="dropdown empFilerDropfilter">
                                                <button type="button" id="statusDropdown" data-bs-toggle="dropdown"
                                                    aria-expanded="false"
                                                    class="btn btn-secondary dropdown-toggle new-deopdown">
                                                    {{ attendanceStatus }} <i class="bi bi-chevron-down"></i>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="statusDropdown">
                                                    <li *ngFor="let status of statuses">
                                                        <a class="dropdown-item"
                                                            (click)="updateAttendanceStatusFilter(status)"
                                                            [class.active]="attendanceStatus === status">
                                                            {{ status }}
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <!-- Search -->
                                            <div
                                                class="onboarding-date d-flex align-items-center justify-content-between position-relative w-100">
                                                <!-- <form novalidate
                                                    class="searching d-flex align-items-center justify-content-between w-100">
                                                    <div class="form-group w-100 position-relative">
                                                        <input type="text" id="searchText" #searchInput
                                                            [value]="searchQuery"
                                                            (input)="updateSearch(searchInput.value)"
                                                            placeholder="Search by name.."
                                                            class="form-control me-2 w-100"
                                                            style="padding: 10px 45px;" />

                                                        <i class="bi bi-search search-icon"></i>

                                                    </div>
                                                </form> -->

                                            </div>
                                            <div>

                                                <button type="button" class="btn primaryBtnLink leave-request"  *ngIf="userId==currentUserUuid"
                                                    data-bs-toggle="modal" data-bs-target="#updateRequest">
                                                    Attendance Request </button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="table-responsive bg-white mt-3">

                            <table class="table empOnnoardtable">
                                <thead class="thead-light">
                                    <tr>

                                        <th class="text-left font-13" style="width: 10%">Date</th>
                                        <th class="text-left font-13" style="width: 10%">Type</th>
                                        <th class="text-left font-13" style="width: 10%">Requested To</th>
                                        <!-- <th class="text-left font-13" style="width: 10%">Approved by</th> -->
                                        <th *ngIf="attendanceType === 'CREATE'" class="text-left font-13"
                                            style="width: 10%">In Time</th>
                                        <th *ngIf="attendanceType === 'CREATE'" class="text-left font-13"
                                            style="width: 10%">Out Time</th>
                                        <th *ngIf="attendanceType === 'UPDATE'" class="text-left font-13"
                                            style="width: 10%">Old Time</th>
                                        <th *ngIf="attendanceType === 'UPDATE'" class="text-left font-13"
                                            style="width: 10%">Updated Time</th>
                                        <th *ngIf="attendanceType === 'UPDATE'" class="text-left font-13"
                                            style="width: 10%">Requested For</th>
                                        <th class="text-left font-13" style="width: 10%">Reason</th>
                                        <th class="text-left font-13" style="width: 10%">Status</th>
                                    </tr>
                                </thead>

                                <tbody *ngIf="isAttendanceLoading">
                                    <tr *ngFor="let item of [].constructor(7)">
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td>
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                        <td *ngIf="attendanceType === 'CREATE'">
                                            <ngx-shimmer-loading [width]="'100%'"
                                                [height]="'15px'"></ngx-shimmer-loading>
                                        </td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="attendanceRequests.length === 0 && !isAttendanceLoading">
                                    <tr>
                                        <td colspan="9">
                                            <div class="empty-filenew" style="margin-top: 7%; margin-bottom: 7%">
                                                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                                    [nzNotFoundContent]="contentTpl">
                                                    <ng-template #contentTpl>
                                                        <p class="mb-1 empty-filenew">No data for now</p>
                                                    </ng-template>
                                                </nz-empty>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="!isAttendanceLoading">
                                    <tr *ngFor="let item of attendanceRequests">
                                        <td>
                                            <span *ngIf="item?.requestType === 'CREATE'">
                                                {{item?.inRequestTime | date:'dd MMM yyyy'}}</span>
                                            <span *ngIf="item?.requestType === 'UPDATE'">
                                                {{item?.updatedTime | date:'dd MMM yyyy'}}</span>
                                            <!-- <p class="mb-0 font-12"> 1 Day </p> -->
                                        </td>
                                        <td>
                                            <span>Attendance {{item?.requestType}}</span>
                                            <p class="mb-0 font-12"> {{item?.createdDate | date:'dd MMM yyyy'}} </p>
                                        </td>
                                        <td>
                                            <span class="table-font-weight">{{ item.managerName }} </span>
                                        </td>
                                        <td>
                                            <span *ngIf="attendanceType === 'CREATE'"
                                                class="table-font-weight">{{item?.inRequestTime | date:'HH:mm'}}</span>
                                            <span *ngIf="attendanceType === 'UPDATE'"
                                                class="table-font-weight">{{item?.oldTime | date:'HH:mm'}}</span>
                                        </td>
                                        <td>
                                            <span *ngIf="attendanceType === 'CREATE'"
                                                class="table-font-weight">{{item?.outRequestTime | date:'HH:mm'}}</span>
                                            <span *ngIf="attendanceType === 'UPDATE'"
                                                class="table-font-weight">{{item?.updatedTime | date:'HH:mm'}}</span>
                                        </td>
                                        <td *ngIf="attendanceType === 'UPDATE'">
                                            <span class="table-font-weight">{{item?.requestedFor}}</span>
                                        </td>
                                        <td>
                                            <span class="table-font-weight">{{item?.requestReason}}</span>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center gap-2">
                                                <span
                                                    class="badge rounded-pill badge-soft-warning">{{item?.status}}</span>
                                                <!-- Delete Button -->
                                                <button *ngIf="item?.status === 'PENDING'" class="icon-button btn p-0" data-bs-toggle="modal" data-bs-target="#delete-request"
                                                    (click)="currentId=item.id">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"
                                                        viewBox="0 0 21 21" fill="none">
                                                        <mask id="mask0_6083_5461" style="mask-type:alpha"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="21"
                                                            height="21">
                                                            <rect x="0.910156" y="0.910156" width="20" height="20"
                                                                fill="#D9D9D9" />
                                                        </mask>
                                                        <g mask="url(#mask0_6083_5461)">
                                                            <path
                                                                d="M6.74353 18.4102C6.2852 18.4102 5.89284 18.247 5.56645 17.9206C5.24006 17.5942 5.07686 17.2018 5.07686 16.7435V5.91016H4.24353V4.24349H8.4102V3.41016H13.4102V4.24349H17.5769V5.91016H16.7435V16.7435C16.7435 17.2018 16.5803 17.5942 16.2539 17.9206C15.9276 18.247 15.5352 18.4102 15.0769 18.4102H6.74353ZM15.0769 5.91016H6.74353V16.7435H15.0769V5.91016ZM8.4102 15.0768H10.0769V7.57682H8.4102V15.0768ZM11.7435 15.0768H13.4102V7.57682H11.7435V15.0768Z"
                                                                fill="#FF0404" />
                                                        </g>
                                                    </svg>
                                                </button>
                                            </div>
                                        </td>

                                    </tr>
                                    <ngb-pagination *ngIf="pageAttendanceSize<totalAttendanceElements"
                                        [collectionSize]="totalAttendanceElements" [(page)]="currentAttendancePage"
                                        [pageSize]="pageAttendanceSize" (pageChange)="onAttendancePageChange($event)">

                                    </ngb-pagination>

                                </tbody>
                            </table>
                        </div>



                    </div>
                </div>


            </div>




        </div>
    </div>


    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#applyLeave"
        #leaveApplyButton>
        Apply for a leave
    </button>

    <!-- Modal -->
    <div class="modal fade" id="applyLeave" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" (click)="resetUserLeave()" id="exampleModalLabel">Apply for a leave</h5>
                    <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close" #closeButton>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <mask id="mask0_5037_2014" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                                width="24" height="24">
                                <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_5037_2014)">
                                <path
                                    d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z"
                                    fill="black" />
                            </g>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="assets-request-form">
                        <form [formGroup]="userLeaveForm" #formDirective="ngForm">
                            <div class="row register-form-box">
                                <div class="col-md-12 mb-3">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="startDate" class="mb-2">Pick a starting date</label>
                                                <nz-date-picker nzBorderless formControlName="startDate" [nzFormat]="'dd-MM-YYYY'"
                                                    nzPlaceHolder="dd/mm/yyyy" [nzDisabledDate]="disableStartDate"
                                                    [(ngModel)]="userLeaveRequest.startDate" required></nz-date-picker>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="endDate" class="mb-2">Pick an ending date</label>
                                                <nz-date-picker nzBorderless formControlName="endDate"
                                                    nzPlaceHolder="dd/mm/yyyy" [(ngModel)]="userLeaveRequest.endDate" [nzFormat]="'dd-MM-YYYY'"
                                                    [nzDisabledDate]="disableEndDate" required></nz-date-picker>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-md-12 mb-3">
                                    <div class="form-group">
                                        <label for="leaveType" class="mb-2">Leave type</label>
                                        <nz-form-control>
                                            <nz-select class="form-control placeholder-line" style="width: 100%"
                                                nzSize="large" nzPlaceHolder="Select the leave type"
                                                formControlName="leaveType"
                                                [(ngModel)]="userLeaveRequest.userLeaveTemplateId">
                                                required>
                                                <nz-option *ngFor="let ul of userLeave"
                                                    [nzValue]="ul.userLeaveTemplateId" [nzLabel]="ul.leaveType">
                                                </nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </div>
                                </div>

                                <div class="col-md-12 mb-3">
                                    <div class="form-group requesting-half-leave p-2">
                                        <div class="d-flex align-items-center justify-content-between"
                                            style="padding-top: 2px;">
                                            <p class="mb-0">Select if you are requesting Half Leave <span
                                                    class="font-12 text-primary">(optional)</span></p>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="defaultCheck1" formControlName="isHalf"
                                                    [(ngModel)]="userLeaveRequest.halfDayLeave"
                                                    (change)="toggleHalfLeaveSelection($event)" />
                                            </div>
                                        </div>
                                        <!-- {{userLeaveRequest.halfDayLeave}} -->
                                        <div class="row mt-3 mb-2" *ngIf="isHalfLeaveSelected">
                                            <hr>
                                            <div class="col-md-6">
                                                <label
                                                    class="form-check assets-req d-flex align-items-center justify-content-start">
                                                    <input
                                                        (change)="dayShiftToggleFun('day')" class="form-check-input"
                                                        type="radio" name="halfLeave" value="firstHalf"
                                                        />
                                                    <p class="form-check-label mb-0">First half</p>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <label
                                                    class="form-check assets-req d-flex align-items-center justify-content-start">
                                                    <input
                                                        (change)="dayShiftToggleFun('evening')" class="form-check-input"
                                                        type="radio" name="halfLeave" value="secondHalf"
                                                         />
                                                    <p class="form-check-label mb-0">Second Half</p>
                                                </label>
                                            </div>
                                        </div>


                                    </div>

                                </div>
                                <div class="col-md-12 mb-3" *ngIf = "ROLE === 'ADMIN'">
                                    <div class="">
                                        <label class="mb-2">Since you are an Admin, the Manager/Admin selection is not applicable for you. Your team members will see their respective manager or admin when they log in.</label>
                                    </div>
                                </div>
                                <div class="col-md-12 mb-3" *ngIf = "ROLE !== 'ADMIN'">
                                    <div class="form-group">
                                        <label for="selectUser" class="mb-2">Select user to request the leave
                                            from</label>
                                        <nz-form-control>
                                            <nz-select class="form-control placeholder-line w-100" nzSize="large"
                                                nzPlaceHolder="Select a user" formControlName="selectedUser"
                                                [ngModel]="selectedUser" (ngModelChange)="onUserChange($event)"
                                                required>
                                                <nz-option *ngFor="let manager of managers" [nzValue]="manager.id"
                                                    [nzLabel]="manager.name">
                                                </nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </div>
                                </div>


                                <div class="col-md-12 mb-3">
                                    <div class="form-group">
                                        <label for="templateName" class="mb-2">Note</label>
                                        <textarea formControlName="note" class="form-control nots-section"
                                            placeholder="Write the reason" id="exampleFormControlTextarea1" rows="3"
                                            name="note" [(ngModel)]="userLeaveRequest.optNotes" maxlength="200">
                                    </textarea>
                                    </div>
                                </div>

                                <div class="col-md-12 ">
                                    <div class="form-group ">
                                        <label for="templateName" class="mb-2"> Proof document <span
                                                class="text-primary font-12">(optional)</span></label>
                                        <div *ngIf="uploadedFiles.length == 0"
                                            class="d-flex align-items-center justify-content-between  requesting-half-leave p-2">
                                            <p class="mb-0 font-13 " style="font-weight: 400;">Select proof document</p>

                                            <button class="btn p-0 text-primary font-13" (click)="fileInput.click()">
                                                <i class="bi bi-plus-lg"></i> Add File
                                            </button>
                                            <input type="file" #fileInput (change)="onFileSelected($event)"
                                                accept="application/pdf" style="display: none;" />
                                        </div>

                                        <div *ngIf="uploadedFiles.length > 0">
                                            <div *ngFor="let uploadedFile of uploadedFiles; let i=index"
                                                class="hr-policy-file d-flex justify-content-between align-items-center p-3 mt-3">
                                                <div class="d-flex align-items-center gap-2">
                                                    <div class="d-flex align-items-center gap-2"><svg
                                                            xmlns="http://www.w3.org/2000/svg" width="31" height="37"
                                                            viewBox="0 0 31 37" fill="none">
                                                            <path
                                                                d="M25.5734 0.836118C26.0952 0.833246 26.6124 0.933548 27.0954 1.13126C27.5783 1.32897 28.0174 1.62019 28.3874 1.98817C28.7574 2.35616 29.0511 2.79365 29.2514 3.2755C29.4518 3.75734 29.5549 4.27404 29.5549 4.79588V31.7514C29.5549 32.2732 29.4518 32.7899 29.2514 33.2717C29.0511 33.7536 28.7574 34.1911 28.3874 34.5591C28.0174 34.927 27.5783 35.2183 27.0954 35.416C26.6124 35.6137 26.0952 35.714 25.5734 35.7111H5.41125C4.36105 35.7111 3.35387 35.2939 2.61127 34.5513C1.86867 33.8087 1.45148 32.8015 1.45148 31.7514V9.47495C1.44273 9.00483 1.62035 8.55034 1.94554 8.21073L8.79703 1.35924C8.96541 1.19034 9.16602 1.057 9.38693 0.967138C9.60785 0.877273 9.84457 0.832718 10.083 0.836118H25.5734Z"
                                                                fill="#F1F4F9"></path>
                                                            <path
                                                                d="M8.82579 1.35992C8.97656 1.20982 9.15396 1.0891 9.34891 1.00391V4.97094C9.34892 5.65594 9.21364 6.33419 8.95084 6.96678C8.68805 7.59936 8.30291 8.17381 7.81753 8.65717C7.33215 9.14052 6.75609 9.52326 6.12241 9.78341C5.48874 10.0436 4.80992 10.176 4.12493 10.1731H1.45118V9.44656C1.45005 8.98647 1.62712 8.5438 1.94524 8.21141L8.82579 1.35992Z"
                                                                fill="#DCDFE2"></path>
                                                            <path
                                                                d="M1.61816 8.73453C1.70335 8.53958 1.82408 8.36219 1.97418 8.21141L8.82566 1.35992C8.97644 1.20982 9.15384 1.0891 9.34879 1.00391V4.77477C9.34879 5.29538 9.24613 5.81089 9.04668 6.29178C8.84723 6.77268 8.5549 7.20952 8.18643 7.57732C7.81797 7.94511 7.38059 8.23663 6.89933 8.4352C6.41807 8.63377 5.90237 8.73549 5.38176 8.73453H1.61816Z"
                                                                fill="#6666F2"></path>
                                                            <path
                                                                d="M12.7194 19.7995C12.7409 20.1645 12.6876 20.53 12.5626 20.8737C12.4377 21.2173 12.2438 21.5317 11.9928 21.7976C11.7233 22.0475 11.4062 22.2407 11.0604 22.3655C10.7146 22.4903 10.3473 22.5443 9.98023 22.5241H8.31641V17.3147H10.111C10.8118 17.2674 11.5031 17.497 12.0364 17.9541C12.2751 18.1953 12.4595 18.4847 12.5773 18.803C12.695 19.1213 12.7435 19.461 12.7194 19.7995ZM11.2662 19.8504C11.2957 19.4748 11.1957 19.1005 10.9829 18.7896C10.8753 18.6714 10.7421 18.5792 10.5936 18.52C10.4451 18.4608 10.285 18.4363 10.1255 18.4481H9.71867V21.3544H10.0311C10.2053 21.3685 10.3804 21.3425 10.5429 21.2782C10.7054 21.214 10.851 21.1133 10.9684 20.9838C11.1907 20.6495 11.2955 20.2508 11.2662 19.8504Z"
                                                                fill="#6666F2"></path>
                                                            <path
                                                                d="M18.3215 19.9018C18.3738 20.6276 18.1448 21.3456 17.6822 21.9071C17.433 22.1453 17.137 22.3289 16.8131 22.4465C16.4891 22.5641 16.1442 22.613 15.8004 22.5901C15.4544 22.6072 15.1088 22.5513 14.7858 22.4261C14.4629 22.301 14.1699 22.1093 13.9258 21.8635C13.4573 21.3106 13.2251 20.5955 13.2792 19.8728C13.2258 19.1545 13.4582 18.4443 13.9258 17.8965C14.1737 17.6565 14.4694 17.4716 14.7937 17.3539C15.118 17.2362 15.4636 17.1884 15.8076 17.2136C16.1499 17.1898 16.4933 17.2377 16.816 17.354C17.1388 17.4704 17.4338 17.6526 17.6822 17.8893C18.1507 18.4504 18.3803 19.1731 18.3215 19.9018ZM14.7541 19.9018C14.7541 20.9045 15.1029 21.4058 15.8004 21.4058C15.9512 21.4166 16.1023 21.3889 16.2396 21.3254C16.3768 21.2619 16.4957 21.1645 16.5851 21.0425C16.7846 20.6971 16.8757 20.2997 16.8466 19.9018C16.8758 19.5017 16.7847 19.1019 16.5851 18.7539C16.4972 18.6316 16.3798 18.5335 16.2439 18.4688C16.108 18.404 15.9579 18.3746 15.8076 18.3833C15.1029 18.3833 14.7541 18.8919 14.7541 19.9018Z"
                                                                fill="#6666F2"></path>
                                                            <path
                                                                d="M21.3881 18.3893C21.2335 18.3847 21.0802 18.4196 20.9429 18.4908C20.8056 18.562 20.6887 18.6671 20.6034 18.7961C20.3999 19.1377 20.3037 19.5326 20.3273 19.9296C20.3273 20.925 20.7051 21.4263 21.4608 21.4263C21.6868 21.425 21.9116 21.3932 22.1292 21.3318C22.3472 21.2665 22.5651 21.1865 22.7831 21.0993V22.2836C22.3238 22.4793 21.8292 22.5783 21.33 22.5743C20.997 22.5999 20.6624 22.5534 20.3489 22.438C20.0355 22.3227 19.7506 22.1412 19.5136 21.9058C19.0591 21.3543 18.8329 20.6498 18.8815 19.9368C18.8652 19.435 18.9699 18.9366 19.1866 18.4837C19.3769 18.0911 19.6806 17.7646 20.0585 17.5465C20.47 17.3211 20.9336 17.2083 21.4026 17.2195C21.9582 17.2196 22.5068 17.3438 23.0083 17.5828L22.5797 18.709C22.3943 18.6195 22.2024 18.5442 22.0057 18.4837C21.8063 18.4188 21.5977 18.3869 21.3881 18.3893Z"
                                                                fill="#6666F2"></path>
                                                        </svg>
                                                        <h5 class="mb-0 font-14">{{ uploadedFile?.name }}</h5>
                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center gap-2 action-icon-btn">
                                                    <span>
                                                        <button class="btn text-danger p-0"
                                                            (click)="uploadedFile ? viewFile(uploadedFile) : null">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="22"
                                                                height="22" viewBox="0 0 22 22" fill="none">
                                                                <mask id="mask0_4339_1635" maskUnits="userSpaceOnUse"
                                                                    x="0" y="0" width="22" height="22"
                                                                    style="mask-type: alpha;">
                                                                    <rect width="21.8342" height="21.8342"
                                                                        fill="#D9D9D9">
                                                                    </rect>
                                                                </mask>
                                                                <g mask="url(#mask0_4339_1635)">
                                                                    <path
                                                                        d="M10.9189 14.1711C11.9498 14.1711 12.8254 13.8103 13.5456 13.0888C14.2658 12.3672 14.6259 11.4909 14.6259 10.46C14.6259 9.4291 14.2651 8.55354 13.5435 7.83331C12.822 7.11308 11.9457 6.75297 10.9148 6.75297C9.88389 6.75297 9.00833 7.11377 8.2881 7.83536C7.56788 8.55695 7.20776 9.4332 7.20776 10.4641C7.20776 11.495 7.56856 12.3706 8.29015 13.0908C9.01174 13.811 9.88799 14.1711 10.9189 14.1711ZM10.9168 12.9184C10.2345 12.9184 9.65456 12.6796 9.17694 12.202C8.69931 11.7243 8.4605 11.1444 8.4605 10.4621C8.4605 9.77974 8.69931 9.19977 9.17694 8.72214C9.65456 8.24452 10.2345 8.00571 10.9168 8.00571C11.5992 8.00571 12.1791 8.24452 12.6568 8.72214C13.1344 9.19977 13.3732 9.77974 13.3732 10.4621C13.3732 11.1444 13.1344 11.7243 12.6568 12.202C12.1791 12.6796 11.5992 12.9184 10.9168 12.9184ZM10.918 16.8304C8.826 16.8304 6.91983 16.2533 5.19947 15.0991C3.47912 13.9451 2.21243 12.3994 1.39941 10.4621C2.21243 8.52473 3.47867 6.97905 5.19811 5.82502C6.9177 4.67084 8.82357 4.09375 10.9157 4.09375C13.0077 4.09375 14.9139 4.67084 16.6342 5.82502C18.3546 6.97905 19.6213 8.52473 20.4343 10.4621C19.6213 12.3994 18.355 13.9451 16.6356 15.0991C14.916 16.2533 13.0101 16.8304 10.918 16.8304ZM10.9168 15.4657C12.6302 15.4657 14.2033 15.0146 15.6362 14.1125C17.0691 13.2103 18.1646 11.9935 18.9227 10.4621C18.1646 8.93063 17.0691 7.71383 15.6362 6.81165C14.2033 5.90948 12.6302 5.45839 10.9168 5.45839C9.20347 5.45839 7.63035 5.90948 6.19748 6.81165C4.76461 7.71383 3.66911 8.93063 2.91098 10.4621C3.66911 11.9935 4.76461 13.2103 6.19748 14.1125C7.63035 15.0146 9.20347 15.4657 10.9168 15.4657Z"
                                                                        fill="#1C1B1F"></path>
                                                                </g>
                                                            </svg>
                                                        </button>
                                                    </span>
                                                    <input id="hrpolicies" type="file" name="hrpolicies"
                                                        accept="application/pdf" class="input"
                                                        style="display: none;"><span>

                                                    </span>

                                                    <span>
                                                        <button class="btn text-danger" (click)="removeFile(i)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="23"
                                                                height="22" viewBox="0 0 23 22" fill="none">
                                                                <mask id="mask0_4339_1620" maskUnits="userSpaceOnUse"
                                                                    x="0" y="0" width="23" height="22"
                                                                    style="mask-type: alpha;">
                                                                    <rect x="0.535156" width="21.8342" height="21.8342"
                                                                        fill="#D9D9D9"></rect>
                                                                </mask>
                                                                <g mask="url(#mask0_4339_1620)">
                                                                    <path
                                                                        d="M7.18328 18.6577C6.72961 18.6577 6.34206 18.497 6.02061 18.1757C5.69931 17.8543 5.53866 17.4667 5.53866 17.0131V5.46619H4.62891V4.10156H8.72282V3.29688H14.1814V4.10156H18.2753V5.46619H17.3655V17.0131C17.3655 17.4726 17.2063 17.8616 16.8879 18.1801C16.5695 18.4985 16.1805 18.6577 15.7209 18.6577H7.18328ZM16.0009 5.46619H6.9033V17.0131C6.9033 17.0948 6.92953 17.1619 6.982 17.2144C7.03446 17.2668 7.10155 17.293 7.18328 17.293H15.7209C15.791 17.293 15.8551 17.2639 15.9133 17.2055C15.9717 17.1473 16.0009 17.0831 16.0009 17.0131V5.46619ZM9.09036 15.4735H10.4548V7.28571H9.09036V15.4735ZM12.4494 15.4735H13.8138V7.28571H12.4494V15.4735Z"
                                                                        fill="#FF0000"></path>
                                                                </g>
                                                            </svg>
                                                        </button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer d-flex gap-2">
                    <button #cancelBtn type="button" class="btn cancel-btn" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" (click)="saveLeaveRequestUser()"
                        [disabled]="isLoadingLeaveForm || (!canSubmit)" class="btn submitActionBtn"
                        [ngClass]="{'btn-border':!(isLoadingLeaveForm || (!canSubmit))}">
                        <div *ngIf="isLoadingLeaveForm" class="dot-opacity-loader">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span *ngIf="!isLoadingLeaveForm">
                            Submit
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>



    <!-- attendance update modal-->


    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary d-none" id="attendanceUpdate" data-bs-toggle="modal"
        data-bs-target="#updateRequest">
        Attendance Update request
    </button>

    <!-- Modal -->
    <div class="modal fade" id="updateRequest" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <app-attendance-update
          [isCreate]="true"
          (closeModal)="handleModalClose()">
        </app-attendance-update>
        </div>
    </div>

    <!-- attendance logs -->

    <div class="modal fade" id="viewlog" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
        aria-hidden="true" #viewlog>
        <div class="modal-dialog modal-dialog-centered mx-auto" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title m-0" id="exampleModalDefaultLabel">
                        Attendance Log
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <!-- modal-header -->
                <div class="modal-body">
                    <div class="scroll-box-logs">
                        <ng-container *ngIf="
                                isShimmer &&
                                  attendanceLogResponseList.length === 0 &&
                                  !dataNotFoundFlagForAttendanceLog &&
                                  !networkConnectionErrorFlagForAttendanceLog;
                                else attendanceLogResponseData
                              ">
                            <ul class="loges-loding" *ngFor="let item of [].constructor(5)">
                                <li>
                                    <h6>
                                        <ngx-shimmer-loading [width]="'90%'" [height]="'15px'"></ngx-shimmer-loading>
                                    </h6>
                                    <h6 class="mt-1">
                                        <ngx-shimmer-loading [width]="'40%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </h6>
                                    <h6 class="mt-1">
                                        <ngx-shimmer-loading [width]="'60%'" [height]="'10px'"></ngx-shimmer-loading>
                                    </h6>
                                </li>
                            </ul>
                        </ng-container>

                        <ng-template #attendanceLogResponseData>
                            <ng-container *ngIf="
                                  attendanceLogResponseList.length !== 0 &&
                                    !dataNotFoundFlagForAttendanceLog &&
                                    !networkConnectionErrorFlagForAttendanceLog;
                                  else errorInFetchingAttendanceLogData
                                ">
                                <ul class="acitivity-timeline-2 list-unstyled mb-0" *ngFor="
                                    let attendanceLogResponse of attendanceLogResponseList
                                  ">
                                    <li>
                                        <!-- in-time-color out-time-color break-color break-back-color -->
                                        <h6 class="fs-md mt-0" *ngIf="
                                        attendanceLogResponse.operationPerformedBy !==
                                        null
                                      ">
                                            {{ attendanceLogResponse.operationType
                                            }}<span class="added-by" style="padding-left: 10px">(Added By -
                                                {{
                                                attendanceLogResponse.operationPerformedBy
                                                }})</span>
                                        </h6>
                                        <div class="d-flex align-items-center justify-content-between acitivity-box">
                                            <h6 class="mb-0 attendance-log" *ngIf="
                                        attendanceLogResponse.operationPerformedBy ===
                                        null
                                      " [ngClass]="{
                                        'in-time-color':
                                          attendanceLogResponse.operationType ==
                                          'in',
                                        'out-time-color':
                                          attendanceLogResponse.operationType ==
                                          'out',
                                        'break-color':
                                          attendanceLogResponse.operationType ==
                                          'break',
                                        'break-back-color':
                                          attendanceLogResponse.operationType ==
                                          'back'
                                      }">
                                                <span>
                                                    {{
                                                    attendanceLogResponse.operationType
                                                    }}
                                                    |
                                                    {{
                                                    attendanceLogResponse.operationTime
                                                    | date:'shortTime'
                                                    }}
                                                </span>
                                            </h6>
                                            <div>
                                                <span class="fonnt-13" style="
                                          font-weight: 600;
                                          vertical-align: middle;
                                        ">
                                                    <i class="bi bi-calendar3" style="margin-right: 5px"></i>
                                                    {{
                                                    attendanceLogResponse.operationTime
                                                    | date:'mediumDate'
                                                    }}
                                                    |
                                                    {{
                                                    attendanceLogResponse.operationTime
                                                    | date:'shortTime'
                                                    }}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center mb-2 mt-2 gap-3">
                                            <p class="mb-0 font-14">
                                                <span><b>Notes</b></span><span> : </span>
                                                {{
                                                attendanceLogResponse.additionalNotes
                                                }}
                                            </p>
                                        </div>


                                        <div class="card d-flex align-items-center flex-row justify-content-between"
                                            *ngIf="
                                        attendanceLogResponse.latString !=
                                          null &&
                                        attendanceLogResponse.longString != null
                                      ">
                                            <div
                                                class="card-content justify-content-start d-flex align-items-center flex-row gap-2 w-100">
                                                <!-- {{attendanceLogResponse.imageUrlString}} -->
                                                <div class="image-section"
                                                    *ngIf="attendanceLogResponse.imageUrlString != null">
                                                    <!-- <div *ngIf="">
                                                    <ngx-shimmer-loading [width]="'100%'"
                                                        [height]="'70px'"></ngx-shimmer-loading>
                                                </div> -->
                                                    <img [src]="attendanceLogResponse.imageUrlString" alt="User Image"
                                                        class="user-image" />
                                                </div>
                                                <div class="info-section w-100">
                                                    <div>
                                                        <p class="mb-0 mt-0 location-text">
                                                            <span><b>Location:</b></span>
                                                            <span class="location-address"
                                                                *ngIf="Constant.EMPTY_STRINGS.includes( attendanceLogResponse.currentAddress)">{{
                                                                attendanceLogResponse.currentAddress

                                                                }}</span>
                                                            <span class="location-address"
                                                                *ngIf="Constant.EMPTY_STRINGS.includes( attendanceLogResponse.currentAddress)">{{

                                                                getAddressFromCoords(
                                                                attendanceLogResponse.latString,attendanceLogResponse.longString)
                                                                }}</span>
                                                        </p>
                                                    </div>
                                                    <div
                                                        class="d-flex align-items-center justify-content-end gap-2 mt-3">
                                                        <button *ngIf="
                                                attendanceLogResponse.imageUrlString !=
                                                null
                                              " (click)="
                                                openSelfieModal(
                                                  attendanceLogResponse.imageUrlString
                                                )
                                              " class="btn submitActionBtn">
                                                            View Selfie
                                                        </button>
                                                        <button *ngIf="
                                                attendanceLogResponse.latString !=
                                                  null &&
                                                attendanceLogResponse.longString !=
                                                  null
                                              " (click)="
                                                openAddressModal(
                                                  attendanceLogResponse.latString,
                                                  attendanceLogResponse.longString
                                                )
                                              " class="btn submitActionBtn">
                                                            View Location
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </ng-container>
                        </ng-template>
                        <ng-template #errorInFetchingAttendanceLogData>


                            <div class="empty-file" style="margin-top: 20%;" *ngIf="dataNotFoundFlagForAttendanceLog">
                                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                    [nzNotFoundContent]="contentTpl">
                                    <ng-template #contentTpl>
                                        <p class="mb-1 empty-detail font-16">No data for now</p>
                                    </ng-template>
                                </nz-empty>
                            </div>

                            <div class="empty-file" *ngIf="networkConnectionErrorFlagForAttendanceLog">
                                <div class="errorboxmain">
                                    <div class="errorboxinner text-center">
                                        <div class="errorboxplaceholder mb-2">
                                            <img src="assets/images/signal.svg" style="width: 80px" />
                                        </div>
                                        <div class="">
                                            <h4>Something went wrong</h4>
                                            <p>
                                                An error occurred while processing your
                                                request. Please refresh the page and try
                                                again.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                </div>

                <!-- modal-footer -->
            </div>
            <!-- modal-content -->
        </div>
        <!-- modal-dialog -->
    </div>



    <button type="button" style="display: none" data-bs-toggle="modal" data-bs-target="#attendancewithlocationss"
        #attendancewithlocationssButton id="attendancewithlocationssButton"></button>
    <div class="modal fade" id="attendancewithlocationss" tabindex="-1" role="dialog"
        aria-labelledby="attendancewithlocation" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered " role="document">

            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
                        Staff Attendance Location
                    </h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        data-bs-toggle="modal" data-bs-target="#viewlog"></button>
                </div>
                <!--end modal-header-->
                <div class="modal-body">
                    <div class="mb-10">
                        <section>
                            <div class="el-card-item">
                                <div class="el-card-avatar el-overlay-1">
                                    <div class="map">
                                        <agm-map style="height: 350px" [latitude]="lat" [longitude]="lng" [zoom]="zoom"
                                            [maxZoom]="20" [zoomControl]="true" [disableDefaultUI]="true"
                                            [keyboardShortcuts]="false">
                                            <agm-marker *ngIf="lat && lng" [latitude]="lat" [longitude]="lng"
                                                draggable="true" [agmFitBounds]="true"></agm-marker>
                                        </agm-map>
                                        <!--  #placesRef="ngx-places" -->
                                    </div>
                                </div>
                            </div>
                            <!-- </div> -->
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#showDocModal"
        #openDocModalButton id="openDocModalButton"></button>
    <div class="modal blur-bg-2" id="showDocModal" tabindex="-1" data-bs-keyboard="false"
        aria-labelledby="showDocModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="showDocModalLabel">Attendance Selfie</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        data-bs-toggle="modal" data-bs-target="#viewlog"></button>
                </div>
                <div class="modal-body text-center" style="overflow: scroll; max-height: 390px">
                    <!-- <iframe *ngIf="previewString" [src]="previewString" style="width: 100%; height: 100vh" frameborder="0"></iframe> -->
                    <img *ngIf="isImage" [src]="previewString" alt="Attendance Selfie"
                        style="max-width: 100%; height: 350px" />
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close">Cancel</button> -->
                    <button class="btn submitActionBtn" *ngIf="imageDownUrl" (click)="downloadFile(imageDownUrl)">
                        <span><i class="bi bi-download"></i> Download</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>



<button class="d-none" data-bs-toggle="modal" data-bs-target="#delete-request"></button>
<div class="modal fade" id="delete-request" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 500px" role="document">
    <div class="modal-content">
      <div class="modal-body p-0 delete-text">
        <div class="delete-image d-flex align-items-center justify-content-center pt-4 pb-4">
          <div class="delete-close-btn">
            <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close" #closeButtonDeleteShift>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <mask id="mask0_2031_1331" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30"
                  height="30">
                  <rect width="30" height="30" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_2031_1331)">
                  <path
                    d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                    fill="black" />
                </g>
              </svg>
            </button>
          </div>
          <img src="/assets/images/delete-img.svg" style="width: 70px" />
        </div>
        <div class="bg-white p-4 text-center">

          <div>
            <h5 class="alert-heading font-18 mb-2">
              Are you sure you want to delete <br />
              this Attendance update request?
            </h5>
            <p class="font-11">You will not be able to recover this</p>
          </div>

          <div class="mt-4 d-flex align-items-center flex-column">
            <button [disabled]="requestDeleteLoading" class="btn continue-btn"
              (click)="deleteAttendanceRequest()">
              Continue
              <i class="fa fa-spinner fa-spin" *ngIf="requestDeleteLoading"></i>
            </button>
            <button id="cancelButton" class="btn cancel-btn pt-2" type="button" data-bs-dismiss="modal" aria-label="Close">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Leave Quota Modal -->
<div *ngIf="showLeaveQuotaModal" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h2>User Leave Quota Information</h2>
      <button class="close-btn" (click)="closeLeaveQuotaModal()">&times;</button>
    </div>

    <div class="info-message" *ngIf="userLeaveQuota?.remainingLeaves === 0">
      <p>
        🚫 <strong>Note:</strong> The leave quota for <strong>{{userLeaveQuota.category}}</strong> has been fully utilized.
        Please apply in another category or apply for leave without pay.
      </p>
    </div>

    <div class="modal-body">
      <div class="quota-details">
        <div class="detail-item">
          <span class="label">👤 User Name:</span>
          <span>{{ userLeaveQuota?.userName }}</span>
        </div>
        <div class="detail-item">
          <span class="label">📅 Total Leaves:</span>
          <span>{{ userLeaveQuota?.totalAllocatedLeaves }}</span>
        </div>
        <div class="detail-item">
          <span class="label">✅ Approved Leaves:</span>
          <span>{{ userLeaveQuota?.approvedLeaves }}</span>
        </div>
        <div class="detail-item">
          <span class="label">❌ Rejected Leaves:</span>
          <span>{{ userLeaveQuota?.rejectedLeaves }}</span>
        </div>
        <div class="detail-item">
          <span class="label">🕒 Remaining Leaves:</span>
          <span>{{ userLeaveQuota?.remainingLeaves }}</span>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="action-btn-modal" (click)="closeLeaveQuotaModal()">Close</button>
    </div>
  </div>
</div>
