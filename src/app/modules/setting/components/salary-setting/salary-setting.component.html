<div class="page-wrapper">
  <!-- Page Content-->
  <div class="page-content-tab">
    <div class="container-fluid">
      <div class="company-settinh">
        <div class="row mt-4">
          <div class="col-md-4">
            <div class="form-roe-data">
              <h5>Salary Calculation Logic</h5>
              <p>This will be displayed on your profile.</p>
            </div>
          </div>
          <div class="col-md-7"  [ngClass]="{'disable-action-item':!rbacService.hasWriteAccess(Routes.SALARYSETTING)}">

            <ng-container
              *ngIf="
                isShimmerForSalaryCalculationMode &&
                  salaryCalculationModeList.length === 0 &&
                  !dataNotFoundPlaceholderForSalaryCalculationMode &&
                  !networkConnectionErrorPlaceHolderForSalaryCalculationMode;
                else salaryCalculationModeElseCondition
              "
            >
              <div class="row">
                <div class="col-md-12">
                  <div class="attendance-settin-list mb-3" *ngFor="let item of [].constructor(2)">
                    <ngx-shimmer-loading
                      [width]="'100%'"
                      [height]="'60px'"
                      style="border-radius: 50%"
                    ></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
            </ng-container>
            <ng-template #salaryCalculationModeElseCondition>
              <ng-container
                *ngIf="
                  salaryCalculationModeList.length !== 0 &&
                    !dataNotFoundPlaceholderForSalaryCalculationMode &&
                    !networkConnectionErrorPlaceHolderForSalaryCalculationMode;
                  else errorInFetchingSalaryCalculationMode
                "
              >
                <div class="row mb-3">
                  <div
                    class="attendance-settin-list"
                    *ngFor="
                      let salaryCalculationMode of salaryCalculationModeList
                    "
                  >
                    <div
                      class="categryCustomizecard d-flex pointer"
                      [ngClass]="{'attendance-active': salaryCalculationMode.selected, 'disabled-lnk':salaryCalculationMode.selected}"
                      data-bs-toggle="modal"
                      data-bs-target="#salaryMode"
                      (click)="selectedSalaryModeId = salaryCalculationMode.id"
                    >
                      <div class="categryCustomizeinfo">
                        <label
                          for="customizecategory{{ salaryCalculationMode.id }}"
                          class="mb-0"
                        >
                          <h3>{{ salaryCalculationMode.name }}</h3>
                          <p>
                            Ex: {{ salaryCalculationMode.example }} ({{
                              salaryCalculationMode.description
                            }})
                          </p>
                        </label>
                      </div>
                      <div
                        class="active-check ng-star-inserted"
                        *ngIf="salaryCalculationMode.selected">
                        <i class="bi bi-check2"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-template>
            <ng-template #errorInFetchingSalaryCalculationMode>
              <div
                class="empty-file"
                *ngIf="dataNotFoundPlaceholderForSalaryCalculationMode"
              >
                <div class="errorboxmain">
                  <div class="errorboxinner">
                    <div class="errorboxplaceholder mb-2">
                      <img
                        src="assets/images/empty-box.svg"
                        style="width: 80px"
                      />
                    </div>
                    <div class="">
                      <p class="mb-0">Salary Calculation Mode Not Found</p>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="empty-file"
                *ngIf="
                  networkConnectionErrorPlaceHolderForSalaryCalculationMode
                "
              >
                <div class="errorboxmain">
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>
                    <div class="">
                      <h4>Something went wrong</h4>
                      <p>
                        An error occurred while processing your request. Please
                        refresh the page and try again.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </div>
          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <!-- Creating salary template -->
          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Manage Salary Templates</h5>
              <p>A quick snapshot of your company.</p>
            </div>
            <div
              class="total-shifts p-3 mt-4"
              *ngIf="salaryTemplateComponentResponseList.length > 0"
            >
              <div class="d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-truncate">Template’s</h6>
                  <h4 class="mt-3 fw-bold">
                    {{ salaryTemplateComponentResponseList.length }}
                  </h4>
                </div>
                <span
                  class="total-user-icon d-flex align-items-center justify-content-center"
                >
                  <img src="assets/images/template-icon.svg" />
                </span>
              </div>
              <div class="mt-3">
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                >
                  <small
                    class="text-muted d-flex align-items-center gap-3 mb-0"
                  >
                    <span class="universal"></span> Percentage of salary
                  </small>
                  <!-- <small class="text-muted">23</small> -->
                </div>
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                >
                  <small
                    class="text-muted d-flex align-items-center gap-3 mb-0"
                  >
                    <span class="custom"></span> Percentage of basic pay
                  </small>
                  <!-- <small class="text-muted">03</small> -->
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-7 mt-3 mb-3">
            <div class="row">
              <div class="col-md-12">
                <div class="">
                  <ng-container
                    *ngIf="
                      isShimmerForSalaryTemplate &&
                        salaryTemplateComponentResponseList.length === 0 &&
                        !dataNotFoundPlaceholderForSalaryTemplate &&
                        !networkConnectionErrorPlaceHolderForSalaryTemplate;
                      else salaryTemplateElseCondition
                    "
                  >
                    <div class="">
                      <div class="text-end">
                        <ngx-shimmer-loading
                          [width]="'40%'"
                          [height]="'20px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div
                      class="mt-3 border p-1">
                      <div
                        class="row border-bottom pt-2 pb-2">
                        <div class="col-md-4">
                          <div class="">
                            <ngx-shimmer-loading
                              [width]="'100%'"
                              [height]="'20px'"
                              style="border-radius: 50%"
                            ></ngx-shimmer-loading>
                          </div>
                        </div>
                      </div>
                      <div class="row mt-3">
                        <div class="col-md-3">
                          <div class="">
                            <ngx-shimmer-loading
                              [width]="'100%'"
                              [height]="'20px'"
                              style="border-radius: 50%"
                            ></ngx-shimmer-loading>
                          </div>
                        </div>
                      </div>
                      <div class="row mt-3">
                        <div class="col-md-4" *ngFor="let item of [].constructor(6)">
                          <div class="">
                            <ngx-shimmer-loading
                              [width]="'100%'"
                              [height]="'30px'"
                              style="border-radius: 50%"
                            ></ngx-shimmer-loading>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-template #salaryTemplateElseCondition>
                    <ng-container
                      *ngIf="
                        salaryTemplateComponentResponseList.length !== 0 &&
                          !dataNotFoundPlaceholderForSalaryTemplate &&
                          !networkConnectionErrorPlaceHolderForSalaryTemplate;
                        else errorInFetchingSalaryTemplate
                      "
                    >
                      <div class="add-shift-main-box ng-star-inserted">
                        <div
                          class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2">
                            <h6 class="mb-0 lh-lgg">
                              Salary Template’s
                            </h6>
                          <div *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)">
                            <a data-bs-toggle="modal" data-bs-target="#addsalarytemplate" class="add-shift-time-btn" (click)="clearSalaryTemplateModal()">
                              <i class="bi bi-plus"></i> Create your own salary
                              template
                            </a>
                          </div>
                        </div>
                        <div
                          class="shift-set"
                          *ngFor="let salaryTemplateComponentResponse of salaryTemplateComponentResponseList;let i = index ">
                          <div class="shift-time p-3 m-3 ng-star-inserted">
                            <div>
                              <div
                                class="d-flex align-items-center justify-content-between"
                              >
                                <div class="d-flex align-items-center gap-3">
                                  <div>
                                    <span
                                      class="automation-rules-icon d-flex align-items-center justify-content-center"
                                    >
                                      <img src="assets/images/rule-icon.svg" />
                                    </span>
                                  </div>
                                  <div>
                                    <h6 class="text-truncate mb-0">
                                      {{ salaryTemplateComponentResponse.name }}
                                    </h6>
                                  </div>
                                </div>
                                <div class="d-flex align-items-center gap-3">
                                    <!-- <a
                                      data-bs-toggle="modal"
                                      data-bs-target="#addsalarytemplate"
                                      (click)="
                                        updateSalaryTemplateComponentBySalaryTemplateId(
                                          salaryTemplateComponentResponse,
                                          STAFF_SELECTION_STEP
                                        )
                                      " class="pointer"
                                    >
                                      <i class="bi bi-people"></i>
                                    </a> -->

                                    <span class="staff-leave-setting bg-white font-12 fw-semibold border-rounded-2 lh-sm pointer d-flex align-items-center justify-content-center"  data-bs-toggle="modal"
                                    data-bs-target="#addsalarytemplate"
                                    (click)="
                                      updateSalaryTemplateComponentBySalaryTemplateId(
                                        salaryTemplateComponentResponse,
                                        STAFF_SELECTION_STEP
                                      )
                                    " >Staff - {{staffCount(salaryTemplateComponentResponse.userUuids)}}</span>
                                    <!-- <a
                                      data-bs-toggle="modal"
                                      data-bs-target="#addsalarytemplate"
                                      (click)="
                                        updateSalaryTemplateComponentBySalaryTemplateId(
                                          salaryTemplateComponentResponse,
                                          SALARY_TEMPLATE_STEP
                                        )
                                      " class="pointer" >
                                    <i class="bi  "
                                      [ngClass]="{'bi-pencil':rbacService.hasWriteAccess(Routes.SALARYSETTING),'bi-eye':!rbacService.hasWriteAccess(Routes.SALARYSETTING)}" ></i>
                                      <svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" fill="none">
                                        <mask id="mask0_10613_125" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="22">
                                        <rect width="22.0262" height="22" fill="#444444"/>
                                        </mask>
                                        <g mask="url(#mask0_10613_125)">
                                        <path d="M4.58904 17.4173H5.74679L15.1414 8.03386L13.9837 6.87748L4.58904 16.2609V17.4173ZM3.2124 18.7923V15.6899L15.3181 3.60384C15.4568 3.47795 15.61 3.38071 15.7777 3.31211C15.9455 3.24336 16.1214 3.20898 16.3054 3.20898C16.4894 3.20898 16.6676 3.2416 16.84 3.30684C17.0125 3.37208 17.1652 3.47581 17.2982 3.61805L18.419 4.75151C18.5614 4.88427 18.6629 5.03705 18.7234 5.20984C18.784 5.38263 18.8143 5.55542 18.8143 5.72821C18.8143 5.91262 18.7828 6.08854 18.7198 6.25598C18.6567 6.42358 18.5565 6.57666 18.419 6.71523L6.31855 18.7923H3.2124ZM14.5524 7.46575L13.9837 6.87748L15.1414 8.03386L14.5524 7.46575Z" fill="#444444"/>
                                        </g>
                                      </svg>

                                      <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                                        <mask id="mask0_9177_4533" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="17" height="17">
                                        <rect width="17" height="17" fill="#D9D9D9"/>
                                        </mask>
                                        <g mask="url(#mask0_9177_4533)">
                                        <path d="M8.50016 11.334C9.38558 11.334 10.1382 11.0241 10.758 10.4043C11.3778 9.7845 11.6877 9.0319 11.6877 8.14648C11.6877 7.26107 11.3778 6.50846 10.758 5.88867C10.1382 5.26888 9.38558 4.95898 8.50016 4.95898C7.61475 4.95898 6.86214 5.26888 6.24235 5.88867C5.62256 6.50846 5.31266 7.26107 5.31266 8.14648C5.31266 9.0319 5.62256 9.7845 6.24235 10.4043C6.86214 11.0241 7.61475 11.334 8.50016 11.334ZM8.50016 10.059C7.96891 10.059 7.51735 9.87305 7.14548 9.50117C6.7736 9.1293 6.58766 8.67773 6.58766 8.14648C6.58766 7.61523 6.7736 7.16367 7.14548 6.7918C7.51735 6.41992 7.96891 6.23398 8.50016 6.23398C9.03141 6.23398 9.48298 6.41992 9.85485 6.7918C10.2267 7.16367 10.4127 7.61523 10.4127 8.14648C10.4127 8.67773 10.2267 9.1293 9.85485 9.50117C9.48298 9.87305 9.03141 10.059 8.50016 10.059ZM8.50016 13.459C6.77655 13.459 5.20641 12.9779 3.78975 12.0158C2.37308 11.0536 1.346 9.76385 0.708496 8.14648C1.346 6.52912 2.37308 5.23937 3.78975 4.27721C5.20641 3.31506 6.77655 2.83398 8.50016 2.83398C10.2238 2.83398 11.7939 3.31506 13.2106 4.27721C14.6272 5.23937 15.6543 6.52912 16.2918 8.14648C15.6543 9.76385 14.6272 11.0536 13.2106 12.0158C11.7939 12.9779 10.2238 13.459 8.50016 13.459ZM8.50016 12.0423C9.83419 12.0423 11.059 11.6911 12.1746 10.9887C13.2903 10.2862 14.1432 9.33885 14.7335 8.14648C14.1432 6.95412 13.2903 6.00673 12.1746 5.3043C11.059 4.60187 9.83419 4.25065 8.50016 4.25065C7.16613 4.25065 5.94131 4.60187 4.82568 5.3043C3.71006 6.00673 2.85711 6.95412 2.26683 8.14648C2.85711 9.33885 3.71006 10.2862 4.82568 10.9887C5.94131 11.6911 7.16613 12.0423 8.50016 12.0423Z" fill="#444444"/>
                                        </g>
                                      </svg>
                                    </a> -->
                                    <a href="" data-bs-toggle="modal"
                                    data-bs-target="#addsalarytemplate" (click)="
                                    updateSalaryTemplateComponentBySalaryTemplateId(
                                      salaryTemplateComponentResponse,
                                      SALARY_TEMPLATE_STEP
                                    )
                                  " >

                                      <!-- Pencil Icon (Visible if user has write access) -->
                                      <ng-container *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING); else viewIcon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" fill="none">
                                          <mask id="mask0_10613_125" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="22">
                                            <rect width="22.0262" height="22" fill="#444444" />
                                          </mask>
                                          <g mask="url(#mask0_10613_125)">
                                            <path d="M4.58904 17.4173H5.74679L15.1414 8.03386L13.9837 6.87748L4.58904 16.2609V17.4173ZM3.2124 18.7923V15.6899L15.3181 3.60384C15.4568 3.47795 15.61 3.38071 15.7777 3.31211C15.9455 3.24336 16.1214 3.20898 16.3054 3.20898C16.4894 3.20898 16.6676 3.2416 16.84 3.30684C17.0125 3.37208 17.1652 3.47581 17.2982 3.61805L18.419 4.75151C18.5614 4.88427 18.6629 5.03705 18.7234 5.20984C18.784 5.38263 18.8143 5.55542 18.8143 5.72821C18.8143 5.91262 18.7828 6.08854 18.7198 6.25598C18.6567 6.42358 18.5565 6.57666 18.419 6.71523L6.31855 18.7923H3.2124ZM14.5524 7.46575L13.9837 6.87748L15.1414 8.03386L14.5524 7.46575Z" fill="#444444" />
                                          </g>
                                        </svg>
                                      </ng-container>

                                      <!-- Eye Icon (If user does NOT have write access) -->
                                      <ng-template #viewIcon>
                                        <svg *ngIf="!rbacService.hasWriteAccess(Routes.LEAVESETTING)" xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                                          <mask id="mask0_9177_4533" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="17" height="17">
                                            <rect width="17" height="17" fill="#D9D9D9"/>
                                          </mask>
                                          <g mask="url(#mask0_9177_4533)">
                                            <path d="M8.50016 11.334C9.38558 11.334 10.1382 11.0241 10.758 10.4043C11.3778 9.7845 11.6877 9.0319 11.6877 8.14648C11.6877 7.26107 11.3778 6.50846 10.758 5.88867C10.1382 5.26888 9.38558 4.95898 8.50016 4.95898C7.61475 4.95898 6.86214 5.26888 6.24235 5.88867C5.62256 6.50846 5.31266 7.26107 5.31266 8.14648C5.31266 9.0319 5.62256 9.7845 6.24235 10.4043C6.86214 11.0241 7.61475 11.334 8.50016 11.334ZM8.50016 10.059C7.96891 10.059 7.51735 9.87305 7.14548 9.50117C6.7736 9.1293 6.58766 8.67773 6.58766 8.14648C6.58766 7.61523 6.7736 7.16367 7.14548 6.7918C7.51735 6.41992 7.96891 6.23398 8.50016 6.23398C9.03141 6.23398 9.48298 6.41992 9.85485 6.7918C10.2267 7.16367 10.4127 7.61523 10.4127 8.14648C10.4127 8.67773 10.2267 9.1293 9.85485 9.50117C9.48298 9.87305 9.03141 10.059 8.50016 10.059ZM8.50016 13.459C6.77655 13.459 5.20641 12.9779 3.78975 12.0158C2.37308 11.0536 1.346 9.76385 0.708496 8.14648C1.346 6.52912 2.37308 5.23937 3.78975 4.27721C5.20641 3.31506 6.77655 2.83398 8.50016 2.83398C10.2238 2.83398 11.7939 3.31506 13.2106 4.27721C14.6272 5.23937 15.6543 6.52912 16.2918 8.14648C15.6543 9.76385 14.6272 11.0536 13.2106 12.0158C11.7939 12.9779 10.2238 13.459 8.50016 13.459ZM8.50016 12.0423C9.83419 12.0423 11.059 11.6911 12.1746 10.9887C13.2903 10.2862 14.1432 9.33885 14.7335 8.14648C14.1432 6.95412 13.2903 6.00673 12.1746 5.3043C11.059 4.60187 9.83419 4.25065 8.50016 4.25065C7.16613 4.25065 5.94131 4.60187 4.82568 5.3043C3.71006 6.00673 2.85711 6.95412 2.26683 8.14648C2.85711 9.33885 3.71006 10.2862 4.82568 10.9887C5.94131 11.6911 7.16613 12.0423 8.50016 12.0423Z" fill="#444444"/>
                                          </g>
                                        </svg>
                                      </ng-template>

                                    </a>
                                    <a *ngIf=":rbacService.hasWriteAccess(Routes.SALARYSETTING)" class="delete-rule" style="cursor: pointer"
                                    (click)="deleteSalaryTemplateByIdMethodCall(salaryTemplateComponentResponse.id )" >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                      <mask id="mask0_10613_119" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="23">
                                      <rect x="0.0527344" y="0.164062" width="22.0262" height="22" fill="#D9D9D9"/>
                                      </mask>
                                      <g mask="url(#mask0_10613_119)">
                                      <path d="M6.75945 18.956C6.3018 18.956 5.91083 18.7941 5.58656 18.4704C5.26244 18.1465 5.10038 17.756 5.10038 17.2989V5.66431H4.18262V4.28931H8.31253V3.47852H13.8191V4.28931H17.949V5.66431H17.0312V17.2989C17.0312 17.7619 16.8706 18.1539 16.5494 18.4747C16.2282 18.7956 15.8358 18.956 15.3722 18.956H6.75945ZM15.6546 5.66431H6.47701V17.2989C6.47701 17.3812 6.50347 17.4488 6.5564 17.5017C6.60932 17.5545 6.67701 17.581 6.75945 17.581H15.3722C15.4428 17.581 15.5075 17.5516 15.5663 17.4927C15.6251 17.4341 15.6546 17.3695 15.6546 17.2989V5.66431ZM8.6833 15.7476H10.0597V7.49764H8.6833V15.7476ZM12.0719 15.7476H13.4483V7.49764H12.0719V15.7476Z" fill="#FF0000"/>
                                      </g>
                                    </svg>
                                    </a>
                                  <span
                                    data-bs-toggle="collapse"
                                    role="button"
                                    class="list-down-btn border-rounded-2 bg-white d-flex align-items-center justify-content-center"
                                    [attr.data-bs-target]="
                                      '#multiCollapseExample' + i
                                    "
                                    [attr.aria-controls]="
                                      'multiCollapseExample' + i
                                    "
                                    [attr.aria-expanded]="
                                      activeIndex == i ? 'true' : 'false'
                                    "
                                    (click)="toggleCollapse(i)"
                                  >
                                    <i class="bi bi-chevron-down"></i>
                                  </span>
                                </div>
                              </div>
                              <div
                                class="multi-collapse ng-star-inserted collapse"
                                [id]="'multiCollapseExample' + i"
                                [class.show]="activeIndex === i"
                              >
                                <div class="d-flex align-items-center justify-content-between mt-3" >
                                  <div>
                                  </div>
                                </div>
                                <div class="m-3 holiday-list">
                                  <div
                                    class="row holiday-list-box-height bg-white p-2 pt-3"
                                  >
                                    <div
                                      class="col-md-6"
                                      *ngFor="
                                        let salaryComponentResponse of salaryTemplateComponentResponse.salaryComponentResponseList
                                      "
                                    >
                                      <!-- class="holiday-date mb-3 universal-holiday" -->
                                      <div
                                        [ngClass]="{
                                          'holiday-date mb-3 custom-holiday':
                                            salaryComponentResponse.percentageOfBasicPay,
                                          'holiday-date mb-3 universal-holiday':
                                            !salaryComponentResponse.percentageOfBasicPay
                                        }"
                                      >
                                        <p class="mb-0">
                                          {{ salaryComponentResponse.name }} |
                                          <span
                                            style="color: #009688"
                                            *ngIf="
                                              salaryComponentResponse.percentageOfBasicPay
                                            "
                                          >
                                            {{ salaryComponentResponse.value }}%
                                            (of Basic Pay)
                                          </span>
                                          <span
                                            style="color: #009688"
                                            *ngIf="
                                              !salaryComponentResponse.percentageOfBasicPay
                                            "
                                          >
                                            {{ salaryComponentResponse.value }}%
                                          </span>
                                        </p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </ng-container>
                  </ng-template>

                  <ng-template #errorInFetchingSalaryTemplate>


                    <div
                      class="empty-file"
                      *ngIf="dataNotFoundPlaceholderForSalaryTemplate"
                    >
                      <nz-empty
                        nzNotFoundImage="assets/images/payment-img.svg"
                        [nzNotFoundContent]="contentTpl"
                      >
                        <ng-template #contentTpl>
                          <p class="mb-1 empty-detail font-14">
                            Salary Templates Not Found
                          </p>
                          <div class="add-filtter">
                            <a *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                              class="text-primary font-14 text-center"
                              data-bs-toggle="modal"
                              data-bs-target="#addsalarytemplate"
                            >
                             <i class="bi bi-plus"></i> Create salary template
                            </a>
                          </div>
                        </ng-template>
                      </nz-empty>
                    </div>

                    <div
                      class="empty-file"
                      *ngIf="networkConnectionErrorPlaceHolderForSalaryTemplate"
                    >
                      <div class="errorboxmain">
                        <div class="errorboxinner text-center">
                          <div class="errorboxplaceholder mb-2">
                            <img
                              src="assets/images/signal.svg"
                              style="width: 80px"
                            />
                          </div>
                          <div class="">
                            <h4>Something went wrong</h4>
                            <p>
                              An error occurred while processing your request.
                              Please refresh the page and try again.
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <!-- Salary Upload -->

          <div class="col-md-4 mt-3">
            <div class="form-roe-data">
              <h5>Upload Salary</h5>
              <p>A quick snapshot of your company.</p>
            </div>
          </div>
          <div class="col-md-7 mt-3 mb-4">
            <!-- Section to show the uploaded document -->

            <div class="row">
              <div class="col-md-12">
                <div
                  class="upload-salary-detail-box p-3 d-flex align-items-center justify-content-between"
                >
                  <div class="d-flex align-items-center gap-3" [ngClass]="{'disabled-lnk':downloading}">
                    <p class="mb-0" (click)="getCurrentSalaryReport()">
                      <a class="text-primary"
                        >Download a excel file.</a>
                        Update the data
                    </p>
                    <div class="spinner-border text-primary" role="status" *ngIf="downloading">
                      <span class="visually-hidden"></span>
                    </div>
                  </div>

                  <div class="d-flex align-items-center gap-3" [ngClass]="{'disabled-lnk':uploading}" *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)">
                    <p class="mb-0">
                      <input
                      id="fileSelect"
                      type="file"
                      name="img[]"
                      accept=".xlsx,.xls"
                      class="input"
                      (change)="selectFile($event)"
                      />
                      Drag file here to upload or,
                      <a class="text-primary">choose file</a>

                    </p>
                    <div class="spinner-border text-primary" role="status" *ngIf="uploading">
                      <span class="visually-hidden"></span>
                    </div>
                  </div>

                </div>
              </div>
            </div>

            <div>
              <div
                class="mt-3 upload-date p-2 d-flex align-items-center justify-content-between"
               *ngIf="salaryBulkAction!=null && salaryBulkAction.length>0"
              >
                <div class="d-flex align-items-center gap-2">
                  <div class="d-flex align-items-center gap-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="36"
                      height="36"
                      viewBox="0 0 36 36"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_4376_790)">
                        <path
                          d="M34.8755 30.375H19.1255C18.5045 30.375 18.0005 29.871 18.0005 29.25C18.0005 28.629 18.0005 7.371 18.0005 6.75C18.0005 6.129 18.5045 5.625 19.1255 5.625H34.8755C35.4965 5.625 36.0005 6.129 36.0005 6.75V29.25C36.0005 29.871 35.4965 30.375 34.8755 30.375Z"
                          fill="#ECEFF1"
                        />
                        <path
                          d="M23.626 12.3828H19.126C18.505 12.3828 18.001 11.8788 18.001 11.2578C18.001 10.6368 18.505 10.1328 19.126 10.1328H23.626C24.247 10.1328 24.751 10.6368 24.751 11.2578C24.751 11.8788 24.247 12.3828 23.626 12.3828Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M23.626 16.8789H19.126C18.505 16.8789 18.001 16.3749 18.001 15.7539C18.001 15.1329 18.505 14.6289 19.126 14.6289H23.626C24.247 14.6289 24.751 15.1329 24.751 15.7539C24.751 16.3749 24.247 16.8789 23.626 16.8789Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M23.626 21.3789H19.126C18.505 21.3789 18.001 20.8749 18.001 20.2539C18.001 19.6329 18.505 19.1289 19.126 19.1289H23.626C24.247 19.1289 24.751 19.6329 24.751 20.2539C24.751 20.8749 24.247 21.3789 23.626 21.3789Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M23.626 25.8867H19.126C18.505 25.8867 18.001 25.3827 18.001 24.7617C18.001 24.1407 18.505 23.6367 19.126 23.6367H23.626C24.247 23.6367 24.751 24.1407 24.751 24.7617C24.751 25.3827 24.247 25.8867 23.626 25.8867Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M30.3774 12.3828H28.1274C27.5064 12.3828 27.0024 11.8788 27.0024 11.2578C27.0024 10.6368 27.5064 10.1328 28.1274 10.1328H30.3774C30.9984 10.1328 31.5024 10.6368 31.5024 11.2578C31.5024 11.8788 30.9984 12.3828 30.3774 12.3828Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M30.3774 16.8789H28.1274C27.5064 16.8789 27.0024 16.3749 27.0024 15.7539C27.0024 15.1329 27.5064 14.6289 28.1274 14.6289H30.3774C30.9984 14.6289 31.5024 15.1329 31.5024 15.7539C31.5024 16.3749 30.9984 16.8789 30.3774 16.8789Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M30.3774 21.3789H28.1274C27.5064 21.3789 27.0024 20.8749 27.0024 20.2539C27.0024 19.6329 27.5064 19.1289 28.1274 19.1289H30.3774C30.9984 19.1289 31.5024 19.6329 31.5024 20.2539C31.5024 20.8749 30.9984 21.3789 30.3774 21.3789Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M30.3774 25.8867H28.1274C27.5064 25.8867 27.0024 25.3827 27.0024 24.7617C27.0024 24.1407 27.5064 23.6367 28.1274 23.6367H30.3774C30.9984 23.6367 31.5024 24.1407 31.5024 24.7617C31.5024 25.3827 30.9984 25.8867 30.3774 25.8867Z"
                          fill="#388E3C"
                        />
                        <path
                          d="M19.8427 1.38527C19.5862 1.17152 19.242 1.07927 18.918 1.14677L0.918 4.52177C0.38475 4.62077 0 5.08427 0 5.62652V30.3765C0 30.9165 0.38475 31.3823 0.918 31.4813L18.918 34.8563C18.9855 34.8698 19.0552 34.8765 19.125 34.8765C19.386 34.8765 19.6402 34.7865 19.8427 34.6178C20.1015 34.404 20.25 34.0845 20.25 33.7515V2.25152C20.25 1.91627 20.1015 1.59902 19.8427 1.38527Z"
                          fill="#2E7D32"
                        />
                        <path
                          d="M15.4731 21.7587L11.9159 17.6929L15.5136 13.0669C15.8961 12.5764 15.8061 11.8699 15.3179 11.4874C14.8296 11.1049 14.1231 11.1949 13.7384 11.6832L10.4061 15.9672L7.59813 12.7587C7.18638 12.2862 6.47538 12.2434 6.01188 12.6529C5.54388 13.0624 5.49663 13.7734 5.90613 14.2392L8.99988 17.7762L5.86338 21.8082C5.48088 22.2987 5.57088 23.0052 6.05913 23.3877C6.26613 23.5474 6.51138 23.6239 6.75213 23.6239C7.08738 23.6239 7.41813 23.4754 7.64088 23.1897L10.5096 19.4997L13.7811 23.2369C14.0039 23.4934 14.3144 23.6239 14.6271 23.6239C14.8904 23.6239 15.1536 23.5317 15.3674 23.3449C15.8354 22.9354 15.8826 22.2244 15.4731 21.7587Z"
                          fill="#FAFAFA"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_4376_790">
                          <rect width="36" height="36" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                    <h5 class="mb-0 font-14 selery-file-name">
                     {{lastUploadedFileName}}
                    </h5>
                  </div>

                  <span class="separator"></span>

                  <p class="mb-0 font-13" style="color: #8d93a1">
                    Uploaded : {{ lastUploadedDate | date : 'longDate'}}
                  </p>
                </div>

                <button
                  class="btn p-0 text-primary font-14"
                  data-bs-toggle="collapse" href="#collapseExample"
                  role="button" aria-expanded="false"
                   aria-controls="collapseExample" *ngIf="!isViewMore" (click)="isViewMore = true">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <mask id="mask0_4339_929" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="17" height="17"
                    > <rect width="17" height="17" fill="#D9D9D9" /></mask>  <g mask="url(#mask0_4339_929)">
                      <path
                        d="M4.95833 6.3737V4.95703H14.875V6.3737H4.95833ZM4.95833 9.20703V7.79036H14.875V9.20703H4.95833ZM4.95833 12.0404V10.6237H14.875V12.0404H4.95833ZM2.83333 6.3737C2.63264 6.3737 2.46441 6.30582 2.32865 6.17005C2.19288 6.03429 2.125 5.86606 2.125 5.66536C2.125 5.46467 2.19288 5.29644 2.32865 5.16068C2.46441 5.02491 2.63264 4.95703 2.83333 4.95703C3.03403 4.95703 3.20226 5.02491 3.33802 5.16068C3.47378 5.29644 3.54167 5.46467 3.54167 5.66536C3.54167 5.86606 3.47378 6.03429 3.33802 6.17005C3.20226 6.30582 3.03403 6.3737 2.83333 6.3737ZM2.83333 9.20703C2.63264 9.20703 2.46441 9.13915 2.32865 9.00339C2.19288 8.86762 2.125 8.69939 2.125 8.4987C2.125 8.298 2.19288 8.12977 2.32865 7.99401C2.46441 7.85825 2.63264 7.79036 2.83333 7.79036C3.03403 7.79036 3.20226 7.85825 3.33802 7.99401C3.47378 8.12977 3.54167 8.298 3.54167 8.4987C3.54167 8.69939 3.47378 8.86762 3.33802 9.00339C3.20226 9.13915 3.03403 9.20703 2.83333 9.20703ZM2.83333 12.0404C2.63264 12.0404 2.46441 11.9725 2.32865 11.8367C2.19288 11.701 2.125 11.5327 2.125 11.332C2.125 11.1313 2.19288 10.9631 2.32865 10.8273C2.46441 10.6916 2.63264 10.6237 2.83333 10.6237C3.03403 10.6237 3.20226 10.6916 3.33802 10.8273C3.47378 10.9631 3.54167 11.1313 3.54167 11.332C3.54167 11.5327 3.47378 11.701 3.33802 11.8367C3.20226 11.9725 3.03403 12.0404 2.83333 12.0404Z"
                        fill="#6666F2"
                      />
                    </g>
                  </svg>
                  View Logs
                </button>
                <button class="btn p-0 text-primary font-14" data-bs-toggle="collapse" href="#collapseExample" role="button"
                  aria-expanded="false" aria-controls="collapseExample" *ngIf="isViewMore" (click)="isViewMore = false">
                 <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                  <mask id="mask0_4700_378" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="17" height="17">
                    <rect width="17" height="17" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_4700_378)">
                    <path d="M8.49958 8.44225L3.94183 13L2.55469 11.6129L8.49958 5.66797L14.4445 11.6129L13.0573 13L8.49958 8.44225Z"
                      fill="#6666F2" />
                  </g>
                </svg>
                  View Less
                </button>
              </div>

              <div class="collapse" id="collapseExample">
                  <div class="selery-logs p-3 ">
                    <div class="activity ng-star-inserted" *ngFor="let bulkAction of salaryBulkAction; let i= index;">
                      <div class="activity-info">
                        <div class="icon-info-activity active-logs">
                         <p class="mb-0">{{salaryBulkAction.length - i}}</p>
                        </div>
                        <div class="activity-info-text">
                            <div class="media align-items-center">
                              <div class="media-body ms-2 align-self-center">
                                <h5 class="mb-1 font-14"> Updated to : {{ bulkAction.createdDate | date : 'mediumDate'}} {{ bulkAction.createdDate | date : 'shortTime'}}</h5>
                                <p class="text-muted font-12 mb-0"> File name: {{ bulkAction.fileName}} </p>
                              </div>
                            </div>
                        </div>
                        <div >
                          <span class="badge bg-success" *ngIf="bulkAction.status == 'IMPORTED'" (click)="getBulkUpdatedUser(bulkAction.id)">success</span>
                          <span class="badge bg-danger" *ngIf="bulkAction.status == 'FAILED'">failed</span>
                        </div>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <!-- Managing statutories -->
          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Manage your Statutories</h5>
              <p>A quick snapshot of your company.</p>
            </div>
          </div>
          <div class="col-md-7">
            <br />
            <ng-container
              *ngIf="
                isShimmerForStatutory &&
                  statutoryResponseList.length === 0 &&
                  !dataNotFoundPlaceholderForStatutory &&
                  !networkConnectionErrorPlaceHolderForStatutory;
                else statutoryElseCondition
              "
            >
              <div class="row">
                <div class="col-md-12">
                  <div class="attendance-settin-list mb-3" *ngFor="let item of [].constructor(2)">
                    <ngx-shimmer-loading
                      [width]="'100%'"
                      [height]="'60px'"
                      style="border-radius: 50%"
                    ></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
            </ng-container>
            <ng-template #statutoryElseCondition>
              <ng-container
                *ngIf="
                  statutoryResponseList.length !== 0 &&
                    !dataNotFoundPlaceholderForStatutory &&
                    !networkConnectionErrorPlaceHolderForStatutory;
                  else errorInFetchingStatutory
                "
              >
                <div class="row mb-3">
                  <div class="attendance-settin-list"
                    *ngFor="let statutoryResponse of statutoryResponseList;let i = index;"
                  >
                    <div class="categryCustomizecard d-flex pointer">
                      <div class="categryCustomizeinfo">
                        <label for="customizecategory{{i}}" class="mb-0">
                          <h3>{{ statutoryResponse.name }}</h3>
                          <p>{{ statutoryResponse.description }}</p>
                        </label>
                      </div>
                      <div class="active-check">
                        <nz-switch  *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                          [(ngModel)]="statutoryResponse.switchValue"
                          [ngModelOptions]="{ standalone: true }"
                          [nzControl]="true"
                          (click)="toggleStatutory(statutoryResponse)"
                          [nzLoading]="statutoryResponse.loading"
                        ></nz-switch>
                        <nz-switch [ngModel]="statutoryResponse.switchValue" [ngModelOptions]="{ standalone: true }"
                          [class.no-click]="!rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                            *ngIf="!rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                         [attr.checked]="statutoryResponse.switchValue"  (ngModelChange)="helperService.showPrivilegeErrorToast()"></nz-switch>

                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-template>
            <ng-template #errorInFetchingStatutory>
              <div
                class="empty-file"
                *ngIf="dataNotFoundPlaceholderForStatutory"
              >
                <div class="errorboxmain">
                  <div class="errorboxinner">
                    <div class="errorboxplaceholder mb-2">
                      <img
                        src="assets/images/empty-box.svg"
                        style="width: 80px"
                      />
                    </div>
                    <div class="">
                      <p class="mb-0">No Statutory Found!</p>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="empty-file"
                *ngIf="networkConnectionErrorPlaceHolderForStatutory"
              >
                <div class="errorboxmain">
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>
                    <div class="">
                      <h4>Something went wrong</h4>
                      <p>
                        An error occurred while processing your request. Please
                        refresh the page and try again.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>
        </div>
        <!--end row-->
      </div>
    </div>
  </div>
</div>
<div
  class="modal fade"
  id="attendance-setting"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          Month Calculation
        </h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <div class="attendance-settin-list">
              <div class="categryCustomizecard d-flex pointer">
                <div class="categryCustomizeinfo">
                  <label for="customizecategory1" class="mb-0">
                    <h3>Celendar Month</h3>
                    <p>
                      Large images are best for products where every detail is a
                      part of the product’s value.
                    </p>
                  </label>
                </div>
                <div class="active-check">
                  <i class="bi bi-check2"></i>
                </div>
              </div>
              <div class="categryCustomizecard d-flex pointer">
                <div class="categryCustomizeinfo">
                  <label for="customizecategory1" class="mb-0">
                    <h3>Every Month 30 Days</h3>
                    <p>
                      Large images are best for products where every detail is a
                      part of the product’s value.
                    </p>
                  </label>
                </div>
                <div class="noactive-check">
                  <i class="bi bi-check2"></i>
                </div>
              </div>
              <div class="categryCustomizecard d-flex pointer">
                <div class="categryCustomizeinfo">
                  <label for="customizecategory1" class="mb-0">
                    <h3>Exclude Weekly Offs</h3>
                    <p>
                      Large images are best for products where every detail is a
                      part of the product’s value.
                    </p>
                  </label>
                </div>
                <div class="noactive-check">
                  <i class="bi bi-check2"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--end row-->
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary">Cancel</button>
        <button type="button" class="btn btn-primary">Save & Contnue</button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->
<div
  class="modal fade"
  id="Earnings-setting"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">Earnings</h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <div class="">
              <div class="d-flex align-items-center information-box">
                <div class="basic-text">
                  <h5>Basic Pay</h5>
                  <p class="mb-0">Included in PF calculation</p>
                </div>
                <div class="enter-ammount position-relative">
                  <div class="">
                    <input
                      type="number"
                      class="form-control"
                      id="exampleInputEmail1"
                      aria-describedby="emailHelp"
                      placeholder="Enter Amount"
                    />
                    <i
                      class="bi bi-percent search-icon"
                      style="margin: auto; margin-left: 10px"
                    ></i>
                  </div>
                </div>
                <div
                  class="delete-btn d-flex align-items-center"
                  style="gap: 10px"
                >
                  <i class="bi bi-pencil-square"></i>
                  <i class="bi bi-trash"></i>
                </div>
              </div>
              <div class="d-flex align-items-center information-box">
                <div class="basic-text">
                  <h5>HRA (House Rent Allowance)</h5>
                </div>
                <div class="enter-ammount position-relative">
                  <div class="">
                    <input
                      type="number"
                      class="form-control"
                      id="exampleInputEmail1"
                      aria-describedby="emailHelp"
                      placeholder="Enter Amount"
                    />
                    <i
                      class="bi bi-percent search-icon"
                      style="margin: auto; margin-left: 10px"
                    ></i>
                  </div>
                </div>
                <div class="delete-btn">
                  <i class="bi bi-trash"></i>
                </div>
              </div>
              <div class="d-flex align-items-center information-box">
                <div class="basic-text">
                  <h5>Medical Allowance</h5>
                </div>
                <div class="enter-ammount position-relative">
                  <div class="">
                    <input
                      type="number"
                      class="form-control"
                      id="exampleInputEmail1"
                      aria-describedby="emailHelp"
                      placeholder="Enter Amount"
                    />
                    <i
                      class="bi bi-percent search-icon"
                      style="margin: auto; margin-left: 10px"
                    ></i>
                  </div>
                </div>
                <div class="delete-btn">
                  <i class="bi bi-trash"></i>
                </div>
              </div>
              <div class="d-flex align-items-center information-box">
                <div class="basic-text">
                  <h5>Special Allowance</h5>
                </div>
                <div class="enter-ammount position-relative">
                  <div class="">
                    <input
                      type="number"
                      class="form-control"
                      id="exampleInputEmail1"
                      aria-describedby="emailHelp"
                      placeholder="Enter Amount"
                    />
                    <i
                      class="bi bi-percent search-icon"
                      style="margin: auto; margin-left: 10px"
                    ></i>
                  </div>
                </div>
                <div class="delete-btn">
                  <i class="bi bi-trash"></i>
                </div>
              </div>
              <div class="">
                <a href="" class="add-more">Add More</a>
              </div>
            </div>
          </div>
        </div>
        <!--end row-->
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary">Cancel</button>
        <button type="button" class="btn btn-primary">Save & Contnue</button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->
<div
  class="modal fade"
  id="deduction-setting"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">Deduction</h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="provident-fund">
                  <h5>Provident Fund (PF)</h5>
                </div>
              </div>
              <div class="col-md-5 mb-3">
                <div class="vertion">
                  <div class="dropdown" style="width: 100%">
                    <button
                      class="btn btn-secondary dropdown-toggle new-deopdown"
                      type="button"
                      id="dropdownMenuButton1"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      Variable (12%) <i class="bi bi-chevron-down"></i>
                    </button>
                    <ul
                      class="dropdown-menu"
                      aria-labelledby="dropdownMenuButton1"
                      style="width: 100%"
                    >
                      <li>
                        <a class="dropdown-item">Variable (14%) </a>
                      </li>
                      <li>
                        <a class="dropdown-item">Variable (16%) </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <div class="provident-fund">
                  <h5>Employee State Insurance (ESI)</h5>
                </div>
              </div>
              <div class="col-md-5 mb-3">
                <div class="vertion">
                  <div class="dropdown" style="width: 100%">
                    <button
                      class="btn btn-secondary dropdown-toggle new-deopdown"
                      type="button"
                      id="dropdownMenuButton1"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      4 Selected <i class="bi bi-chevron-down"></i>
                    </button>
                    <ul
                      class="dropdown-menu"
                      aria-labelledby="dropdownMenuButton1"
                      style="width: 100%"
                    >
                      <li>
                        <a class="dropdown-item"> 6 Selected </a>
                      </li>
                      <li>
                        <a class="dropdown-item"> 8 Selected </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="provident-fund">
                  <h5>Professional Tax (PT)</h5>
                </div>
              </div>
              <div class="col-md-5 mb-3">
                <div class="vertion">
                  <p class="mb-0">
                    Added | ₹ 0 (As Per Current Month's Calculation)
                  </p>
                </div>
              </div>
              <div class="col-md-12">
                <div class="d-flex" style="gap: 10px">
                  <div class="">
                    <p class="mb-0">if_monthly_payable_salery_is</p>
                  </div>
                  <div>
                    <div class="position-relative">
                      <div>
                        <input
                          type="number"
                          id="exampleInputEmail1"
                          aria-describedby="emailHelp"
                          placeholder="Enter Amount"
                          class="form-control"
                        />
                        <i
                          class="bi bi-currency-rupee search-icon"
                          style="margin: auto; margin-left: 10px"
                        ></i>
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <div class="position-relative">
                      <div>
                        <input
                          type="number"
                          id="exampleInputEmail1"
                          aria-describedby="emailHelp"
                          placeholder="Enter Amount"
                          class="form-control"
                        />
                        <i
                          class="bi bi-currency-rupee search-icon"
                          style="margin: auto; margin-left: 10px"
                        ></i>
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <div class="position-relative">
                      <div>
                        <input
                          type="number"
                          id="exampleInputEmail1"
                          aria-describedby="emailHelp"
                          placeholder="Enter Amount"
                          class="form-control"
                        />
                        <i
                          class="bi bi-currency-rupee search-icon"
                          style="margin: auto; margin-left: 10px"
                        ></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-3 mb-3">
                <a href="" class="add-more">Add More</a>
              </div>
            </div>
          </div>
        </div>
        <!--end row-->
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary">Cancel</button>
        <button type="button" class="btn btn-primary">Save & Contnue</button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->
<!-- Modal with an *ngIf directive to conditionally render based on `switchValue` -->
<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#statutoryPF" #statutoryPFButton>
  Launch static backdrop modal
</button>
<div
  class="modal"
  id="statutoryPF"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  style="background: rgba(0, 0, 0, 0.5)"
>
  <div class="modal-dialog modal-dialog-centered mx-auto" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom" style="background-color: white">
        <h6
          class="modal-title m-0"
          id="exampleModalDefaultLabel"
          style="color: black; font-size: large"
        >
          Employees' Provident Fund
        </h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"

        ></button>
      </div>
      <div class="modal-body employees-provident">
        <div
          *ngFor="
            let statutoryAttributeResponse of statutoryAttributeResponseList;
            let i = index
          "
        >
          <div class="form-group mb-3">
            <label style="padding-bottom: 6px">{{
              statutoryAttributeResponse.name
            }}</label>
            <div class="dropdown" style="width: 100%">
              <button
                type="button"
                [id]="'dropdownMenuButton' + i"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                class="btn btn-secondary dropdown-toggle new-deopdown"
                [disabled]="shouldDisableInput(i)"
              >
                {{
                  statutoryAttributeResponse.value ||
                    "Select PFContribution rate"
                }}
                <i
                  class="bi bi-chevron-down"
                  style="color: #444; font-size: 15px"
                ></i>
              </button>
              <ul
                [attr.aria-labelledby]="'dropdownMenuButton' + i"
                class="dropdown-menu"
                style="width: 100%"
              >
                <li *ngFor="let pFContributionRate of pFContributionRateList">
                  <a
                    class="dropdown-item"
                    (click)="
                      selectPFContributionRate(
                        statutoryAttributeResponse,
                        pFContributionRate,
                        i
                      )
                    "
                  >
                    {{ pFContributionRate.name }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <ng-container
          *ngIf="
            selectedPFContributionRateForEmployees.id ==
              RESTRICTED_PF_WAGE_UPTO_15000 &&
              selectedPFContributionRateForEmployers.id ==
                RESTRICTED_PF_WAGE_UPTO_15000;
            else otherConditionsForSampleEPFCalculation
          "
        >
          <div class="rounded-lg bg-blue-50 px-6 py-4">
            <p class="text-base mb-1 font-bold">Sample EPF Calculation</p>
            <div class="text-xs font-medium">
              Let's assume PF wage is ₹ 15,000, the breakup will be:
            </div>
            <div class="mt-4 rounded-lg border border-gray-200 bg-white p-4">
              <div>
                <div class="text-xs font-bold">Employee Contribution</div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPF <span class="text-gray-600">(12% of ₹ 15,000)</span>
                  </div>
                  <div class="text-xs min-w-min font-bold">₹ 1,800</div>
                </div>
              </div>
              <div class="my-3 w-full border border-gray-200"></div>
              <div>
                <div class="text-xs font-bold">Employers' Contribution</div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPS
                    <span class="text-gray-600"
                      >(8.33% of ₹ 15000, Max of 15000)</span
                    >
                  </div>
                  <div class="text-xs font-bold">₹ 1250</div>
                </div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPF
                    <span class="text-gray-600">(12% of ₹ 15000 - EPS)</span>
                  </div>
                  <div class="text-xs font-bold">₹ 550</div>
                </div>
                <div class="my-3 w-full border border-gray-200"></div>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">Total</div>
                  <div class="text-xs font-bold">₹ 3600</div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-template #otherConditionsForSampleEPFCalculation>
          <ng-container
            *ngIf="
              selectedPFContributionRateForEmployees.id ==
                UNRESTRICTED_PF_WAGE &&
                selectedPFContributionRateForEmployers.id ==
                  RESTRICTED_PF_WAGE_UPTO_15000;
              else otherRemainingConditionForSampleEPFCalculation
            "
          >
            <div class="rounded-lg bg-blue-50 px-6 py-4">
              <p class="text-base mb-1 font-bold">Sample EPF Calculation</p>
              <div class="text-xs font-medium">
                Let's assume PF wage is ₹ 25,000, the breakup will be:
              </div>
              <div class="mt-4 rounded-lg border border-gray-200 bg-white p-4">
                <div>
                  <div class="text-xs font-bold">Employee Contribution</div>
                  <div class="mt-4 flex items-center justify-between">
                    <div class="text-xs font-bold text-gray-600">
                      EPF <span class="text-gray-600">(12% of ₹ 25,000)</span>
                    </div>
                    <div class="text-xs min-w-min font-bold">₹ 3,000</div>
                  </div>
                </div>
                <div class="my-3 w-full border border-gray-200"></div>
                <div>
                  <div class="text-xs font-bold">Employers' Contribution</div>
                  <div class="mt-4 flex items-center justify-between">
                    <div class="text-xs font-bold text-gray-600">
                      EPS
                      <span class="text-gray-600"
                        >(8.33% of ₹ 15000, Max of 15000)</span
                      >
                    </div>
                    <div class="text-xs font-bold">₹ 1250</div>
                  </div>
                  <div class="mt-4 flex items-center justify-between">
                    <div class="text-xs font-bold text-gray-600">
                      EPF
                      <span class="text-gray-600">(12% of ₹ 15000 - EPS)</span>
                    </div>
                    <div class="text-xs font-bold">₹ 550</div>
                  </div>
                  <div class="my-3 w-full border border-gray-200"></div>
                  <div class="mt-3 flex items-center justify-between">
                    <div class="text-xs font-bold text-gray-600">Total</div>
                    <div class="text-xs font-bold">₹ 4800</div>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </ng-template>
        <ng-template #otherRemainingConditionForSampleEPFCalculation>
          <div class="rounded-lg bg-blue-50 px-6 py-4">
            <p class="text-base mb-1 font-bold">Sample EPF Calculation</p>
            <div class="text-xs font-medium">
              Let's assume PF wage is ₹ 25,000, the breakup will be:
            </div>
            <div class="mt-4 rounded-lg border border-gray-200 bg-white p-4">
              <div>
                <div class="text-xs font-bold">Employee Contribution</div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPF <span class="text-gray-600">(12% of ₹ 25,000)</span>
                  </div>
                  <div class="text-xs min-w-min font-bold">₹ 3,000</div>
                </div>
              </div>
              <div class="my-3 w-full border border-gray-200"></div>
              <div>
                <div class="text-xs font-bold">Employers' Contribution</div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPS
                    <span class="text-gray-600"
                      >(8.33% of ₹ 25000, Max of 15000)</span
                    >
                  </div>
                  <div class="text-xs font-bold">₹ 1250</div>
                </div>
                <div class="mt-4 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">
                    EPF
                    <span class="text-gray-600">(12% of ₹ 25000 - EPS)</span>
                  </div>
                  <div class="text-xs font-bold">₹ 1750</div>
                </div>
                <div class="my-3 w-full border border-gray-200"></div>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-xs font-bold text-gray-600">Total</div>
                  <div class="text-xs font-bold">₹ 6000</div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-de-secondary"
          data-bs-dismiss="modal"

        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
          [ngClass]="{'disabled-lnk':isUpdating}"
          (click)="updateStatutory()"
        >
          Save
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Modal with an *ngIf directive to conditionally render based on `switchValue` -->
<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#statutoryESI" #statutoryESIButton>
  Launch static backdrop modal
</button>
<div
  class="modal"
  id="statutoryESI"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  style="background: rgba(0, 0, 0, 0.5)"
>
  <div class="modal-dialog modal-dialog-centered mx-auto" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom" style="background-color: white">
        <h6
          class="modal-title m-0"
          id="exampleModalDefaultLabel"
          style="color: black; font-size: large"
        >
          Employees' State Insurance
        </h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div
        class="modal-body"
        *ngFor="
          let statutoryAttributeResponse of statutoryAttributeResponseList;
          let i = index
        "
      >
        <div class="form-group">
          <label for="exampleInputEmail1" style="padding-bottom: 6px">{{
            statutoryAttributeResponse.name
          }}</label>
          <input
            type="text"
            class="form-control"
            id="exampleInputEmail1"
            aria-describedby="emailHelp"
            [(ngModel)]="statutoryAttributeResponse.value"
            readonly
          />
          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-de-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
          [ngClass]="{'disabled-lnk':isUpdating}"
          (click)="updateStatutory()"
        >
          Save
        </button>
      </div>
    </div>
  </div>
</div>

<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#statutoryPro" #statutoryProButton>
  Launch static backdrop modal
</button>
<div
  class="modal"
  id="statutoryPro"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  style="background: rgba(0, 0, 0, 0.5)"
>
  <div
    class="modal-dialog modal-dialog-centered mx-auto modal-lg"
    role="document"
  >
    <div class="modal-content">
      <div class="modal-header border-bottom" style="background-color: white">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="col-md-12">
        <p></p>
        <div class="modal-body text-center mt-1 mb-3">
          <h3>Hey User,</h3>
          <h3>We're working hard to come out with this feature.</h3>
          <h3>Thanks for your patience! 😐</h3>
        </div>
      </div>
      <div
        class="modal-footer"
        style="display: flex; justify-content: center; align-items: center"
      >
        <button
          type="button"
          class="btn btn-de-secondary"
          data-bs-dismiss="modal"
        >
          <i class="bi bi-x-circle"></i> Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- id="addsalarytemplate" class="modal fade" tabindex="-1" role="dialog" -->


<div class="modal fade" id="addsalarytemplate" tabindex="-1" role="dialog" data-bs-backdrop="static" aria-labelledby="exampleModalDefaultLabel">
  <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title m-0"> Create your salary template </h5>
        <button #cancelSalaryTemplateModal id="cancelSalaryTemplateModal" name="cancelSalaryTemplateModal" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="clickTemplateTab()"></button>
      </div>
      <div class="modal-body p-0">
        <div class="shift-time-modal">
          <div class="row h-100 p-0 m-0">
            <div class="col-md-3 p-0 m-0">
              <div class="shift-time-menu">
                <div class="nav flex-column nav-pills pt-3 border-0" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                  <button #templateBtn class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#salarytemplatee" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true" (click)="salaryTemplateTabClick()"> Template details </button>
                  <button [disabled]="!salaryForm.valid" #staffBtn class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#staffselectionn" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false" (click)="staffSelectionTabClick()"> Staff selection </button>
                </div>
              </div>
            </div>
            <div class="col-md-9 bg-white">
              <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="salarytemplatee" role="tabpanel" [ngClass]="{'disable-action-item':!rbacService.hasWriteAccess(Routes.SALARYSETTING)}">
                  <div class="row p-3">
                    <form #salaryForm="ngForm">
                      <div class="description-main-box d-flex m-0 gap-4">
                        <span class="count-number radius-50 fw-bold font-13 mt-0 mb-0 text-primary d-flex align-items-center justify-content-center img-25">1</span>
                        <div class="description">
                          <h5>Name and description</h5>
                          <p>Define the name and description of your salary template</p>
                        </div>
                      </div>
                      <div class="mt-3">
                        <div class="mb-3">
                          <label for="name" class="pb-2">Name <span style="color: red">*</span></label>
                          <input
                            type="text"
                            id="name"
                            placeholder="Enter the template name here"
                            name="name"
                            class="form-control profile-input"
                            [(ngModel)]="salaryTemplateComponentRequest.name"
                            #nameField="ngModel"
                            required
                            minlength="3"
                            maxlength="50"
                          />
                          <div *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)" class="text-danger">
                            <div *ngIf="nameField.errors?.required">Name is required.</div>
                            <div *ngIf="nameField.errors?.minlength">Name must be at least 3 characters long.</div>
                            <div *ngIf="nameField.errors?.maxlength">Name cannot exceed 50 characters.</div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="description" class="pb-2">Description</label>
                          <textarea
                            id="description"
                            placeholder="Enter a short description about the template here"
                            name="description"
                            class="form-control nots-section"
                            [(ngModel)]="salaryTemplateComponentRequest.description"
                            #descriptionField="ngModel"
                            minlength="30"
                            maxlength="200"
                          ></textarea>
                          <div *ngIf="descriptionField.invalid && (descriptionField.dirty || descriptionField.touched)" class="text-danger">
                            <div *ngIf="descriptionField.errors?.minlength">Description must be at least 30 characters long.</div>
                            <div *ngIf="descriptionField.errors?.maxlength">Description cannot exceed 200 characters.</div>
                          </div>
                        </div>
                      </div>
                      <div class="description-main-box mt-4 d-flex gap-4">
                        <span class="count-number radius-50 fw-bold font-13 mt-0 mb-0 text-primary d-flex align-items-center justify-content-center img-25">2</span>
                        <div class="description">
                          <h5>Define your salary component</h5>
                          <p>Salary will get calculated on the basis of these components</p>
                        </div>
                      </div>
                      <div class="salary-define">
                        <div *ngFor="let salaryComponent of salaryComponentList">
                          <div class="d-flex align-items-center justify-content-between information-box">
                            <div class="basic-text">
                              <h5>{{ salaryComponent.name }}</h5>
                            </div>
                            <div class="enter-ammount position-relative">
                              <nz-input-number
                                [(ngModel)]="salaryComponent.value"
                                name="salaryComponent_{{salaryComponent.id}}"
                                [nzMin]="1"
                                [nzMax]="100"
                                [nzStep]="1"
                                [nzFormatter]="formatterPercent"
                                [nzParser]="parserPercent"
                                [nzSize]="'large'"
                                [nzDisabled]="salaryComponent.toggle == false"
                                style="width: 100%"
                              ></nz-input-number>
                            </div>
                            <div class="delete-btn d-flex align-items-center justify-content-end" style="gap: 25px">
                              <nz-switch
                                *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                                [(ngModel)]="salaryComponent.toggle"
                                name="toggle_{{salaryComponent.id}}"
                                [nzDisabled]="salaryComponent.id == BASIC_PAY_ID"
                              ></nz-switch>
                              <nz-switch
                                *ngIf="!rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                                [ngModel]="salaryComponent.toggle"
                                [class.no-click]="!rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                                (ngModelChange)="helperService.showPrivilegeErrorToast()"
                              ></nz-switch>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer d-flex align-items-center justify-content-end bg-white leave-footer" *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)">
                    <button [disabled]="!salaryForm.valid" type="button" [ngClass]="{'btn-border' : salaryForm.valid}" class="btn p-0 next-btn nextBtn" (click)="clickStaffTab()">
                      <span class="ng-star-inserted">Next</span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z" fill="#6666F2"></path>
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="tab-pane fade" id="staffselectionn" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                  <div class="staf-list-box mt-3">
                    <div class="row mb-1 mt-3 align-items-center" style="padding-bottom: 15px">
                      <div class="col-md-12">
                        <div class="d-flex align-items-center" style="border: 1px solid #f1f1f1">
                          <div class="" style="width: 70%">
                              <div class="form-group" style="position: relative">
                                <input type="text" id="searchText" placeholder="Search by name and role" class="form-control me-2 border-0 attendance-details-search" (keyup)="onSearch($event)" [(ngModel)]="searchText" [ngModelOptions]="{ standalone: true }" style="padding: 10px 50px 10px 40px" />
                                <button *ngIf="searchText.length !== 0" type="button" class="btn search-btn border-0 position-absolute" (click)="clearSearchText()">
                                  <i class="bi bi-x search-icon font-20"></i>
                                </button>
                                <button type="button" class="btn search-btn border-0 position-absolute" *ngIf="searchText.length == 0" >
                                  <i class="bi bi-search search-icon"></i>
                                </button>
                              </div>
                          </div>
                          <div class="container">
                            <div class="d-flex justify-content-end content-wrapper">
                              <div class="filter-wrapper d-flex align-items-center gap-2">
                                <a class="info-button text-black font-13 fw-semibold pointer-none" *ngIf="selectedStaffsUuids.length > 0">
                                  <span class="text-primary">{{ selectedStaffsUuids.length }}</span> Selected of <span class="text-primary"> {{ totalUserCount }}</span>
                                </a>
                                <span *ngIf="selectedStaffsUuids.length > 0" class="separator"></span>
                                <span *ngIf="selectedStaffsUuids.length > 0 && rbacService.hasWriteAccess(Routes.SALARYSETTING)"
                                  class="clear-button font-13 fw-semibold text-danger pointer" (click)="unselectAllUsers()">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19" fill="none">
                                    <mask id="mask0_4127_2858" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="19" style="mask-type: alpha;">
                                      <rect x="0.927246" y="0.460938" width="18.1564" height="18.1564" fill="#dc3545"></rect>
                                    </mask>
                                    <g mask="url(#mask0_4127_2858)">
                                      <path d="M5.7642 14.8373L4.70508 13.7782L8.94157 9.54171L4.70508 5.30522L5.7642 4.24609L10.0007 8.48259L14.2372 4.24609L15.2963 5.30522L11.0598 9.54171L15.2963 13.7782L14.2372 14.8373L10.0007 10.6008L5.7642 14.8373Z" fill="#dc3545"></path>
                                    </g>
                                  </svg>
                                  Clear Selection
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="staff-section-table">
                      <table class="table">
                      <thead>
                        <tr>
                          <th style="width: 0%">
                            <input [disabled]="!rbacService.hasWriteAccess(Routes.SALARYSETTING)" type="checkbox" style="cursor: pointer" class="form-check-input" [(ngModel)]="isAllSelected" (change)="selectAll(isAllSelected)" />
                          </th>
                          <th style="width: 25%; padding: 12px 15px">Name</th>
                          <th style="width: 25%; padding: 12px 15px">Email</th>
                          <th style="width: 25%; padding: 12px 15px">Phone</th>
                        </tr>
                      </thead>
                      <ng-container *ngIf="isShimmerForSalaryTemplateStaffSelection && staffs.length == 0; else salaryTemplateStaffSelectionCondition">
                        <tbody>
                          <tr *ngFor="let item of [].constructor(10)">
                            <td class="text-center"><ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading></td>
                            <td class="text-center"><ngx-shimmer-loading [width]="'%'" [height]="'10px'"></ngx-shimmer-loading></td>
                            <td class="text-center"><ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading></td>
                            <td class="text-center"><ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading></td>
                          </tr>
                        </tbody>
                      </ng-container>
                      <ng-template #salaryTemplateStaffSelectionCondition>
                        <ng-container *ngIf="!isShimmerForSalaryTemplateStaffSelection && staffs.length != 0; else errorWhileFetchingSalaryTemplateStaffSelection">
                          <tbody>
                            <tr *ngFor="let staff of staffs | paginate: { itemsPerPage: itemPerPage, currentPage: pageNumber, totalItems: total }" style="border-bottom: 1px solid #dddddd">
                              <td>
                                <div class="form-check">
                                  <input [disabled]="!rbacService.hasWriteAccess(Routes.SALARYSETTING)" type="checkbox" style="cursor: pointer" class="form-check-input" [(ngModel)]="staff.selected" (change)="checkIndividualSelection(true)" />
                                </div>
                              </td>
                              <td style="padding: 12px 15px">{{ staff.name }}</td>
                              <td style="padding: 12px 15px">{{ staff.email ? staff.email : "N/A" }}</td>
                              <td style="padding: 12px 15px">{{ staff.phoneNumber || "N/A" }}</td>
                            </tr>
                          </tbody>
                        </ng-container>
                      </ng-template>
                      <ng-template #errorWhileFetchingSalaryTemplateStaffSelection>
                        <tbody>
                          <tr>
                            <td colspan="4">
                              <div class="empty-file d-flex align-items-centar justify-content-center w-100 mt-5 mb-5" *ngIf="dataNotFoundPlaceholderForSalaryTemplateStaffSelection">
                                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                                  <ng-template #contentTpl>
                                    <p class="mb-1 empty-detail font-16">No data for now</p>
                                  </ng-template>
                                </nz-empty>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </ng-template>
                    </table>
                  </div>
                

                  <div class="bg-white leave-footer">
                    <div class="pagition-box p-3 d-flex align-items-center  justify-content-between" *ngIf="total > itemPerPage - 1 || (pageNumber === lastPageNumber && lastPageNumber !== 1)">
                      <p class="mb-0" style="padding-left: 15px">
                        Showing {{ getStartIndex() }} - {{ getEndIndex() }} of {{ total }} members
                      </p>
                      <div class="row">
                        <div class="col-md-12">
                          <nav aria-label="Page navigation example">
                            <ngb-pagination
                              class="pagination justify-content-end"
                              [(page)]="pageNumber"
                              [pageSize]="itemPerPage"
                              [collectionSize]="total"
                              (pageChange)="changePage($event)"
                              [maxSize]="5"

                              aria-label="Pagination"
                            ></ngb-pagination>
                          </nav>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer d-flex align-items-center justify-content-between bg-white" *ngIf="rbacService.hasWriteAccess(Routes.SALARYSETTING)">
                      <button type="button" class="btn p-0 text-black next-btn previousBtn" (click)="clickTemplateTab()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                          <path d="M19.75 10.6714C19.75 10.8588 19.6914 11.011 19.5743 11.1281C19.4572 11.2452 19.305 11.3038 19.1177 11.3038H3.59011L7.73547 15.4491C7.87599 15.5896 7.94625 15.7536 7.94625 15.9409C7.94625 16.1283 7.87599 16.2805 7.73547 16.3976C7.59495 16.5147 7.43101 16.5733 7.24365 16.5733C7.05628 16.5733 6.89234 16.5264 6.75182 16.4328L1.48229 11.1632C1.38861 11.0227 1.34177 10.8588 1.34177 10.6714C1.34177 10.484 1.38861 10.3201 1.48229 10.1796L6.75182 4.91005C6.89234 4.81637 7.05628 4.76953 7.24365 4.76953C7.43101 4.76953 7.59495 4.82808 7.73547 4.94518C7.87599 5.06228 7.94625 5.21451 7.94625 5.40188C7.94625 5.58924 7.87599 5.75318 7.73547 5.8937L3.59011 10.0391H19.1177C19.305 10.0391 19.4572 10.0976 19.5743 10.2147C19.6914 10.3318 19.75 10.484 19.75 10.6714Z" fill="black"></path>
                        </svg>
                        Previous
                      </button>
                      <button type="button" class="btn next-btn nextBtn ng-star-inserted btn-border" [ngClass]="{'btn-border' : selectedStaffsUuids.length > 0}" (click)="registerSalaryTemplateMethodCall()" [disabled]="salaryTemplateRegisterButtonLoader || selectedStaffsUuids.length == 0">
                        <span *ngIf="!salaryTemplateRegisterButtonLoader">Submit
                          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                            <path d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z" fill="#6666F2"></path>
                          </svg>
                        </span>
                        <div class="dot-opacity-loader" *ngIf="salaryTemplateRegisterButtonLoader">
                          <span></span>
                          <span></span>
                          <span></span>
                          </div>
                      </button>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





<!-- Salery new modal -->
<button type="button" class="btn btn-primary d-none" style="position:relative; left:50%;" data-bs-toggle="modal" data-bs-target="#createSalary">
  Create Salary
 </button>
<div class="modal fade" id="createSalary" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Create your salary template</h5>
        <button
        type="button"
        class="btn-close"
        data-bs-dismiss="modal"
        aria-label="Close"
        #cancelSalaryTemplateModal
        (click)="clearSalaryTemplateModal()">
      </button>
      </div>
      <div class="modal-body p-0">
        <div class="shift-time-modal">
          <div class="row h-100 p-0 m-0">
            <div class="col-md-3 p-0 m-0">
              <div class="shift-time-menu">
                <div class="nav flex-column nav-pills pt-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                  <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#templateDetails1" type="button" role="tab">
                    Template details
                  </button>
                  <button class="nav-link" data-bs-toggle="pill" data-bs-target="#staffSelection1" type="button" role="tab">
                    Staff selection
                  </button>
                </div>
              </div>
            </div>
            <div class="col-md-9 p-0 m-0">
              <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane show active" id="templateDetails1" role="tabpanel" aria-labelledby="v-pills-home-tab">
                  <div class="row p-3">
                    <div class="description-main-box">
                      <span>1</span>
                      <div class="description">
                        <h5 class="mb-2">Name and description</h5>
                        <p class="font-13">Define the name and description of your salary template</p>
                      </div>
                    </div>
                    <div class="mt-3">
                      <div class="mb-3">
                        <label for="name" class="pb-2">Name <span style="color: red">*</span></label>
                        <input
                          type="text"
                          id="name"
                          placeholder="Enter the template name here"
                          name="nameField"
                          class="form-control input-zorro"
                          [(ngModel)]="salaryTemplateComponentRequest.name"
                          #nameField="ngModel"
                          required
                          minlength="3"
                          maxlength="50"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <div
                          *ngIf="
                            nameField.invalid &&
                            (nameField.dirty || nameField.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="nameField.errors?.required">
                            Name is required.
                          </div>
                          <div *ngIf="nameField.errors?.minlength">
                            Name must be at least 3 characters long.
                          </div>
                          <div *ngIf="nameField.errors?.maxlength">
                            Name cannot exceed 50 characters.
                          </div>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="description" class="pb-2">Description</label>
                        <textarea
                          id="description"
                          placeholder="Enter a short description about the template here"
                          name="descriptionField"
                          class="form-control nots-section"
                          [(ngModel)]="salaryTemplateComponentRequest.description"
                          #descriptionField="ngModel"
                          minlength="30"
                          maxlength="200"
                          [ngModelOptions]="{ standalone: true }"
                        ></textarea>
                        <div
                          *ngIf="
                            descriptionField.invalid &&
                            (descriptionField.dirty || descriptionField.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="descriptionField.errors?.minlength">
                            Description must be at least 30 characters long.
                          </div>
                          <div *ngIf="descriptionField.errors?.maxlength">
                            Description cannot exceed 200 characters.
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="description-main-box">
                      <span>2</span>
                      <div class="description">
                        <h5 class="mb-2">Define your salary component</h5>
                        <p class="font-13">Salary will get calculated on the basis of these components</p
                        >
                      </div>
                    </div>
                    <div
                      class=""
                      *ngFor="let salaryComponent of salaryComponentList"
                    >
                      <div
                        class="d-flex align-items-center justify-content-between information-box"
                      >
                        <div class="basic-text">
                          <h5>{{ salaryComponent.name }}</h5>

                        </div>
                        <div class="enter-ammount position-relative">
                          <div class="">
                            <nz-input-number
                              [(ngModel)]="salaryComponent.value"
                              [ngModelOptions]="{ standalone: true }"
                              [nzMin]="1"
                              [nzMax]="100"
                              [nzStep]="1"
                              [nzFormatter]="formatterPercent"
                              [nzParser]="parserPercent"
                              [nzSize]="'large'"
                              [nzDisabled]="salaryComponent.toggle == false"
                              style="width: 100%"
                            ></nz-input-number>
                          </div>
                        </div>
                        <div
                          class="delete-btn d-flex align-items-center justify-content-end"
                          style="gap: 25px"
                        >
                          <nz-switch
                            [(ngModel)]="salaryComponent.toggle"
                            [ngModelOptions]="{ standalone: true }"
                            [nzDisabled]="salaryComponent.id == BASIC_PAY_ID"
                          ></nz-switch>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="modal-footer d-flex align-items-center justify-content-end bg-white leave-footer">
                    <button type="submit" class="btn p-0 next-btn nextBtn" (click)="goToStaffSelectionTab()"> Next
                      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z" fill="#6666F2">
                        </path>
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="tab-pane" id="staffSelection1" role="tabpanel" aria-labelledby="v-pills-home-tab">
                  <div>
                    <div class="row mb-1 mt-3 align-items-center pb-3">
                      <div class="col-md-12">
                        <div class="d-flex align-items-center" style="border: 1px solid #f1f1f1" >
                          <div class="" style="width: 70%">
                            <form
                              novalidate=""
                              role="search"
                              (submit)="searchUsers()"
                              class="searching ng-untouched ng-pristine ng-valid"
                            >
                              <div class="form-group" style="position: relative">
                                <input
                                  type="text"
                                  id="searchText"
                                  placeholder="Search by name and role"
                                  class="form-control salary-setting"
                                  (keyup)="searchUsers()"
                                  [(ngModel)]="searchText"
                                  [ngModelOptions]="{ standalone: true }"
                                  style="padding: 10px 50px 10px 40px"
                                />

                                <i class="bi bi-search search-icon"></i>
                              </div>
                            </form>
                          </div>
                          <div style="padding-right: 15px;">
                              <div class="filter-wrapper d-flex align-items-end gap-3">
                                <span class="info-button text-primary pointer"  *ngIf="selectedStaffsUuids.length > 0">
                                  {{ selectedStaffsUuids.length }} selected of {{ totalUserCount }}</span>
                                <span class="clear-button text-danger pointer" *ngIf="selectedStaffsUuids.length > 0"
                                  (click)="unselectAllUsers()"> Clear all users </span>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="staff-selection-list">
                      <table class="table">
                        <thead class="thead-light">
                          <tr>
                            <th style="width: 0%">
                              <input
                                type="checkbox"
                                style="cursor: pointer"
                                class="form-check-input"
                                [(ngModel)]="isAllSelected"
                                (change)="selectAll(isAllSelected)"
                              />
                            </th>
                            <th style="width: 25%; padding: 12px 15px">Name</th>
                            <th style="width: 25%; padding: 12px 15px">Email</th>
                            <th style="width: 25%; padding: 12px 15px">Phone</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr  *ngFor="let staff of staffs | paginate : { itemsPerPage: itemPerPage, currentPage: pageNumber, totalItems: total} ">
                              <td>
                                <div class="form-check">
                                  <input
                                    type="checkbox"
                                    style="cursor: pointer"
                                    class="form-check-input"
                                    [(ngModel)]="staff.selected"
                                    (change)="checkIndividualSelection(true)"
                                  />
                                </div>
                              </td>
                              <td>{{ staff.name }}</td>
                              <td> {{ staff.email ? staff.email : "N/A" }} </td>
                              <td> {{ staff.phoneNumber || "N/A" }} </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                      <div class="leave-footer">
                        <div class="p-3 d-flex align-items-center justify-content-between bg-white">
                          <p class="mb-0 font-13">Showing 10 of 170 members</p>

                          <ngb-pagination class="pagition-box" [collectionSize]="total" [rotate]="true"

                          [boundaryLinks]="true">
                          </ngb-pagination>

                        </div>

                      <div class="modal-footer d-flex align-items-center justify-content-end bg-white ">

                        <button type="submit" class="btn p-0 next-btn nextBtn" (click)="registerSalaryTemplateMethodCall()"> Submit
                          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                            <path d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z" fill="#6666F2">
                            </path>
                          </svg>
                        </button>
                      </div>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- End salery new modal -->



  <!----------------------------------- SALARY CALCULATION MODE MODAL START-------------------------->
<button class="d-none" data-bs-toggle="modal" data-bs-target="#statutoryPro" #statutoryProButton></button>
<div class="modal fade" id="salaryMode" tabindex="-1" data-bs-backdrop="static" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 500px" role="document">
    <div class="modal-content">
      <div class="modal-body p-0 delete-text">
        <div class="proceed-image d-flex align-items-center justify-content-center pt-4 pb-4">
          <div class="delete-close-btn">
            <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close"
              #closeButtonDeleteAddress>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <mask id="mask0_2031_1331" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30"
                  height="30">
                  <rect width="30" height="30" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_2031_1331)">
                  <path
                    d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                    fill="black" />
                </g>
              </svg>
            </button>
          </div>
          <img src="assets/images/payrollstep-img/automation-1.svg" style="width: 70px" />
        </div>
        <div class="bg-white p-4 text-center">

          <div>
            <h5 class="alert-heading font-18 mb-2 lh-base ">
              Are you sure, you want to proceed?
            </h5>
            <p class="font-11">Note: By clicking on proceed, your changes will get reflected.</p>
          </div>

          <div class="mt-4 d-flex align-items-center flex-column">
            <button  class="btn submitActionBtn font-14 fw-semibold border-rounded-2 text-white" (click)="updateSalaryCalculationMode(selectedSalaryModeId)">
              Proceed
              <!-- <i class="fa fa-spinner fa-spin" ></i> -->
            </button>
            <button class="btn cancel-btn pt-2" type="button" data-bs-dismiss="modal" #salaryModeClose>
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!----------------------------------- SALARY CALCULATION MODE MODAL END-------------------------->


  <!-- MODE MODAL START -->
  <button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#statutoryOff" #statutoryOffButton>
    Launch static backdrop modal
  </button>
  <div class="modal fade" id="statutoryOff" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">

        <div class="modal-body">
          <div class="">
            <span class="d-flex justify-content-center"><i class="bi bi-question-circle"></i></span>
            <h2>Are you sure, you want to proceed?</h2>
            <p class="d-flex justify-content-center">Note: By clicking on proceed, your changes will get reflected.</p>
          </div>
          <div class="d-flex justify-content-center" style="gap:25px">
            <button type="button" class="cancel-button" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="proceed-button" data-bs-dismiss="modal"
            [ngClass]="{'disabled-lnk':isUpdating}" (click)="updateStatutory()">
              Proceed
          </button>
        </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODE MODAL END -->