<div class="page-wrapper">
  <!-- Page Content-->
  <div class="page-content-tab">
    <div class="container-fluid">
      <div class="company-settinh">
        <div class="row mt-3">
          <div class="col-md-4">
            <div class="form-roe-data">
              <h5>Attendance Mode</h5>
              <p>This will be displayed on your profile.</p>
            </div>
          </div>

          <div class="col-md-7">
            <div class="row mb-3">
              <ng-container
                *ngIf="
                  isShimmer &&
                    attendanceModeList.length === 0 &&
                    !dataNotFoundPlaceholder &&
                    !networkConnectionErrorPlaceHolder;
                  else attendanceModeData
                "
              >
                <div class="row">
                  <div class="col-md-12">
                    <div class="attendance-settin-list mb-3">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'60px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                    <div class="attendance-settin-list mb-3">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'60px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                    <div class="attendance-settin-list mb-3">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'60px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
              </ng-container>
              <ng-template #attendanceModeData>
                <div
                  class="attendance-settin-list"
                  *ngFor="let attendanceMode of attendanceModeList"
                >
                  <div
                    class="categryCustomizecard d-flex pointer"
                    [ngClass]="{
                      'attendance-active':
                        attendanceMode.id === selectedAttendanceModeId
                    }"
                    (click)="updateAttendanceModeMethodCall(attendanceMode.id)"
                  >
                    <div class="categryCustomizeinfo">
                      <label for="customizecategory1" class="mb-0">
                        <h3>{{ attendanceMode.name }}</h3>
                        <p>{{ attendanceMode.description }}</p>
                      </label>
                    </div>
                    <div
                      class="active-check"
                      *ngIf="attendanceMode.id === selectedAttendanceModeId"
                    >
                      <i class="bi bi-check2"></i>
                    </div>
                  </div>
                </div>
              </ng-template>
            </div>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Shift Settings</h5>
              <p>A quick snapshot of your company.</p>
            </div>

            <div class="total-shifts p-3 mt-4">
              <div class="d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-truncate">Total Shifts</h6>
                  <h4 class="mt-3 fw-bold">03</h4>
                </div>

                <span
                  class="total-user-icon d-flex align-items-center justify-content-center"
                >
                  <img src="assets/images/total-user-icon.svg"
                /></span>
              </div>
              <div class="mt-3">
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                  *ngIf="shiftCounts.dayShiftCount != 0"
                >
                  <small class="text-muted">Day Shifts</small>
                  <small class="text-muted">{{
                    shiftCounts.dayShiftCount || 0
                  }}</small>
                </div>
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                  *ngIf="shiftCounts.nightShiftCount != 0"
                >
                  <small class="text-muted">Night Shifts</small>
                  <small class="text-muted">{{
                    shiftCounts.nightShiftCount || 0
                  }}</small>
                </div>
                <div
                  class="d-flex align-items-center justify-content-between"
                  *ngIf="shiftCounts.rotationalShiftCount != 0"
                >
                  <small class="text-muted">Rotational Shifts</small>
                  <small class="text-muted">{{
                    shiftCounts.rotationalShiftCount || 0
                  }}</small>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-7 mt-3 mb-3">
            <ng-container
              *ngIf="
                isShimmer &&
                  organizationShiftTimingWithShiftTypeResponseList.length ===
                    0 &&
                  !dataNotFoundPlaceholder &&
                  !networkConnectionErrorPlaceHolder;
                else organizationShiftTimingWithShiftTypeData
              "
            >
              <div class="">
                <div class="text-end">
                  <ngx-shimmer-loading
                    [width]="'40%'"
                    [height]="'20px'"
                    style="border-radius: 50%"
                  ></ngx-shimmer-loading>
                </div>
              </div>

              <div
                class="mt-3"
                style="
                  border: 1px solid #f5f5f5;
                  padding: 5px;
                  border-radius: 6px;
                "
              >
                <div
                  class="row"
                  style="
                    border-bottom: 1px solid #f5f5f5;
                    padding-top: 10px;
                    padding-bottom: 10px;
                  "
                >
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-3">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-template #organizationShiftTimingWithShiftTypeData>
              <ng-container
                *ngIf="
                  organizationShiftTimingWithShiftTypeResponseList.length !==
                    0 &&
                    !dataNotFoundPlaceholder &&
                    !networkConnectionErrorPlaceHolder;
                  else errorInFetchingOrganizationShiftTimingData
                "
              >
                <div class="add-shift-main-box">
                  <div
                    class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2"
                  >
                    <div class="">
                      <h6 class="text-truncate mb-0">Shifts</h6>
                    </div>
                    <div class="">
                      <a
                        class="add-shift-time-btn"
                        data-bs-toggle="modal"
                        data-bs-target="#shiftTime"
                        (click)="openAddShiftTimeModal()"
                        ><i class="bi bi-plus"></i> Add Shift Time
                      </a>
                    </div>
                  </div>

                  <div class="shift-set">
                    <div
                      class="shift-time p-3 m-3"
                      *ngFor="
                        let organizationShiftTimingWithShiftTypeResponse of organizationShiftTimingWithShiftTypeResponseList;
                        let i = index
                      "
                    >
                      <div class="">
                        <div
                          class="d-flex align-items-center justify-content-between"
                        >
                          <div class="d-flex align-items-center gap-3">
                            <div class="">
                              <span
                                class="automation-rules-icon d-flex align-items-center justify-content-center"
                              >
                                <img src="assets/images/rule-icon.svg" />
                              </span>
                            </div>
                            <div class="">
                              <h6 class="text-truncate mb-0">
                                {{
                                  organizationShiftTimingWithShiftTypeResponse
                                    .shiftType.name
                                }}
                              </h6>
                              <small class="text-muted"
                                >Define the late entry rules for the
                                employees</small
                              >
                            </div>
                          </div>
                          <div class="">
                            <!-- <span
                              class="automation-rules-toogel-btn pointer"
                              data-bs-toggle="collapse"
                              href="#multiCollapseExample1"
                              role="button"
                              aria-expanded="false"
                              aria-controls="multiCollapseExample1"
                              ><i class="bi bi-chevron-down"></i
                            ></span> -->
                            <span
                              class="automation-rules-toogel-btn pointer"
                              data-bs-toggle="collapse"
                              [attr.data-bs-target]="
                                '#multiCollapseExample' + i
                              "
                              role="button"
                              [attr.aria-controls]="'multiCollapseExample' + i"
                              [attr.aria-expanded]="
                                i == activeIndex ? 'true' : 'false'
                              "
                              (click)="toggleCollapse(i)"
                            >
                              <i class="bi bi-chevron-down"></i>
                            </span>
                          </div>
                        </div>
                        {{ i }}
                        <div
                          *ngFor="
                            let organizationShiftTimingResponse of organizationShiftTimingWithShiftTypeResponse.organizationShiftTimingResponseList;
                            let j = index
                          "
                          class="collapse multi-collapse"
                          [id]="'multiCollapseExample' + i"
                        >
                          <div
                            class="d-flex align-items-center justify-content-between mt-3"
                          >
                            <div class="">
                              <p class="mb-0">
                                <i
                                  class="bi bi-arrow-right"
                                  style="padding-right: 10px"
                                ></i>
                                {{ organizationShiftTimingResponse.name }}
                              </p>
                            </div>
                            <div class="d-flex align-items-center gap-4">
                              <!-- <i class="bi bi-pencil pointer"></i>
                              <i class="bi bi-people"></i>
                              <i class="bi bi-trash pointer text-danger"></i> -->
                              <a
                                style="cursor: pointer"
                                data-bs-toggle="modal"
                                data-bs-target="#shiftTime"
                                (click)="
                                  updateOrganizationShiftTiming(
                                    organizationShiftTimingResponse,
                                    'STAFF_SELECTION'
                                  )
                                "
                                ><i class="bi bi-people"></i
                              ></a>

                              <a
                                style="cursor: pointer"
                                data-bs-toggle="modal"
                                data-bs-target="#shiftTime"
                                (click)="
                                  updateOrganizationShiftTiming(
                                    organizationShiftTimingResponse,
                                    'SHIFT_TIME'
                                  )
                                "
                                ><i class="bi bi-pencil pointer"></i
                              ></a>

                              <a
                                style="cursor: pointer"
                                class="delete-rule"
                                (click)="
                                  deleteOrganizationShiftTimingMethodCall(
                                    organizationShiftTimingResponse.id
                                  )
                                "
                                ><i class="bi bi-trash pointer text-danger"></i
                              ></a>
                            </div>
                          </div>

                          <div
                            class="shift-in-out-box bg-white row mt-3 p-3 m-0"
                          >
                            <div class="col-md-4">
                              <div class="shift-in-out-time mb-3">
                                <p class="mb-0">
                                  In Time |
                                  <span style="color: #009688">{{
                                    organizationShiftTimingResponse.inTime
                                  }}</span>
                                </p>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="shift-in-out-time mb-3">
                                <p class="mb-0">
                                  Out Time |
                                  <span style="color: #009688">{{
                                    organizationShiftTimingResponse.outTime
                                  }}</span>
                                </p>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="shift-in-out-time mb-3">
                                <p class="mb-0">
                                  Working Hours |
                                  <span style="color: #009688">{{
                                    organizationShiftTimingResponse.workingHour
                                  }}</span>
                                </p>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="shift-in-out-time">
                                <p class="mb-0">
                                  Break Time |
                                  <span style="color: #009688">{{
                                    organizationShiftTimingResponse.startLunch
                                  }}</span>
                                </p>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="shift-in-out-time">
                                <p class="mb-0">
                                  Back Time |
                                  <span style="color: #009688">{{
                                    organizationShiftTimingResponse.endLunch
                                  }}</span>
                                </p>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="shift-in-out-time">
                                <p class="mb-0">
                                  Total Break Hours |
                                  <span style="color: #009688">
                                    {{
                                      organizationShiftTimingResponse.lunchHour
                                    }}</span
                                  >
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-template>
            <!-- <ng-template #organizationShiftTimingWithShiftTypeData>
              <ng-container
                *ngIf="
                  organizationShiftTimingWithShiftTypeResponseList.length !==
                    0 &&
                    !dataNotFoundPlaceholder &&
                    !networkConnectionErrorPlaceHolder;
                  else errorInFetchingOrganizationShiftTimingData
                "
              >
                <div class="">
                  <div
                    class="add-filtter d-flex align-items-center justify-content-end"
                  >
                    <a
                      class=""
                      style="font-size: 16px; color: #6666f3"
                      data-bs-toggle="modal"
                      data-bs-target="#shiftTime"
                      (click)="openAddShiftTimeModal()"
                      ><i class="bi bi-plus"></i> Add Shift Time
                    </a>
                  </div>

                  <div
                    class="rule-main-box mt-3"
                    *ngFor="
                      let organizationShiftTimingWithShiftTypeResponse of organizationShiftTimingWithShiftTypeResponseList
                    "
                  >
                    <div class="d-flex align-items-center attendance-boxx">
                      <div class="late-rule" style="width: 70%">
                        <h5>
                          {{
                            organizationShiftTimingWithShiftTypeResponse
                              .shiftType.name
                          }}
                        </h5>
                      </div>
                    </div>

                    <div
                      class="row mt-2 p-2"
                      *ngFor="
                        let organizationShiftTimingResponse of organizationShiftTimingWithShiftTypeResponse.organizationShiftTimingResponseList
                      "
                    >
                      <div
                        class="col-md-12 d-flex justify-content-between align-items-center"
                      >
                        <p
                          class="mb-0 mb-2"
                          style="font-size: 12px; font-weight: 500"
                        >
                          {{ organizationShiftTimingResponse.name }}
                        </p>
                        <div
                          class="late-btn d-flex align-items-center justify-content-end mb-2"
                          style="gap: 20px; margin-right: 15px"
                        >
                          <a
                            style="cursor: pointer"
                            data-bs-toggle="modal"
                            data-bs-target="#shiftTime"
                            (click)="
                              updateOrganizationShiftTiming(
                                organizationShiftTimingResponse,
                                'STAFF_SELECTION'
                              )
                            "
                            ><i class="bi bi-person-circle"></i
                          ></a>

                          <a
                            style="cursor: pointer"
                            data-bs-toggle="modal"
                            data-bs-target="#shiftTime"
                            (click)="
                              updateOrganizationShiftTiming(
                                organizationShiftTimingResponse,
                                'SHIFT_TIME'
                              )
                            "
                            ><i class="bi bi-pencil-square"></i
                          ></a>

                          <a
                            style="cursor: pointer"
                            class="delete-rule"
                            (click)="
                              deleteOrganizationShiftTimingMethodCall(
                                organizationShiftTimingResponse.id
                              )
                            "
                            ><i class="bi bi-trash"></i
                          ></a>
                        </div>
                      </div>

                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            In Time |
                            <span style="color: #009688">{{
                              organizationShiftTimingResponse.inTime
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            Out Time |
                            <span style="color: #009688">{{
                              organizationShiftTimingResponse.outTime
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            Working Hours |
                            <span style="color: #009688">{{
                              organizationShiftTimingResponse.workingHour
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            Break Time |
                            <span style="color: #009688">{{
                              organizationShiftTimingResponse.startLunch
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            Back Time |
                            <span style="color: #009688">{{
                              organizationShiftTimingResponse.endLunch
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="shift-deta">
                          <p class="mb-0">
                            Total Break Hours |
                            <span style="color: #009688">
                              {{
                                organizationShiftTimingResponse.lunchHour
                              }}</span
                            >
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-template> -->

            <ng-template #errorInFetchingOrganizationShiftTimingData>
              <div class="empty-file" *ngIf="dataNotFoundPlaceholder">
                <div class="errorboxmain">
                  <div class="errorboxinner">
                    <div class="errorboxplaceholder mb-2">
                      <img
                        src="assets/images/empty-box.svg"
                        style="width: 80px"
                      />
                    </div>
                    <div class="">
                      <p class="mb-0">Shift Timings Not Found</p>
                    </div>
                    <div
                      class="add-filtter mt-2 mb-3"
                      style="text-align: center"
                    >
                      <a
                        class=""
                        style="font-size: 16px; color: #6666f3"
                        data-bs-toggle="modal"
                        data-bs-target="#shiftTime"
                        (click)="openAddShiftTimeModal()"
                        ><i class="bi bi-plus"></i> Add Shift Time
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <div class="empty-file" *ngIf="networkConnectionErrorPlaceHolder">
                <div class="errorboxmain">
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>
                    <div class="">
                      <h4>Something went wrong</h4>
                      <p>
                        An error occurred while processing your request. Please
                        refresh the page and try again.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Holiday(s)</h5>
              <p>A quick snapshot of your company.</p>
            </div>

            <div class="total-shifts p-3 mt-4">
              <div class="d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-truncate">Total Holiday’s</h6>
                  <h4 class="mt-3 fw-bold">{{ totalHolidaysNumber }}</h4>
                </div>

                <span
                  class="total-user-icon d-flex align-items-center justify-content-center"
                >
                  <img src="assets/images/total-user-icon.svg"
                /></span>
              </div>
              <div class="mt-3">
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                >
                  <small class="text-muted d-flex align-items-center gap-3 mb-0"
                    ><span class="universal"></span> Universal Holiday's</small
                  >
                  <small class="text-muted">{{
                    universalHolidaysNumber
                  }}</small>
                </div>
                <div
                  class="d-flex align-items-center justify-content-between mb-3"
                >
                  <small class="text-muted d-flex align-items-center gap-3 mb-0"
                    ><span class="custom"></span> Custom Holiday's</small
                  >
                  <small class="text-muted">{{ customHolidaysNumber }}</small>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-7 mt-3 mb-3">
            <!-- <div class="empty-file" *ngIf="isHolidayErrorPlaceholder">
              <div class="errorboxmain">
                <div class="errorboxinner text-center">
                  <div class="errorboxplaceholder mb-2">
                    <img src="assets/images/signal.svg" style="width: 80px" />
                  </div>
                  <div class="">
                    <h4>Something went wrong</h4>
                    <p>
                      An error occurred while processing your request. Please
                      refresh the page and try again.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="" *ngIf="!isHolidayErrorPlaceholder">
              <div
                class="add-filtter d-flex align-items-center justify-content-end"
              >
                <a
                  class=""
                  style="font-size: 16px; color: #6666f3"
                  data-bs-toggle="modal"
                  data-bs-target="#addholiday"
                  ><i class="bi bi-plus"></i> Add more custom Holiday's
                </a>
              </div>

              <div class="rule-main-box mt-3">
                <div class="d-flex align-items-center attendance-boxx">
                  <div class="late-rule" style="width: 70%">
                    <h5>Universal Holiday's</h5>
                  </div>
                </div>

                <div class="row mt-2 p-2">
                  <div
                    class="col-md-6"
                    *ngFor="let uniHol of universalHolidays"
                  >
                    <div class="shift-deta">
                      <p class="mb-0">
                        <span style="color: #009688">{{ uniHol.name }} </span> -
                        <span style="color: black">{{
                          formatDateIn(uniHol.date)
                        }}</span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="rule-main-box mt-3">
                <div class="d-flex align-items-center attendance-boxx">
                  <div class="late-rule" style="width: 70%">
                    <h5>Custom Holiday's</h5>
                  </div>
                </div>
                <div class="empty-file" *ngIf="customHolidays.length === 0">
                  <div class="errorboxmain">
                    <div class="errorboxinner text-center">
                      <div class="errorboxplaceholder mb-2">
                        <img
                          src="assets/images/empty-box.svg"
                          style="width: 80px"
                        />
                      </div>
                      <div class="">
                        <h4>No Data Found</h4>
                        <p class="mb-0">
                          We're unable to locate a record associated with the
                          information you entered.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row mt-2 p-2" *ngIf="customHolidays.length > 0">
                  <div
                    class="col-md-6"
                    *ngFor="let customHol of customHolidays"
                  >
                    <div class="shift-deta">
                      <p class="mb-0 d-flex justify-content-between">
                        <span style="color: #009688">{{ customHol.name }}</span>
                        -
                        <span style="color: black">{{
                          formatDateIn(customHol.date)
                        }}</span>
                        <span
                          style="color: #eb5050"
                          (click)="deleteCustomHolidays(customHol.id)"
                          *ngIf="isDateGreaterThanToday(customHol.date)"
                          ><i class="bi bi-trash"></i
                        ></span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div> -->

            <div class="add-shift-main-box">
              <div
                class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2"
              >
                <div class="">
                  <h6 class="text-truncate mb-0">Holiday's List</h6>
                </div>
                <div class="">
                  <a
                    class="add-shift-time-btn"
                    data-bs-toggle="modal"
                    data-bs-target="#addholiday"
                    ><i class="bi bi-plus"></i> Add more holidays
                  </a>
                </div>
              </div>

              <div class="m-3 holiday-list">
                <div class="row holiday-list-box-height">
                  <div
                    class="errorboxmain text-center"
                    *ngIf="holidays.length == 0"
                  >
                    <div class="errorboxinner">
                      <div class="errorboxplaceholder mb-2">
                        <img
                          src="assets/images/empty-box.svg"
                          style="width: 80px"
                        />
                      </div>
                      <div class="">
                        <h4>No Data Found</h4>
                        <p class="mb-0">
                          We're unable to locate a record associated with the
                          information you entered.
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6" *ngFor="let holiday of holidays">
                    <div
                      class="holiday-date mb-3 d-flex align-items-center justify-content-between"
                      [ngClass]="{
                        'universal-holiday':
                          holiday.holidayType === 'Universal',
                        'custom-holiday': holiday.holidayType === 'Custom'
                      }"
                    >
                      <p class="mb-0">
                        {{ holiday.name }} |
                        <span style="color: #3f988f">{{
                          holiday.date | date : "dd MMMM, yyyy"
                        }}</span>
                      </p>
                      <div
                        *ngIf="
                          holiday.holidayType === 'Custom' &&
                          isDateGreaterThanToday(holiday.date)
                        "
                        (click)="deleteCustomHolidays(holiday.id)"
                      >
                        <i class="bi bi-trash text-danger pointer"></i>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="d-flex align-items-center justify-content-end">
                  <div class="">
                    <a
                      class="view-all-btn"
                      *ngIf="totalMoreHolidays > 0"
                      (click)="loadMoreHolidays()"
                      >View More
                      <small class="text-muted"
                        >({{ totalMoreHolidays }} more)</small
                      >
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Staff Weekly Holidays</h5>
              <p>
                Assign weekly off days of your business to automatically mark
                attendance for those days
              </p>
            </div>
          </div>

          <div class="col-md-7 mt-3 mb-3">
            <div class="empty-file" *ngIf="isWeeklyHolidayErrorPlaceholder">
              <div class="errorboxmain">
                <div class="errorboxinner text-center">
                  <div class="errorboxplaceholder mb-2">
                    <img src="assets/images/signal.svg" style="width: 80px" />
                  </div>
                  <div class="">
                    <h4>Something went wrong</h4>
                    <p>
                      An error occurred while processing your request. Please
                      refresh the page and try again.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="" *ngIf="!isWeeklyHolidayErrorPlaceholder">
              <!-- <div
                class="add-filtter d-flex align-items-center justify-content-end"
              >
                <a
                  class=""
                  style="font-size: 16px; color: #6666f3"
                  data-bs-toggle="modal"
                  data-bs-target="#addweeklyholiday"
                  ><i class="bi bi-plus"></i>Add Weekly Holiday's
                </a>
              </div> -->
              <div class="empty-file" *ngIf="weeklyHolidays.length === 0">
                <div class="errorboxmain">
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img
                        src="assets/images/empty-box.svg"
                        style="width: 80px"
                      />
                    </div>
                    <div class="">
                      <h4>Not Found</h4>
                      <p class="mb-0">
                        We're unable to locate a record associated with the
                        information you entered.
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="add-shift-main-box" *ngIf="weeklyHolidays.length > 0">
                <div
                  class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2"
                >
                  <div class="">
                    <h6 class="text-truncate mb-0">Weekly Holidays</h6>
                  </div>
                  <div class="">
                    <a
                      class="add-shift-time-btn"
                      data-bs-toggle="modal"
                      data-bs-target="#addweeklyholiday"
                      ><i class="bi bi-plus"></i> Add Weekly Holiday's
                    </a>
                  </div>
                </div>

                <div class="m-3 holiday-list">
                  <div class="row">
                    <div
                      class="col-md-6"
                      *ngFor="let weeklyHol of weeklyHolidays"
                    >
                      <div
                        class="weekly-holidays mb-3 d-flex align-items-center justify-content-between"
                      >
                        <p class="mb-0">
                          Weekends |
                          <span style="color: #3f988f">{{
                            weeklyHol.name
                          }}</span>
                        </p>
                        <div>
                          <i
                            class="bi bi-trash text-danger pointer"
                            (click)="deleteWeeklyHolidays(weeklyHol.id)"
                          ></i>
                        </div>
                      </div>
                    </div>
                    <!-- <div class="col-md-6">
                      <div
                        class="weekly-holidays d-flex align-items-center justify-content-between"
                      >
                        <p class="mb-0">
                          Weekends |
                          <span style="color: #3f988f">Sunday</span>
                        </p>
                        <div>
                          <i class="bi bi-trash text-danger pointer"></i>
                        </div>
                      </div>
                    </div> -->
                  </div>
                </div>
              </div>

              <!-- <div class="rule-main-box mt-3" *ngIf="weeklyHolidays.length > 0">
                <div class="d-flex align-items-center attendance-boxx">
                  <div class="late-rule" style="width: 70%">
                    <h5>Weekly Holidays</h5>
                  </div>
                </div>

                <div class="row mt-2 p-2">
                  <div
                    class="col-md-6"
                    *ngFor="let weeklyHol of weeklyHolidays"
                  >
                    <div class="shift-deta">
                      <p class="mb-0 d-flex justify-content-between">
                        <span style="color: #009688">{{ weeklyHol.name }}</span
                        ><span
                          style="color: #eb5050"
                          (click)="deleteWeeklyHolidays(weeklyHol.id)"
                          ><i class="bi bi-trash"></i
                        ></span>
                      </p>
                    </div>
                  </div>
                </div>
              </div> -->
            </div>
          </div>

          <div class="col-md-12">
            <div class="border-box"></div>
          </div>

          <div class="col-md-4 mt-3 mb-3">
            <div class="form-roe-data">
              <h5>Automation Rules</h5>
              <p>A quick snapshot of your company.</p>
            </div>
          </div>

          <div class="col-md-7 mt-3 mb-3">
            <ng-container
              *ngIf="
                isShimmerForAttendanceRule &&
                  attendanceRuleWithAttendanceRuleDefinitionResponseList.length ==
                    0 &&
                  !dataNotFoundPlaceholderForAttendanceRule &&
                  !networkConnectionErrorPlaceHolderForAttendanceRule;
                else attendanceRuleWithDefinitionData
              "
            >
              <div class="">
                <div class="text-end">
                  <ngx-shimmer-loading
                    [width]="'40%'"
                    [height]="'20px'"
                    style="border-radius: 50%"
                  ></ngx-shimmer-loading>
                </div>
              </div>

              <div
                class="mt-3"
                style="
                  border: 1px solid #f5f5f5;
                  padding: 5px;
                  border-radius: 6px;
                "
              >
                <div
                  class="row"
                  style="
                    border-bottom: 1px solid #f5f5f5;
                    padding-top: 10px;
                    padding-bottom: 10px;
                  "
                >
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-3">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-template #attendanceRuleWithDefinitionData>
              <ng-container
                *ngIf="
                  attendanceRuleWithAttendanceRuleDefinitionResponseList.length !==
                    0 &&
                    !dataNotFoundPlaceholder &&
                    !networkConnectionErrorPlaceHolder;
                  else errorInFetchingAttendanceRuleWithAttendanceRuleDefinitionData
                "
              >
                <div class="add-shift-main-box">
                  <div
                    class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2"
                  >
                    <div class="">
                      <h6 class="text-truncate mb-0">Rule’s</h6>
                    </div>
                    <div class="">
                      <a
                        class="add-shift-time-btn"
                        data-bs-toggle="modal"
                        data-bs-target="#automation-rules"
                        (click)="getAttendanceRuleByOrganizationMethodCall()"
                        ><i class="bi bi-plus"></i> Add Automation Rules
                      </a>
                    </div>
                  </div>

                  <div
                    class="shift-time p-3 m-3"
                    *ngFor="
                      let attendanceRuleWithAttendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponseList
                    "
                  >
                    <div class="">
                      <div
                        class="d-flex align-items-center justify-content-between"
                      >
                        <div class="d-flex align-items-center gap-3">
                          <div class="">
                            <span
                              class="automation-rules-icon d-flex align-items-center justify-content-center"
                            >
                              <img src="assets/images/rule-icon.svg" />
                            </span>
                          </div>
                          <div class="">
                            <h6 class="text-truncate mb-0">
                              {{
                                attendanceRuleWithAttendanceRuleDefinitionResponse
                                  .attendanceRuleResponse.name
                              }}
                            </h6>
                            <small class="text-muted">{{
                              attendanceRuleWithAttendanceRuleDefinitionResponse
                                .attendanceRuleResponse.description
                            }}</small>
                          </div>
                        </div>
                        <div class="">
                          <span
                            class="automation-rules-toogel-btn pointer"
                            data-bs-toggle="collapse"
                            href="#multiCollapseExample5"
                            role="button"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample5"
                            ><i class="bi bi-chevron-down"></i
                          ></span>
                        </div>
                      </div>

                      <div
                        class="collapse multi-collapse"
                        id="multiCollapseExample5"
                        *ngFor="
                          let attendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleDefinitionResponseList;
                          let i = index
                        "
                      >
                        <div
                          class="d-flex align-items-center justify-content-between mt-3"
                        >
                          <div class="">
                            <p class="mb-0">
                              <i
                                class="bi bi-arrow-right"
                                style="padding-right: 10px"
                              ></i>
                              Rule ({{ i + 1 }})
                            </p>
                          </div>
                          <div class="d-flex align-items-center gap-4">
                            <a
                              data-bs-toggle="modal"
                              data-bs-target="#rules-value"
                              class="create-rule"
                              style="cursor: pointer"
                              (click)="
                                updateAttendenceRuleDefinition(
                                  attendanceRuleDefinitionResponse,
                                  attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleResponse
                                )
                              "
                              ><i class="bi bi-pencil pointer"></i
                            ></a>

                            <a
                              class="delete-rule"
                              style="cursor: pointer"
                              (click)="
                                deleteAttendanceRuleDefinitionMethodCall(
                                  attendanceRuleDefinitionResponse.id
                                )
                              "
                              *ngIf="
                                !deleteAttendanceRuleTemplateLoader(
                                  attendanceRuleDefinitionResponse.id
                                )
                              "
                              ><i class="bi bi-trash pointer text-danger"></i
                            ></a>
                            <div
                              class="dot-opacity-loader"
                              *ngIf="
                                deleteAttendanceRuleTemplateLoader(
                                  attendanceRuleDefinitionResponse.id
                                )
                              "
                            >
                              <span style="background-color: #6666f3"></span>
                              <span style="background-color: #6666f3"></span>
                              <span style="background-color: #6666f3"></span>
                            </div>

                            <!-- <i class="bi bi-pencil pointer"></i>
                            <i class="bi bi-trash pointer text-danger"></i> -->
                          </div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse.attendanceRuleId !==
                                    OVERTIME_RULE;
                                  else others
                                "
                              >
                                <div class="custom-salary-hedding p-3">
                                  <h4 class="mb-0">
                                    Custom salary Deduction rule
                                  </h4>
                                </div>
                              </ng-container>
                              <ng-template #others>
                                <div class="custom-salary-hedding p-3">
                                  <h4 class="mb-0">
                                    Custom Salary Overtime Pay Rules
                                  </h4>
                                </div>
                              </ng-template>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .customSalaryDeduction
                                          .lateDuration !== null &&
                                          attendanceRuleDefinitionResponse
                                            .customSalaryDeduction
                                            .lateDuration !== '';
                                        else na
                                      "
                                    >
                                      <span style="color: 3f988f">{{
                                        attendanceRuleDefinitionResponse
                                          .customSalaryDeduction.lateDuration
                                      }}</span>
                                      <span style="color: 3f988f"> hrs.</span>
                                    </ng-container>
                                    <ng-template #na>
                                      <span style="color: 3f988f">NA</span>
                                    </ng-template>
                                  </span>
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <!-- <p class="mb-0">Deduction</p>
                                  <span style="color: #3f988f">Minute</span> -->
                                  <ng-container
                                    *ngIf="
                                      attendanceRuleDefinitionResponse.attendanceRuleId !==
                                        OVERTIME_RULE;
                                      else overtime
                                    "
                                  >
                                    <p class="mb-0">Deduction</p>
                                    <!-- <span> | </span> -->
                                    <span style="color: #009688">
                                      <ng-container
                                        *ngIf="
                                          attendanceRuleDefinitionResponse
                                            ?.deductionType?.id ===
                                            DEDUCTION_TYPE_PER_MINUTE;
                                          else fixedAmountOrNA
                                        "
                                      >
                                        <span style="color: 3f988f">{{
                                          attendanceRuleDefinitionResponse
                                            ?.deductionType?.type
                                        }}</span>
                                      </ng-container>
                                      <ng-template #fixedAmountOrNA>
                                        <ng-container
                                          *ngIf="
                                            attendanceRuleDefinitionResponse
                                              ?.deductionType?.type;
                                            else na2
                                          "
                                        >
                                          <span style="color: 3f988f">{{
                                            attendanceRuleDefinitionResponse
                                              ?.deductionType?.type
                                          }}</span>
                                          <span style="color: 3f988f">
                                            (Rs.
                                            {{
                                              attendanceRuleDefinitionResponse
                                                .customSalaryDeduction
                                                .amountInRupees
                                            }})</span
                                          >
                                        </ng-container>
                                      </ng-template>
                                      <ng-template #na2>
                                        <span>NA</span>
                                      </ng-template>
                                    </span>
                                  </ng-container>
                                  <ng-template #overtime>
                                    <span>Overtime Type</span>
                                    <span> | </span>
                                    <span style="color: #009688">
                                      <ng-container
                                        *ngIf="
                                          attendanceRuleDefinitionResponse
                                            ?.overtimeType?.id ===
                                            OVERTIME_TYPE_FIXED_AMOUNT;
                                          else overtimeTypeOrNA
                                        "
                                      >
                                        <span>{{
                                          attendanceRuleDefinitionResponse
                                            ?.overtimeType?.type
                                        }}</span>
                                        <span>
                                          (Rs.
                                          {{
                                            attendanceRuleDefinitionResponse
                                              .customSalaryDeduction
                                              .amountInRupees
                                          }})</span
                                        >
                                      </ng-container>
                                      <ng-template #overtimeTypeOrNA>
                                        <ng-container
                                          *ngIf="
                                            attendanceRuleDefinitionResponse
                                              ?.overtimeType?.type;
                                            else na3
                                          "
                                        >
                                          <span>{{
                                            attendanceRuleDefinitionResponse
                                              ?.overtimeType?.type
                                          }}</span>
                                        </ng-container>
                                      </ng-template>
                                      <ng-template #na3>
                                        <span>NA</span>
                                      </ng-template>
                                    </span>
                                  </ng-template>
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <!-- <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span> -->
                                  <p class="mb-0">Occurrences</p>
                                  <!-- <span> | </span> -->
                                  <span style="color: #009688">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .customSalaryDeduction
                                          .occurrenceCount !== 0;
                                        else customSalaryDurationOrNA
                                      "
                                    >
                                      <span>{{
                                        attendanceRuleDefinitionResponse
                                          .customSalaryDeduction.occurrenceCount
                                      }}</span>
                                      <span style="color: 3f988f"> times</span>
                                    </ng-container>
                                    <ng-template #customSalaryDurationOrNA>
                                      <ng-container
                                        *ngIf="
                                          attendanceRuleDefinitionResponse
                                            .customSalaryDeduction
                                            .occurrenceDuration;
                                          else na4
                                        "
                                      >
                                        <span>{{
                                          attendanceRuleDefinitionResponse
                                            .customSalaryDeduction
                                            .occurrenceDuration
                                        }}</span>
                                        <span style="color: 3f988f"> hrs.</span>
                                      </ng-container>
                                    </ng-template>
                                    <ng-template #na4>N/A</ng-template>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse.attendanceRuleId !==
                                      OVERTIME_RULE;
                                    else others2
                                  "
                                >
                                  <h4 class="mb-0">
                                    Half Day Salary Deduction Rules
                                  </h4>
                                </ng-container>
                                <ng-template #others2>
                                  <h4 class="mb-0">
                                    Half Day Salary Overtime Pay Rules
                                  </h4>
                                </ng-template>
                                <!-- <h4 class="mb-0">
                                  Half Day Salary Deduction Rules
                                </h4> -->
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <!-- <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  > -->
                                  <p class="mb-0">Duration</p>
                                  <!-- <span> | </span> -->
                                  <span style="color: #009688">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .halfDaySalaryDeduction
                                          .lateDuration !== null &&
                                          attendanceRuleDefinitionResponse
                                            .halfDaySalaryDeduction
                                            .lateDuration !== '';
                                        else na5
                                      "
                                    >
                                      <span>{{
                                        attendanceRuleDefinitionResponse
                                          .halfDaySalaryDeduction.lateDuration
                                      }}</span>
                                      <span style="color: 3f988f"> hrs.</span>
                                    </ng-container>
                                    <ng-template #na5>
                                      <span>NA</span>
                                    </ng-template>
                                  </span>
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <!-- <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span> -->
                                  <p class="mb-0">Occurrences</p>
                                  <!-- <span> | </span> -->
                                  <span style="color: #009688">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .halfDaySalaryDeduction
                                          .occurrenceCount !== 0;
                                        else halfDayOccurrenceDurationOrNA
                                      "
                                    >
                                      <span>{{
                                        attendanceRuleDefinitionResponse
                                          .halfDaySalaryDeduction
                                          .occurrenceCount
                                      }}</span>
                                      <span style="color: 3f988f"> times</span>
                                    </ng-container>
                                    <ng-template #halfDayOccurrenceDurationOrNA>
                                      <ng-container
                                        *ngIf="
                                          attendanceRuleDefinitionResponse
                                            .halfDaySalaryDeduction
                                            .occurrenceDuration;
                                          else na6
                                        "
                                      >
                                        <span>{{
                                          attendanceRuleDefinitionResponse
                                            .halfDaySalaryDeduction
                                            .occurrenceDuration
                                        }}</span>
                                        <span style="color: 3f988f"> hrs.</span>
                                      </ng-container>
                                    </ng-template>
                                    <ng-template #na6>N/A</ng-template>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <!-- <h4 class="mb-0">
                                  Full Day Salary Deduction Rules
                                </h4> -->
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse.attendanceRuleId !==
                                      OVERTIME_RULE;
                                    else others3
                                  "
                                >
                                  <h4 class="mb-0">
                                    Full Day Salary Deduction Rules
                                  </h4>
                                </ng-container>
                                <ng-template #others3>
                                  <h4 class="mb-0">
                                    Full Day Salary Overtime Pay Rules
                                  </h4>
                                </ng-template>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <!-- <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  > -->
                                  <p class="mb-0">Duration</p>
                                  <!-- <span> | </span> -->
                                  <span style="color: #009688">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .fullDaySalaryDeduction
                                          .lateDuration !== null &&
                                          attendanceRuleDefinitionResponse
                                            .fullDaySalaryDeduction
                                            .lateDuration != '';
                                        else na7
                                      "
                                    >
                                      <span>{{
                                        attendanceRuleDefinitionResponse
                                          .fullDaySalaryDeduction.lateDuration
                                      }}</span>
                                      <span style="color: 3f988f"> hrs.</span>
                                    </ng-container>
                                    <ng-template #na7>
                                      <span>N/A</span>
                                    </ng-template>
                                  </span>
                                </div>

                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <!-- <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span> -->
                                  <p class="mb-0">Occurrences</p>
                                  <!-- <span> | </span> -->
                                  <span style="color: #009688">
                                    <ng-container
                                      *ngIf="
                                        attendanceRuleDefinitionResponse
                                          .fullDaySalaryDeduction
                                          .occurrenceCount !== 0;
                                        else fullDayOccurrenceDurationOrNA
                                      "
                                    >
                                      <span>{{
                                        attendanceRuleDefinitionResponse
                                          .fullDaySalaryDeduction
                                          .occurrenceCount
                                      }}</span>
                                      <span style="color: 3f988f"> times</span>
                                    </ng-container>
                                    <ng-template #fullDayOccurrenceDurationOrNA>
                                      <ng-container
                                        *ngIf="
                                          attendanceRuleDefinitionResponse
                                            .fullDaySalaryDeduction
                                            .occurrenceDuration;
                                          else na8
                                        "
                                      >
                                        <span>{{
                                          attendanceRuleDefinitionResponse
                                            .fullDaySalaryDeduction
                                            .occurrenceDuration
                                        }}</span>
                                        <span style="color: 3f988f"> hrs.</span>
                                      </ng-container>
                                    </ng-template>
                                    <ng-template #na8>N/A</ng-template>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="shift-time p-3 m-3">
                    <div class="">
                      <div
                        class="d-flex align-items-center justify-content-between"
                      >
                        <div class="d-flex align-items-center gap-3">
                          <div class="">
                            <span
                              class="automation-rules-icon d-flex align-items-center justify-content-center"
                            >
                              <img src="assets/images/rule-icon.svg" />
                            </span>
                          </div>
                          <div class="">
                            <h6 class="text-truncate mb-0">Late Entry Rules</h6>
                            <small class="text-muted"
                              >Define the late entry rules for the
                              employees</small
                            >
                          </div>
                        </div>
                        <div class="">
                          <span
                            class="automation-rules-toogel-btn pointer"
                            data-bs-toggle="collapse"
                            href="#multiCollapseExample6"
                            role="button"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample6"
                            ><i class="bi bi-chevron-down"></i
                          ></span>
                        </div>
                      </div>

                      <div
                        class="collapse multi-collapse"
                        id="multiCollapseExample6"
                      >
                        <div
                          class="d-flex align-items-center justify-content-between mt-3"
                        >
                          <div class="">
                            <p class="mb-0">
                              <i
                                class="bi bi-arrow-right"
                                style="padding-right: 10px"
                              ></i>
                              Rule 1
                            </p>
                          </div>
                          <div class="d-flex align-items-center gap-4">
                            <i class="bi bi-pencil pointer"></i>
                            <i class="bi bi-trash pointer text-danger"></i>
                          </div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Custom salary Deduction rule
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Deduction</p>
                                  <span style="color: #3f988f">Minute</span>
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Half Day Salary Deduction Rules
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Full Day Salary Deduction Rules
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>

                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="shift-time p-3 m-3">
                    <div class="">
                      <div
                        class="d-flex align-items-center justify-content-between"
                      >
                        <div class="d-flex align-items-center gap-3">
                          <div class="">
                            <span
                              class="automation-rules-icon d-flex align-items-center justify-content-center"
                            >
                              <img src="assets/images/rule-icon.svg" />
                            </span>
                          </div>
                          <div class="">
                            <h6 class="text-truncate mb-0">Late Entry Rules</h6>
                            <small class="text-muted"
                              >Define the late entry rules for the
                              employees</small
                            >
                          </div>
                        </div>
                        <div class="">
                          <span
                            class="automation-rules-toogel-btn pointer"
                            data-bs-toggle="collapse"
                            href="#multiCollapseExample7"
                            role="button"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample7"
                            ><i class="bi bi-chevron-down"></i
                          ></span>
                        </div>
                      </div>

                      <div
                        class="collapse multi-collapse"
                        id="multiCollapseExample7"
                      >
                        <div
                          class="d-flex align-items-center justify-content-between mt-3"
                        >
                          <div class="">
                            <p class="mb-0">
                              <i
                                class="bi bi-arrow-right"
                                style="padding-right: 10px"
                              ></i>
                              Rule 1
                            </p>
                          </div>
                          <div class="d-flex align-items-center gap-4">
                            <i class="bi bi-pencil pointer"></i>
                            <i class="bi bi-trash pointer text-danger"></i>
                          </div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Custom salary Deduction rule
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Deduction</p>
                                  <span style="color: #3f988f">Minute</span>
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Half Day Salary Deduction Rules
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>
                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="custom-salary">
                              <div class="custom-salary-hedding p-3">
                                <h4 class="mb-0">
                                  Full Day Salary Deduction Rules
                                </h4>
                              </div>
                              <div class="custom-salary-para p-3">
                                <div
                                  class="d-flex align-items-center justify-content-between mb-3"
                                >
                                  <p class="mb-0">Duration</p>
                                  <span style="color: #3f988f"
                                    >00:30:00 hrs</span
                                  >
                                </div>

                                <div
                                  class="d-flex align-items-center justify-content-between"
                                >
                                  <p class="mb-0">Occasion</p>
                                  <span style="color: #3f988f">5 Times</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> -->
                </div>
              </ng-container>
            </ng-template>

            <!-- old code  -->
            <!-- <ng-template #attendanceRuleWithDefinitionData>
              <ng-container
                *ngIf="
                  attendanceRuleWithAttendanceRuleDefinitionResponseList.length !==
                    0 &&
                    !dataNotFoundPlaceholder &&
                    !networkConnectionErrorPlaceHolder;
                  else errorInFetchingAttendanceRuleWithAttendanceRuleDefinitionData
                "
              >
                <div
                  class="add-filtter d-flex align-items-center justify-content-end mb-3"
                >
                  <a
                    class=""
                    style="font-size: 16px; color: #6666f3"
                    data-bs-toggle="modal"
                    data-bs-target="#automation-rules"
                    (click)="getAttendanceRuleByOrganizationMethodCall()"
                    ><i class="bi bi-plus"></i> Add Automation Rules
                  </a>
                </div>

                <div
                  class="mt-3"
                  *ngFor="
                    let attendanceRuleWithAttendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponseList
                  "
                >
                  <div class="rule-main-box">
                    <div class="d-flex align-items-center attendance-boxx">
                      <div class="late-icon">
                        <i class="bi bi-person"></i>
                      </div>
                      <div class="late-rule">
                        <h5>
                          {{
                            attendanceRuleWithAttendanceRuleDefinitionResponse
                              .attendanceRuleResponse.name
                          }}
                        </h5>
                        <p class="mb-0">
                          {{
                            attendanceRuleWithAttendanceRuleDefinitionResponse
                              .attendanceRuleResponse.description
                          }}
                        </p>
                      </div>
                    </div>

                    <div
                      class="row p-2"
                      *ngFor="
                        let attendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleDefinitionResponseList;
                        let i = index
                      "
                    >
                      <div
                        class="col-md-12 d-flex justify-content-between align-items-center"
                      >
                        <p
                          class="mb-0 mb-2"
                          style="font-size: 12px; font-weight: 500"
                        >
                          Rule ({{ i + 1 }})
                        </p>
                        <div
                          class="late-btn d-flex align-items-center justify-content-end mb-2"
                          style="gap: 20px; margin-right: 15px"
                        >
                          <a
                            data-bs-toggle="modal"
                            data-bs-target="#rules-value"
                            class="create-rule"
                            style="cursor: pointer"
                            (click)="
                              updateAttendenceRuleDefinition(
                                attendanceRuleDefinitionResponse,
                                attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleResponse
                              )
                            "
                            ><i class="bi bi-pencil-square"></i
                          ></a>

                          <a
                            class="delete-rule"
                            style="cursor: pointer"
                            (click)="
                              deleteAttendanceRuleDefinitionMethodCall(
                                attendanceRuleDefinitionResponse.id
                              )
                            "
                            *ngIf="
                              !deleteAttendanceRuleTemplateLoader(
                                attendanceRuleDefinitionResponse.id
                              )
                            "
                            ><i class="bi bi-trash"></i
                          ></a>
                          <div
                            class="dot-opacity-loader"
                            *ngIf="
                              deleteAttendanceRuleTemplateLoader(
                                attendanceRuleDefinitionResponse.id
                              )
                            "
                          >
                            <span style="background-color: #6666f3"></span>
                            <span style="background-color: #6666f3"></span>
                            <span style="background-color: #6666f3"></span>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <ng-container
                          *ngIf="
                            attendanceRuleDefinitionResponse.attendanceRuleId !==
                              OVERTIME_RULE;
                            else others
                          "
                        >
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Custom Salary Deduction Rules
                          </p>
                        </ng-container>
                        <ng-template #others>
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Custom Salary Overtime Pay Rules
                          </p>
                        </ng-template>
                        <div class="in-time">
                          <div class="duration">
                            <span>Duration </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .customSalaryDeduction.lateDuration !==
                                    null &&
                                    attendanceRuleDefinitionResponse
                                      .customSalaryDeduction.lateDuration !==
                                      '';
                                  else na
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .customSalaryDeduction.lateDuration
                                }}</span>
                                <span style="color: black"> hrs.</span>
                              </ng-container>
                              <ng-template #na>
                                <span>NA</span>
                              </ng-template>
                            </span>
                          </div>
                          <div class="duration">
                            <ng-container
                              *ngIf="
                                attendanceRuleDefinitionResponse.attendanceRuleId !==
                                  OVERTIME_RULE;
                                else overtime
                              "
                            >
                              <span>Deduction Type</span>
                              <span> | </span>
                              <span style="color: #009688">
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse
                                      ?.deductionType?.id ===
                                      DEDUCTION_TYPE_PER_MINUTE;
                                    else fixedAmountOrNA
                                  "
                                >
                                  <span>{{
                                    attendanceRuleDefinitionResponse
                                      ?.deductionType?.type
                                  }}</span>
                                </ng-container>
                                <ng-template #fixedAmountOrNA>
                                  <ng-container
                                    *ngIf="
                                      attendanceRuleDefinitionResponse
                                        ?.deductionType?.type;
                                      else na2
                                    "
                                  >
                                    <span>{{
                                      attendanceRuleDefinitionResponse
                                        ?.deductionType?.type
                                    }}</span>
                                    <span>
                                      (Rs.
                                      {{
                                        attendanceRuleDefinitionResponse
                                          .customSalaryDeduction.amountInRupees
                                      }})</span
                                    >
                                  </ng-container>
                                </ng-template>
                                <ng-template #na2>
                                  <span>NA</span>
                                </ng-template>
                              </span>
                            </ng-container>
                            <ng-template #overtime>
                              <span>Overtime Type</span>
                              <span> | </span>
                              <span style="color: #009688">
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse
                                      ?.overtimeType?.id ===
                                      OVERTIME_TYPE_FIXED_AMOUNT;
                                    else overtimeTypeOrNA
                                  "
                                >
                                  <span>{{
                                    attendanceRuleDefinitionResponse
                                      ?.overtimeType?.type
                                  }}</span>
                                  <span>
                                    (Rs.
                                    {{
                                      attendanceRuleDefinitionResponse
                                        .customSalaryDeduction.amountInRupees
                                    }})</span
                                  >
                                </ng-container>
                                <ng-template #overtimeTypeOrNA>
                                  <ng-container
                                    *ngIf="
                                      attendanceRuleDefinitionResponse
                                        ?.overtimeType?.type;
                                      else na3
                                    "
                                  >
                                    <span>{{
                                      attendanceRuleDefinitionResponse
                                        ?.overtimeType?.type
                                    }}</span>
                                  </ng-container>
                                </ng-template>
                                <ng-template #na3>
                                  <span>NA</span>
                                </ng-template>
                              </span>
                            </ng-template>
                          </div>
                          <div class="duration">
                            <span>Occurrences </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .customSalaryDeduction.occurrenceCount !==
                                    0;
                                  else customSalaryDurationOrNA
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .customSalaryDeduction.occurrenceCount
                                }}</span>
                                <span style="color: black"> times</span>
                              </ng-container>
                              <ng-template #customSalaryDurationOrNA>
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse
                                      .customSalaryDeduction.occurrenceDuration;
                                    else na4
                                  "
                                >
                                  <span>{{
                                    attendanceRuleDefinitionResponse
                                      .customSalaryDeduction.occurrenceDuration
                                  }}</span>
                                  <span style="color: black"> hrs.</span>
                                </ng-container>
                              </ng-template>
                              <ng-template #na4>N/A</ng-template>
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <ng-container
                          *ngIf="
                            attendanceRuleDefinitionResponse.attendanceRuleId !==
                              OVERTIME_RULE;
                            else others2
                          "
                        >
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Half Day Salary Deduction Rules
                          </p>
                        </ng-container>
                        <ng-template #others2>
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Half Day Salary Overtime Pay Rules
                          </p>
                        </ng-template>
                        <p
                          class="mb-0 mb-2"
                          style="font-size: 11px; color: #6666f3"
                        ></p>
                        <div class="in-time">
                          <div class="duration">
                            <span>Duration </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .halfDaySalaryDeduction.lateDuration !==
                                    null &&
                                    attendanceRuleDefinitionResponse
                                      .halfDaySalaryDeduction.lateDuration !==
                                      '';
                                  else na5
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .halfDaySalaryDeduction.lateDuration
                                }}</span>
                                <span style="color: black"> hrs.</span>
                              </ng-container>
                              <ng-template #na5>
                                <span>NA</span>
                              </ng-template>
                            </span>
                          </div>
                          <div class="duration">
                            <span>Occurrences </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .halfDaySalaryDeduction.occurrenceCount !==
                                    0;
                                  else halfDayOccurrenceDurationOrNA
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .halfDaySalaryDeduction.occurrenceCount
                                }}</span>
                                <span style="color: black"> times</span>
                              </ng-container>
                              <ng-template #halfDayOccurrenceDurationOrNA>
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse
                                      .halfDaySalaryDeduction
                                      .occurrenceDuration;
                                    else na6
                                  "
                                >
                                  <span>{{
                                    attendanceRuleDefinitionResponse
                                      .halfDaySalaryDeduction.occurrenceDuration
                                  }}</span>
                                  <span style="color: black"> hrs.</span>
                                </ng-container>
                              </ng-template>
                              <ng-template #na6>N/A</ng-template>
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <ng-container
                          *ngIf="
                            attendanceRuleDefinitionResponse.attendanceRuleId !==
                              OVERTIME_RULE;
                            else others3
                          "
                        >
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Full Day Salary Deduction Rules
                          </p>
                        </ng-container>
                        <ng-template #others3>
                          <p
                            class="mb-0 mb-2"
                            style="font-size: 11px; color: #6666f3"
                          >
                            Full Day Salary Overtime Pay Rules
                          </p>
                        </ng-template>
                        <div class="in-time">
                          <div class="duration">
                            <span>Duration </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .fullDaySalaryDeduction.lateDuration !==
                                    null &&
                                    attendanceRuleDefinitionResponse
                                      .fullDaySalaryDeduction.lateDuration !=
                                      '';
                                  else na7
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .fullDaySalaryDeduction.lateDuration
                                }}</span>
                                <span style="color: black"> hrs.</span>
                              </ng-container>
                              <ng-template #na7>
                                <span>N/A</span>
                              </ng-template>
                            </span>
                          </div>
                          <div class="duration">
                            <span>Occurrences </span>
                            <span> | </span>
                            <span style="color: #009688">
                              <ng-container
                                *ngIf="
                                  attendanceRuleDefinitionResponse
                                    .fullDaySalaryDeduction.occurrenceCount !==
                                    0;
                                  else fullDayOccurrenceDurationOrNA
                                "
                              >
                                <span>{{
                                  attendanceRuleDefinitionResponse
                                    .fullDaySalaryDeduction.occurrenceCount
                                }}</span>
                                <span style="color: black"> times</span>
                              </ng-container>
                              <ng-template #fullDayOccurrenceDurationOrNA>
                                <ng-container
                                  *ngIf="
                                    attendanceRuleDefinitionResponse
                                      .fullDaySalaryDeduction
                                      .occurrenceDuration;
                                    else na8
                                  "
                                >
                                  <span>{{
                                    attendanceRuleDefinitionResponse
                                      .fullDaySalaryDeduction.occurrenceDuration
                                  }}</span>
                                  <span style="color: black"> hrs.</span>
                                </ng-container>
                              </ng-template>
                              <ng-template #na8>N/A</ng-template>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr class="m-0" />
                  </div>
                </div>
              </ng-container>
            </ng-template> -->

            <ng-template
              #errorInFetchingAttendanceRuleWithAttendanceRuleDefinitionData
            >
              <div class="empty-file" *ngIf="dataNotFoundPlaceholder">
                <div class="errorboxmain">
                  <div class="errorboxinner">
                    <div class="errorboxplaceholder mb-2">
                      <img
                        src="assets/images/empty-box.svg"
                        style="width: 80px"
                      />
                    </div>
                    <div class="">
                      <p class="mb-0">Automation Rules Not Found</p>
                    </div>
                    <div
                      class="add-filtter mt-2 mb-3"
                      style="text-align: center"
                    >
                      <a
                        class=""
                        style="font-size: 14px; color: #6666f3"
                        data-bs-toggle="modal"
                        data-bs-target="#automation-rules"
                        (click)="getAttendanceRuleByOrganizationMethodCall()"
                        ><i class="bi bi-plus"></i> Add Automation Rules
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <div class="empty-file" *ngIf="networkConnectionErrorPlaceHolder">
                <div class="errorboxmain">
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>
                    <div class="">
                      <h4>Something went wrong</h4>
                      <p>
                        An error occurred while processing your request. Please
                        refresh the page and try again.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>

            <div class="col-md-12">
              <div class="border-box"></div>
            </div>

            <div class="col-md-1"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="shiftTime"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            Shift Time
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            #closeShiftTimingModal
          ></button>
        </div>
        <div class="modal-body">
          <div class="">
            <ul id="myTab" role="tablist" class="nav nav-tabs">
              <li role="presentation" class="nav-item">
                <button
                  id="home-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#shiftime"
                  type="button"
                  role="tab"
                  aria-controls="shiftime"
                  aria-selected="true"
                  class="nav-link active"
                  #shiftTimingActiveTab
                >
                  Shift Time
                </button>
              </li>
              <li role="presentation" class="nav-item">
                <button
                  id="profile-tab"
                  data-bs-toggle="tab"
                  [class.disabled]="shiftForm.invalid"
                  [attr.aria-selected]="!shiftForm.invalid"
                  [attr.tabindex]="shiftForm.invalid ? -1 : null"
                  (click)="
                    !shiftForm.invalid && staffActiveTabInShiftTimingMethod()
                  "
                  data-bs-target="#staffselection"
                  type="button"
                  role="tab"
                  aria-controls="staffselection"
                  aria-selected="false"
                  class="nav-link"
                  #staffActiveTabInShiftTiming
                >
                  Staff selection
                </button>
              </li>
            </ul>
            <div class="tab-content" id="myTabContent">
              <div
                class="tab-pane fade show active"
                id="shiftime"
                role="tabpanel"
              >
                <form
                  #shiftForm="ngForm"
                  ngNativeValidate
                  (ngSubmit)="submitShiftTimingForm()"
                >
                  <div class="row p-3">
                    <!-- Dropdown for Shift Type -->
                    <div class="col-md-6">
                      <!-- Existing dropdown code for shift types -->
                      <div class="form-fild">
                        <label for="exampleInputEmail1" class="pb-2"
                          >Shift Type</label
                        >

                        <div class="dropdown">
                          <button
                            class="btn btn-secondary dropdown-toggle new-dropdown"
                            type="button"
                            id="dropdownMenuButton1"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                            style="
                              text-align: left;
                              background-color: white;
                              color: black;
                              border-color: #ced4da;
                              width: 100%;
                            "
                          >
                            {{ selectedShiftType?.name || "Select shift type" }}
                            <i class="bi bi-chevron-down"></i>
                          </button>
                          <ul
                            class="dropdown-menu"
                            aria-labelledby="dropdownMenuButton1"
                            style="width: 100%"
                          >
                            <li *ngFor="let shiftType of shiftTypeList">
                              <a
                                class="dropdown-item"
                                (click)="selectShiftType(shiftType)"
                              >
                                {{ shiftType.name }}
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <!-- Shift Name Input -->
                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="shiftName" class="pb-2">Shift Name</label>
                        <input
                          type="text"
                          class="form-control"
                          id="shiftName"
                          placeholder="Shift name"
                          required
                          [(ngModel)]="organizationShiftTimingRequest.name"
                          name="shiftName"
                        />
                      </div>
                    </div>

                    <!-- In Time Input -->
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="inTime" class="pb-2">In Time</label>
                        <input
                          id="inTime"
                          type="time"
                          class="form-control"
                          required
                          [(ngModel)]="organizationShiftTimingRequest.inTime"
                          name="inTime"
                          (change)="calculateTimes()"
                        />
                        <div
                          *ngIf="
                            organizationShiftTimingValidationErrors['inTime']
                          "
                          class="text-danger"
                        >
                          {{
                            organizationShiftTimingValidationErrors["inTime"]
                          }}
                        </div>
                      </div>
                    </div>

                    <!-- Out Time Input -->
                    <!-- <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="outTime" class="pb-2">Out Time</label>
                                        <input id="outTime" type="time" class="form-control" required 
                                               [(ngModel)]="organizationShiftTimingRequest.outTime" name="outTime"
                                               (change)="calculateTimes()">
                                        <div *ngIf="organizationShiftTimingRequest.errors['outTime']" class="text-danger">
                                            {{ organizationShiftTimingRequest.errors['outTime'] }}
                                        </div>
                                    </div>
                                </div> -->

                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="outTime" class="pb-2">Out Time</label>
                        <input
                          id="outTime"
                          type="time"
                          [class.is-invalid]="
                            organizationShiftTimingValidationErrors['outTime']
                          "
                          class="form-control"
                          required
                          [(ngModel)]="organizationShiftTimingRequest.outTime"
                          name="outTime"
                          (change)="calculateTimes()"
                        />
                        <!-- Error Message for Out Time -->
                        <div
                          *ngIf="
                            organizationShiftTimingValidationErrors['outTime']
                          "
                          class="text-danger"
                        >
                          {{
                            organizationShiftTimingValidationErrors["outTime"]
                          }}
                        </div>
                      </div>
                    </div>

                    <!-- Working Hours Display -->
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="workingHours" class="pb-2"
                          >Working Hours</label
                        >
                        <input
                          id="workingHours"
                          type="text"
                          class="form-control"
                          readonly
                          [(ngModel)]="
                            organizationShiftTimingRequest.workingHour
                          "
                          name="workingHours"
                          placeholder="Working hours"
                        />
                      </div>
                    </div>

                    <!-- Lunch Break Start Time Input -->
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="lunchBreakStartTime" class="pb-2"
                          >Lunch Break Start Time</label
                        >
                        <input
                          id="lunchBreakStartTime"
                          type="time"
                          [class.is-invalid]="
                            organizationShiftTimingValidationErrors[
                              'startLunch'
                            ]
                          "
                          class="form-control"
                          required
                          [(ngModel)]="
                            organizationShiftTimingRequest.startLunch
                          "
                          name="lunchBreakStartTime"
                          (change)="calculateTimes()"
                        />
                        <div
                          *ngIf="
                            organizationShiftTimingValidationErrors[
                              'startLunch'
                            ]
                          "
                          class="text-danger"
                        >
                          {{
                            organizationShiftTimingValidationErrors[
                              "startLunch"
                            ]
                          }}
                        </div>
                      </div>
                    </div>

                    <!-- Lunch Break End Time Input -->
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="lunchBreakEndTime" class="pb-2"
                          >Lunch Break End Time</label
                        >
                        <input
                          id="lunchBreakEndTime"
                          type="time"
                          [class.is-invalid]="
                            organizationShiftTimingValidationErrors['endLunch']
                          "
                          class="form-control"
                          required
                          [(ngModel)]="organizationShiftTimingRequest.endLunch"
                          name="lunchBreakEndTime"
                          (change)="calculateTimes()"
                        />
                        <div
                          *ngIf="
                            organizationShiftTimingValidationErrors['endLunch']
                          "
                          class="text-danger"
                        >
                          {{
                            organizationShiftTimingValidationErrors["endLunch"]
                          }}
                        </div>
                      </div>
                    </div>

                    <!-- Lunch Break Duration Display -->
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label for="totalLunchBreakDuration" class="pb-2"
                          >Total Lunch Break Duration</label
                        >
                        <input
                          id="totalLunchBreakDuration"
                          type="text"
                          class="form-control"
                          readonly
                          [(ngModel)]="organizationShiftTimingRequest.lunchHour"
                          name="totalLunchBreakDuration"
                          placeholder="Lunch break hours"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Submit Button -->
                  <div class="modal-footer">
                    <button
                      type="submit"
                      class="btn btn-primary"
                      [disabled]="shiftForm.invalid"
                      (click)="staffActiveTabInShiftTimingMethod()"
                    >
                      Next
                    </button>
                  </div>
                </form>
              </div>

              <div class="tab-pane fade" id="staffselection" role="tabpanel">
                <div class="staf-list-box mt-3">
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <div>
                        <h5>
                          Userlist
                          <span
                            style="
                              color: #4761f6;
                              background-color: #d1d6f2;
                              padding: 5px;
                              border-radius: 5px;
                            "
                            ><b>{{ total }}</b></span
                          >
                        </h5>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <form
                        novalidate=""
                        role="search"
                        (submit)="searchUsers()"
                        class="searching ng-untouched ng-pristine ng-valid"
                      >
                        <div class="form-group" style="position: relative">
                          <input
                            type="text"
                            id="searchText"
                            placeholder="Search by name and role"
                            class="form-control me-2 ng-untouched ng-pristine ng-valid"
                            (keyup)="searchUsers()"
                            [(ngModel)]="searchText"
                            [ngModelOptions]="{ standalone: true }"
                            style="padding: 10px 50px 10px 30px"
                          />
                          <button
                            *ngIf="searchText.length !== 0"
                            type="button"
                            class="btn close-btn"
                            (click)="clearSearchText()"
                          >
                            <i class="bi bi-x mt-auto mb-auto pl-3"></i>
                          </button>
                          <i
                            class="bi bi-search search-icon"
                            style="
                              position: absolute;
                              top: 50%;
                              transform: translateY(-50%);
                              left: 10px;
                            "
                          ></i>
                        </div>
                      </form>
                    </div>
                  </div>

                  <div
                    style="
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                    "
                  >
                    <div *ngIf="selectedStaffsUuids.length > 0">
                      <ng-container
                        *ngIf="
                          selectedStaffsUuids.length === total;
                          else elseCondition2
                        "
                      >
                        <span
                          (click)="unselectAllUsers()"
                          style="
                            cursor: pointer;
                            color: #eb5050;
                            background-color: #fcf1f1;
                            padding: 8px;
                            border-radius: 5px;
                          "
                          >Clear all users<i class="bi bi-x"></i
                        ></span>
                      </ng-container>
                      <ng-template #elseCondition2>
                        <span
                          (click)="selectAllUsers(true)"
                          style="
                            cursor: pointer;
                            color: #4761f6;
                            background-color: #eef1ff;
                            padding: 8px;
                            border-radius: 5px;
                          "
                          >Select all {{ total }} users</span
                        >
                      </ng-template>
                    </div>

                    <div *ngIf="selectedStaffsUuids.length !== 0">
                      <ng-container
                        *ngIf="
                          selectedStaffsUuids.length === total;
                          else elseCondition1
                        "
                      >
                        <span
                          >All <b>{{ total }}</b> users selected</span
                        >
                      </ng-container>
                      <ng-template #elseCondition1>
                        <span
                          ><b>{{ selectedStaffsUuids.length }}</b> selected of
                          <b>{{ total }}</b></span
                        >
                        <span
                          style="cursor: pointer"
                          (click)="unselectAllUsers()"
                          ><i class="bi bi-x"></i
                        ></span>
                      </ng-template>
                    </div>
                  </div>

                  <ng-container
                    *ngIf="total > 0; else noDataFoundPlaceholderInShiftTiming"
                  >
                    <table class="table">
                      <thead class="thead-light">
                        <tr>
                          <th style="width: 0%">
                            <input
                              type="checkbox"
                              style="cursor: pointer"
                              class="form-check-input"
                              [(ngModel)]="isAllSelected"
                              (change)="selectAll(isAllSelected)"
                            />
                          </th>
                          <!-- <th style="width:25%; padding: 12px 15px;">S. No.</th> -->
                          <th style="width: 25%; padding: 12px 15px">Name</th>
                          <th style="width: 25%; padding: 12px 15px">Email</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let staff of staffs
                              | paginate
                                : {
                                    itemsPerPage: itemPerPage,
                                    currentPage: pageNumber,
                                    totalItems: total
                                  }
                          "
                          style="border-bottom: 1px solid #dddddd"
                        >
                          <td>
                            <div class="form-check">
                              <input
                                type="checkbox"
                                style="cursor: pointer"
                                class="form-check-input"
                                [(ngModel)]="staff.selected"
                                (change)="checkIndividualSelection()"
                              />
                            </div>
                          </td>
                          <!-- <td style="padding: 12px 15px;">{{ i+1 }}</td> -->
                          <td style="padding: 12px 15px">{{ staff.name }}</td>
                          <td style="padding: 12px 15px">
                            {{ staff.email ? staff.email : "N/A" }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </ng-container>

                  <ng-template #noDataFoundPlaceholderInShiftTiming>
                    <div class="errorboxmain">
                      <div class="errorboxinner text-center">
                        <div class="errorboxplaceholder mb-2">
                          <img
                            src="assets/images/addnewproduct.svg"
                            style="width: 80px"
                          />
                        </div>

                        <h4>No Data Found</h4>

                        <p>
                          We're unable to locate a record associated with the
                          information you entered.
                        </p>
                      </div>
                    </div>
                  </ng-template>
                </div>
                <!-- *ngIf="staffs.length > 8" -->
                <div
                  class="pagination pl-3"
                  *ngIf="
                    total > itemPerPage - 1 ||
                    (pageNumber === lastPageNumber && lastPageNumber !== 1)
                  "
                >
                  <p class="mb-0" style="padding-left: 15px">
                    Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                    {{ total }} teams
                  </p>
                  <div class="row">
                    <div class="col-md-12">
                      <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-end">
                          <li
                            class="page-item"
                            [class.disabled]="pageNumber == 1"
                          >
                            <a
                              class="page-link"
                              href="javascript:void(0);"
                              aria-label="Previous"
                              (click)="changePage('prev')"
                            >
                              <span aria-hidden="true">&laquo;</span>
                            </a>
                          </li>
                          <li
                            class="page-item"
                            *ngFor="let page of getPages()"
                            [class.active]="pageNumber == page"
                          >
                            <a
                              class="page-link"
                              href="javascript:void(0);"
                              (click)="changePage(page)"
                              >{{ page }}</a
                            >
                          </li>
                          <li
                            class="page-item"
                            [class.disabled]="pageNumber == totalPages"
                          >
                            <a
                              class="page-link"
                              href="javascript:void(0);"
                              aria-label="Next"
                              (click)="changePage('next')"
                            >
                              <span aria-hidden="true">&raquo;</span>
                            </a>
                          </li>
                        </ul>
                      </nav>
                    </div>
                  </div>
                </div>
                <div id="back-and-submit">
                  <div
                    class="modal-footer d-flex align-items-center justify-content-end"
                  >
                    <button
                      type="button"
                      class="btn btn-outline-primary"
                      (click)="shiftTimingActiveTabMethod()"
                    >
                      Back
                    </button>
                  </div>
                  <div
                    class="modal-footer d-flex align-items-center justify-content-end"
                  >
                    <button
                      type="button"
                      class="btn btn-primary"
                      (click)="registerOrganizationShiftTimingMethodCall()"
                    >
                      Submit
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="attendance-setting"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            Manual Attendance
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <!--end modal-header-->
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12">
              <div class="attendance-settin-list">
                <div
                  class="categryCustomizecard attendance-active d-flex pointer"
                >
                  <div class="categryCustomizeinput">
                    <input type="radio" name="mannual" id="mannualType" />
                  </div>
                  <div class="categryCustomizeinfo">
                    <label for="mannualType" class="mb-0">
                      <h3>Manual Attendance</h3>
                      <p>
                        Large images are best for products where every detail is
                        a part of the product’s value.
                      </p>
                    </label>
                  </div>
                </div>

                <div class="categryCustomizecard d-flex pointer">
                  <div class="categryCustomizeinput">
                    <input type="radio" name="location" id="locationType" />
                  </div>
                  <div class="categryCustomizeinfo">
                    <label for="locationType" class="mb-0">
                      <h3>Staff Attendance With Location</h3>
                      <p>
                        Large images are best for products where every detail is
                        a part of the product’s value.
                      </p>
                    </label>
                  </div>
                </div>

                <div class="categryCustomizecard d-flex pointer">
                  <div class="categryCustomizeinput">
                    <input
                      type="radio"
                      name="selfieLocation"
                      id="selfieLocationType"
                    />
                  </div>
                  <div class="categryCustomizeinfo">
                    <label for="selfieLocationType" class="mb-0">
                      <h3>Staff Attendance With Selfie & Location</h3>
                      <p>
                        Large images are best for products where every detail is
                        a part of the product’s value.
                      </p>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--end row-->
        </div>
        <!--end modal-body-->
        <div
          class="modal-footer d-flex align-items-center justify-content-center"
        >
          <button type="button" class="btn btn-primary" style="width: 100%">
            Save & Contnue
          </button>
        </div>
        <!--end modal-footer-->
      </div>
      <!--end modal-content-->
    </div>
    <!--end modal-dialog-->
  </div>
  <!--end modal-->

  <!-- <div class="modal fade" id="addholiday" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">

            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Holiday(s) </h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        #closeShiftTimingModal></button>
                </div>
                <div class="modal-body">

                    <div class="row mb-3">

                        <div class="col-md-12 mb-3">
                            <div class="add-filtter d-flex align-items-center justify-content-end border-bottom pb-3">
                                <a style="font-size: 16px; color: #6666f3;">
                                    <i class="bi bi-plus"></i> Add Holiday
                                </a>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="">
                                <input placeholder="Enter Holiday Name" class="ant-input commonInput" type="text"
                                    value="New Year's Day">
                            </div>

                        </div>
                        <div class="col-md-5">
                            <div class="">
                                <input placeholder="Enter Holiday Name" class="ant-input commonInput" type="date"
                                    value="New Year's Day">
                            </div>

                        </div>
                        <div class="col-md-2">
                            <div class="text-right" style="text-align: right; float: right;">
                                <button type="button" id="removePriceRow" name="removePriceRow"
                                    class="btn btn-outline-danger d-flex delete-btns" style=" position: relative;">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-center" style="gap: 15px;">
                        <button type="button" data-bs-dismiss="modal" class="btn btn-primary btnmarkcancel"> Cancel
                        </button>
                        <button type="button" data-bs-dismiss="modal" class="btn btnmarkdelete"> Submit </button>
                    </div>
                </div>

            </div>
        </div>
    </div> -->

  <div
    class="modal fade"
    id="addholiday"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Holiday(s)</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            #customHolidayModal
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form #holidayForm="ngForm">
            <div
              *ngFor="let holiday of holidayList; let i = index"
              class="form-group row mb-3"
            >
              <div class="col-md-5">
                <input
                  type="text"
                  name="holidayName{{ i }}"
                  [(ngModel)]="holiday.name"
                  class="form-control"
                  placeholder="Enter Holiday Name"
                  required
                />
              </div>
              <div class="col-md-5">
                <nz-date-picker
                  class="nz-overlay-container"
                  name="holidayDate{{ i }}"
                  [(ngModel)]="holiday.date"
                  ngModel
                  required
                  nzPlaceHolder="Select Holiday Date"
                >
                </nz-date-picker>
              </div>
              <div class="col-md-2">
                <button
                  type="button"
                  class="btn btn-outline-danger"
                  (click)="removeHoliday(i)"
                  *ngIf="holidayList.length > 1"
                >
                  Remove
                </button>
              </div>
            </div>
            <div class="d-flex justify-content-between">
              <span class="add-more-holiday" (click)="addHoliday()">
                <i class="bi bi-plus"></i> Add More
              </span>
              <button
                type="submit"
                class="btn btn-success"
                (click)="registerCustomHolidays()"
                [disabled]="holidayForm.invalid"
                *ngIf="!isCustomHolidayLoader"
              >
                Submit
              </button>
              <div class="dot-opacity-loader" *ngIf="isCustomHolidayLoader">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="modal fade" id="addholiday" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add Holiday(s)</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        #closeShiftTimingModal></button>
            </div>
            <div class="modal-body">
              <form #holidayForm="ngForm">
                <div *ngFor="let holiday of holidayList; let i = index" class="form-group row mb-3">
                  <div class="col-md-5">
                    <input type="text" name="holidayName{{i}}" [(ngModel)]="holiday.name" class="form-control" placeholder="Enter Holiday Name" required>
                  </div>
                  <div class="col-md-5">
                    <input type="date" name="holidayDate{{i}}" [(ngModel)]="holiday.date" class="form-control" required>
                  </div>
                  <div class="col-md-2">
                    <button type="button" class="btn btn-outline-danger" (click)="removeHoliday(i)" *ngIf="holidayList.length > 1">
                      Remove
                    </button>
                  </div>
                </div>
                <div class="d-flex justify-content-between">
                    <span class="add-more-holiday" (click)="addHoliday()">
                        <i class="bi bi-plus"></i> Add More
                      </span>
                      
                      
                  <button type="submit" class="btn btn-success" (click)="create()" [disabled]="holidayForm.invalid">Submit</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
       -->

  <div
    class="modal fade"
    id="addweeklyholiday"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title">Weekly Holiday</h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            #closeWeeklyHolidayModal
          ></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12">
              <div
                class="week-checkbox"
                *ngFor="let day of weekDay; let i = index"
              >
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="day.selected"
                    [id]="'weekDay' + i"
                    (click)="toggleSelection(i)"
                  />
                  <label class="form-check-label" [for]="'weekDay' + i">{{
                    day.name
                  }}</label>
                </div>
                <div *ngIf="day.selected">
                  <div
                    class="btn-group"
                    role="group"
                    aria-label="Basic radio toggle button group"
                  >
                    <input
                      type="radio"
                      class="btn-check"
                      name="btnradio{{ i }}"
                      id="btnradio1-{{ i }}"
                      autocomplete="off"
                      (click)="toggleAlternate(i, false)"
                      [checked]="!day.isAlternate"
                    />
                    <label
                      class="btn btn-outline-primary"
                      for="btnradio1-{{ i }}"
                      >All</label
                    >

                    <input
                      type="radio"
                      class="btn-check"
                      name="btnradio{{ i }}"
                      id="btnradio2-{{ i }}"
                      autocomplete="off"
                      (click)="toggleAlternate(i, true)"
                      [checked]="day.isAlternate"
                    />
                    <label
                      class="btn btn-outline-primary"
                      for="btnradio2-{{ i }}"
                      >Alternate</label
                    >
                  </div>

                  <div
                    class="btn-group radio-btn"
                    role="group"
                    aria-label="Basic radio toggle button group"
                    *ngIf="day.isAlternate"
                  >
                    <input
                      type="radio"
                      class="btn-check"
                      name="btnradioAlt{{ i }}"
                      id="btnradio3-{{ i }}"
                      autocomplete="off"
                      (click)="day.weekOffType = 1"
                      [checked]="day.weekOffType === 1"
                    />
                    <label
                      class="btn btn-outline-primary"
                      for="btnradio3-{{ i }}"
                      >ODD</label
                    >

                    <input
                      type="radio"
                      class="btn-check"
                      name="btnradioAlt{{ i }}"
                      id="btnradio4-{{ i }}"
                      autocomplete="off"
                      (click)="day.weekOffType = 2"
                      [checked]="day.weekOffType === 2"
                    />
                    <label
                      class="btn btn-outline-primary"
                      for="btnradio4-{{ i }}"
                      >EVEN</label
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary btnmarkcancel"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btnmarkdelete"
            (click)="submitWeeklyHolidays()"
            *ngIf="!submitWeeklyHolidaysLoader"
          >
            Submit
          </button>
          <div class="dot-opacity-loader" *ngIf="submitWeeklyHolidaysLoader">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--  old weekly holiday modal code  -->
  <!-- <div
    class="modal fade"
    id="addweeklyholiday"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title">Weekly Holiday</h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            #closeWeeklyHolidayModal
          ></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12">
              <div
                class="week-checkbox"
                *ngFor="let day of weekDay; let i = index"
              >
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="day.selected"
                    [id]="'weekDay' + i"
                  />
                  <label class="form-check-label" [for]="'weekDay' + i">{{
                    day.name
                  }}</label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary btnmarkcancel"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btnmarkdelete"
            (click)="submitWeeklyHolidays()"
            *ngIf="!submitWeeklyHolidaysLoader"
          >
            Submit
          </button>
          <div class="dot-opacity-loader" *ngIf="submitWeeklyHolidaysLoader">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
    </div>
  </div> -->

  <!-- <div class="modal fade" id="addweeklyholiday" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">

            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Weekly Holiday</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        #closeShiftTimingModal></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div clss="col-md-12">
                            <div class="week-checkbox" *ngFor="let weekdays of weekDay">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" [(ngModel)]="weekdays.selected" id="{{weekdays.name}}">
                                    <label class="form-check-label" for="defaultCheck1">{{weekdays.name}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="d-flex align-items-center justify-content-center " style="gap: 15px;">
                        <button type="button" data-bs-dismiss="modal" class="btn btn-primary btnmarkcancel"> Cancel
                        </button>
                        <button type="button" data-bs-dismiss="modal" class="btn btnmarkdelete"> Submit </button>
                    </div>
                </div>

            </div>
        </div>
    </div> -->

  <div
    class="modal fade"
    id="automation-rules"
    data-bs-backdrop="static"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            Automation Rules
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            #attendanceRuleDefinitionModalClose
          ></button>
        </div>
        <!--end modal-header-->
        <div class="modal-body">
          <div class="row">
            <div class="col-md-8">
              <div
                class="d-flex align-items-center attendance-boxx"
                *ngFor="
                  let attendanceRuleResponse of attendanceRuleResponseList
                "
              >
                <div class="late-icon">
                  <i class="bi bi-person"></i>
                </div>
                <div class="late-rule">
                  <h5>{{ attendanceRuleResponse.name }}</h5>
                  <p class="mb-0">{{ attendanceRuleResponse.description }}</p>
                </div>
                <div
                  class="late-btn d-flex justify-content-end"
                  style="gap: 10px; padding-right: 20px"
                >
                  <a
                    href=""
                    data-bs-toggle="modal"
                    data-bs-target="#rules-value"
                    class="create-rule"
                    style="font-size: 12px"
                    (click)="
                      openAttendanceRuleResponseModal(attendanceRuleResponse)
                    "
                    >Create rule from here<i class="bi bi-chevron-right"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="rule-section">
                <div class="rule-main-div">
                  <div class="tracking-body">
                    <ul class="tracking-steps">
                      <li class="tracking-item">
                        <div class="d-flex new-stap">
                          <div class="tracing-icon">
                            <i class="bi bi-check2"></i>
                          </div>
                          <div class="tracking-data">
                            <p>Create your rule</p>
                            <div>
                              <span> Automate Late fine for employee </span>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li class="tracking-item">
                        <div class="d-flex align-items-center new-stap">
                          <div class="tracing-icon">
                            <i class="bi bi-check2"></i>
                          </div>
                          <div class="tracking-data">
                            <p>Set a rule value</p>
                            <div>
                              <span>Set a value for your rule type.</span>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li class="tracking-item">
                        <div class="d-flex new-stap">
                          <div class="tracing-icon">
                            <i class="bi bi-check2"></i>
                          </div>
                          <div class="tracking-data">
                            <p>Assign Staff</p>
                            <div>
                              <span> Automate Late fine for employee </span>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="rules-value"
    data-bs-backdrop="static"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            {{ attendanceRuleResponse.name }}
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            #addAttendanceRuleDefinitionModalClose
            (click)="clearAttendanceRuleDefinitionModal()"
          ></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-8">
              <div class="">
                <ul id="myTab" role="tablist" class="nav nav-tabs">
                  <li role="presentation" class="nav-item">
                    <button
                      id="home-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#home"
                      type="button"
                      role="tab"
                      aria-controls="home"
                      aria-selected="true"
                      class="nav-link active"
                      #ruleActiveTab
                    >
                      Rules
                    </button>
                  </li>
                  <li role="presentation" class="nav-item">
                    <button
                      id="profile-tab"
                      data-bs-toggle="tab"
                      [class.disabled]="
                        (!customCheckbox &&
                          !halfDayCheckbox &&
                          !fullDayCheckbox) ||
                        (selectedDeductionType?.type == '' &&
                          selectedOvertimeType?.type == '') ||
                        attendanceRuleForm.invalid ||
                        compareTimesValidation()
                      "
                      [attr.aria-selected]="!attendanceRuleForm.invalid"
                      [attr.tabindex]="attendanceRuleForm.invalid ? -1 : null"
                      (click)="
                        !attendanceRuleForm.invalid &&
                          staffActiveTabInAutomationRuleMethod()
                      "
                      data-bs-target="#profile"
                      type="button"
                      role="tab"
                      aria-controls="profile"
                      aria-selected="false"
                      class="nav-link"
                      #staffActiveTabInAutomationRule
                    >
                      Staff selection
                    </button>
                  </li>
                </ul>

                <div class="tab-content" id="myTabContent">
                  <div
                    class="tab-pane fade show active"
                    id="home"
                    role="tabpanel"
                  >
                    <form
                      #attendanceRuleForm="ngForm"
                      ngNativeValidate
                      (ngSubmit)="submitAttendanceRuleForm()"
                    >
                      <div class="rules-main">
                        <div class="form-check pb-3">
                          <input
                            class="form-check-input"
                            style="cursor: pointer"
                            type="checkbox"
                            value=""
                            id="flexCheckChecked"
                            [checked]="customCheckbox"
                            (click)="tickCustomCheckbox()"
                          />
                          <label
                            class="form-check-label"
                            for="flexCheckChecked"
                          >
                            {{ attendanceRuleResponse.customRuleHeader }}
                          </label>
                        </div>

                        <div class="dudtion-type" *ngIf="customCheckbox">
                          <div class="col-md-12">
                            <div class="row">
                              <div class="col-md-4">
                                <div class="if-late">
                                  <label for="hoursInput" class="pb-2">{{
                                    attendanceRuleResponse.ruleSubHeader
                                  }}</label>

                                  <div
                                    class="d-flex justify-content-center align-items-center"
                                    style="gap: 5px"
                                  >
                                    <nz-time-picker
                                      [(ngModel)]="customLateDurationValue"
                                      [ngModelOptions]="{ standalone: true }"
                                      nzFormat="HH:mm"
                                      (ngModelChange)="getlateDuration($event)"
                                      name="lateDuration"
                                      required
                                      #lateDuration="ngModel"
                                    >
                                    </nz-time-picker>
                                    <span><b>hrs.</b></span>
                                  </div>
                                  <div
                                    *ngIf="
                                      lateDuration?.touched &&
                                      lateDuration.errors?.required
                                    "
                                    class="text-danger"
                                    style="font-size: 13px"
                                  >
                                    Duration is required.
                                  </div>
                                  <div
                                    *ngIf="invalidCustomlateDuration1"
                                    class="text-danger"
                                    style="font-size: 13px"
                                  >
                                    Custom Duration should be less than Half Day
                                    Duration.
                                  </div>
                                  <div
                                    *ngIf="invalidCustomlateDuration2"
                                    class="text-danger"
                                    style="font-size: 13px"
                                  >
                                    Custom Duration should be less than full Day
                                    Duration.
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div
                                  class="overtime-type"
                                  *ngIf="
                                    attendanceRuleResponse.id == OVERTIME_RULE;
                                    else deductionType
                                  "
                                >
                                  <label for="exampleInputEmail1" class="pb-2"
                                    >Overtime Type</label
                                  >
                                  <div class="dropdown">
                                    <button
                                      class="btn btn-secondary dropdown-toggle new-dropdown"
                                      type="button"
                                      id="dropdownMenuButton1"
                                      data-bs-toggle="dropdown"
                                      aria-expanded="false"
                                      style="
                                        text-align: left;
                                        background-color: white;
                                        color: black;
                                        border-color: #ced4da;
                                        width: 100%;
                                      "
                                    >
                                      {{
                                        selectedOvertimeType?.type ||
                                          "Select overtime type"
                                      }}
                                      <i class="bi bi-chevron-down"></i>
                                    </button>
                                    <ul
                                      class="dropdown-menu"
                                      aria-labelledby="dropdownMenuButton1"
                                      style="width: 100%"
                                    >
                                      <li
                                        *ngFor="
                                          let overtimeType of overtimeTypeList
                                        "
                                      >
                                        <a
                                          class="dropdown-item"
                                          (click)="
                                            selectOvertimeType(overtimeType)
                                          "
                                          >{{ overtimeType.type }}</a
                                        >
                                      </li>
                                    </ul>
                                  </div>
                                </div>

                                <ng-template #deductionType>
                                  <div class="dudct-type">
                                    <label for="exampleInputEmail1" class="pb-2"
                                      >Deduction Type</label
                                    >
                                    <div class="dropdown">
                                      <button
                                        class="btn btn-secondary dropdown-toggle new-dropdown"
                                        type="button"
                                        id="dropdownMenuButton1"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="
                                          text-align: left;
                                          background-color: white;
                                          color: black;
                                          border-color: #ced4da;
                                          width: 100%;
                                        "
                                      >
                                        {{
                                          selectedDeductionType?.type ||
                                            "Select deduction type"
                                        }}
                                        <i class="bi bi-chevron-down"></i>
                                      </button>
                                      <ul
                                        class="dropdown-menu"
                                        aria-labelledby="dropdownMenuButton1"
                                        style="width: 100%"
                                      >
                                        <li
                                          *ngFor="
                                            let deductionType of deductionTypeList
                                          "
                                        >
                                          <a
                                            class="dropdown-item"
                                            (click)="
                                              selectDeductionType(deductionType)
                                            "
                                          >
                                            {{ deductionType.type }}
                                          </a>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </ng-template>
                              </div>
                              <div class="col-md-4">
                                <div
                                  *ngIf="
                                    selectedDeductionType?.type ==
                                      'FIXED AMOUNT' ||
                                    selectedOvertimeType?.type == 'FIXED AMOUNT'
                                  "
                                >
                                  <label for="exampleInputEmail1" class="pb-2"
                                    >Amount in rupees:</label
                                  >
                                  <div
                                    class="justify-content-center"
                                    style="gap: 20px"
                                  >
                                    <input
                                      type="number"
                                      class="form-control"
                                      aria-describedby="emailHelp"
                                      placeholder="Enter the amount here"
                                      [(ngModel)]="
                                        attendanceRuleDefinitionRequest!
                                          .customSalaryDeduction!.amountInRupees
                                      "
                                      [ngModelOptions]="{ standalone: true }"
                                      name="amount"
                                      #amount="ngModel"
                                      required
                                    />
                                    <div
                                      *ngIf="
                                        amount?.touched &&
                                        amount.errors?.required
                                      "
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Amount is required.
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div
                            class="mt-3"
                            *ngIf="attendanceRuleResponse.id != OVERTIME_RULE"
                          >
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                style="cursor: pointer"
                                type="checkbox"
                                value=""
                                id="Occurrences"
                                [checked]="customOccurrenceCheckbox"
                                (click)="tickCustomOccurrenceCheckbox()"
                              />
                              <label
                                class="form-check-label"
                                #Occurrences
                                for="Occurrences"
                              >
                                Set Occurrences
                              </label>
                            </div>

                            <div
                              class="d-flex align-items-center mt-2"
                              style="gap: 10px"
                              *ngIf="customOccurrenceCheckbox"
                            >
                              <div class="col-md-12">
                                <div class="row">
                                  <div class="col-md-2">
                                    <div class="dropdown">
                                      <button
                                        class="btn btn-secondary dropdown-toggle new-dropdown"
                                        type="button"
                                        id="dropdownMenuButton1"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="
                                          text-align: right;
                                          background-color: white;
                                          color: black;
                                          border-color: #ced4da;
                                          width: 100%;
                                        "
                                      >
                                        {{
                                          selectedOccurenceDropdownForCustomSalrayDeduction
                                            ? selectedOccurenceDropdownForCustomSalrayDeduction
                                            : "Selectoccurrence type"
                                        }}
                                        <i class="bi bi-chevron-down"></i>
                                      </button>
                                      <ul
                                        class="dropdown-menu"
                                        aria-labelledby="dropdownMenuButton1"
                                        style="width: 100px"
                                      >
                                        <li
                                          *ngFor="
                                            let countDurationDropdown of countDurationDropdownList
                                          "
                                        >
                                          <a
                                            class="dropdown-item"
                                            (click)="
                                              selectOccurenceDropdownForCustomSalrayDeduction(
                                                countDurationDropdown
                                              )
                                            "
                                            >{{ countDurationDropdown }}</a
                                          >
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                  <div
                                    class="col-md-4"
                                    *ngIf="
                                      selectedOccurenceDropdownForCustomSalrayDeduction ===
                                      'Count'
                                    "
                                  >
                                    <div
                                      class="if-late d-flex align-items-center"
                                      style="width: 150px; gap: 10px"
                                    >
                                      <input
                                        type="text"
                                        class="form-control"
                                        aria-describedby="emailHelp"
                                        placeholder="Count"
                                        [(ngModel)]="
                                          attendanceRuleDefinitionRequest!
                                            .customSalaryDeduction!
                                            .occurrenceCount
                                        "
                                        [ngModelOptions]="{ standalone: true }"
                                        name="lateOccurrenceCount"
                                        #lateOccurrenceCount="ngModel"
                                        required
                                      />
                                      <span><b>times</b></span>
                                    </div>
                                    <div
                                      *ngIf="
                                        lateOccurrenceCount?.touched &&
                                        lateOccurrenceCount.errors?.required
                                      "
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Count is required.
                                    </div>
                                  </div>

                                  <div
                                    class="col-md-4"
                                    *ngIf="
                                      selectedOccurenceDropdownForCustomSalrayDeduction ===
                                      'Duration'
                                    "
                                  >
                                    <div
                                      id="occurrence-type-duration"
                                      class="dudct-type d-flex align-items-center"
                                      style="width: 150px; gap: 10px"
                                    >
                                      <nz-time-picker
                                        [(ngModel)]="
                                          customLateOccurrenceDurationValue
                                        "
                                        [ngModelOptions]="{ standalone: true }"
                                        nzFormat="HH:mm"
                                        (ngModelChange)="
                                          getLateOccurrenceDuration($event)
                                        "
                                        name="lateOccurrenceDuration"
                                        #lateOccurrenceDuration="ngModel"
                                        required
                                      >
                                      </nz-time-picker>
                                      <span><b>hrs.</b></span>
                                    </div>
                                    <div
                                      *ngIf="
                                        lateOccurrenceDuration?.touched &&
                                        lateOccurrenceDuration.errors?.required
                                      "
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Duration is required.
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="mt-2">
                          <div class="form-check pb-3">
                            <input
                              class="form-check-input"
                              style="cursor: pointer"
                              type="checkbox"
                              value=""
                              id="staff"
                              [checked]="halfDayCheckbox"
                              (click)="tickHalfDayCheckbox()"
                            />
                            <label class="form-check-label" for="staff">
                              {{ attendanceRuleResponse.halfDayRuleHeader }}
                            </label>
                          </div>

                          <!-- half day salary deduction -->
                          <div class="dudtion-type" *ngIf="halfDayCheckbox">
                            <div class="col-md-12">
                              <div class="row">
                                <div class="col-md-4">
                                  <div class="if-late">
                                    <label
                                      for="exampleInputEmail1"
                                      class="pb-2"
                                      >{{
                                        attendanceRuleResponse.ruleSubHeader
                                      }}</label
                                    >
                                    <div
                                      class="d-flex justify-content-center align-items-center"
                                      style="gap: 5px"
                                    >
                                      <nz-time-picker
                                        [(ngModel)]="halfDayLateDurationValue"
                                        [ngModelOptions]="{ standalone: true }"
                                        nzFormat="HH:mm"
                                        (ngModelChange)="
                                          getHalfDaylateDuration($event)
                                        "
                                        name="halfDayLateDuration"
                                        #halfDayLateDuration="ngModel"
                                        required
                                      >
                                      </nz-time-picker>
                                      <span><b>hrs.</b></span>
                                    </div>
                                    <div
                                      *ngIf="invalidHalfDaylateDuration1"
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Half Day Duration should be greater than
                                      Custom Day Duration.
                                    </div>
                                    <div
                                      *ngIf="invalidHalfDaylateDuration2"
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Half Day Duration should be less than full
                                      Day Duration.
                                    </div>
                                    <div
                                      *ngIf="
                                        halfDayLateDuration?.touched &&
                                        halfDayLateDuration.errors?.required
                                      "
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Duration is required.
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div
                              class="mt-3"
                              *ngIf="attendanceRuleResponse.id != OVERTIME_RULE"
                            >
                              <div class="form-check">
                                <input
                                  class="form-check-input"
                                  style="cursor: pointer"
                                  type="checkbox"
                                  value=""
                                  id="Occurrences2"
                                  [checked]="halfDayOccurrenceCheckbox"
                                  (click)="tickHalfDayOccurrenceCheckbox()"
                                />
                                <label
                                  class="form-check-label"
                                  for="Occurrences2"
                                >
                                  Set Occurrences
                                </label>
                              </div>
                              <div
                                class="d-flex align-items-center mt-2"
                                style="gap: 10px"
                                *ngIf="halfDayOccurrenceCheckbox"
                              >
                                <div class="col-md-12">
                                  <div class="row">
                                    <div class="col-md-2">
                                      <div class="dropdown">
                                        <button
                                          class="btn btn-secondary dropdown-toggle new-dropdown"
                                          type="button"
                                          id="dropdownMenuButton1"
                                          data-bs-toggle="dropdown"
                                          aria-expanded="false"
                                          style="
                                            text-align: right;
                                            background-color: white;
                                            color: black;
                                            border-color: #ced4da;
                                            width: 100%;
                                          "
                                        >
                                          {{
                                            selectedOccurenceDropdownForHalfDaySalrayDeduction
                                              ? selectedOccurenceDropdownForHalfDaySalrayDeduction
                                              : "Select occurrence type"
                                          }}
                                          <i class="bi bi-chevron-down"></i>
                                        </button>
                                        <ul
                                          class="dropdown-menu"
                                          aria-labelledby="dropdownMenuButton1"
                                          style="width: 100%"
                                        >
                                          <li
                                            *ngFor="
                                              let countDurationDropdown of countDurationDropdownList
                                            "
                                          >
                                            <a
                                              class="dropdown-item"
                                              (click)="
                                                selectOccurenceDropdownForHalfDaySalrayDeduction(
                                                  countDurationDropdown
                                                )
                                              "
                                              >{{ countDurationDropdown }}</a
                                            >
                                          </li>
                                        </ul>
                                      </div>
                                    </div>

                                    <div
                                      class="col-md-4"
                                      *ngIf="
                                        selectedOccurenceDropdownForHalfDaySalrayDeduction ===
                                        'Count'
                                      "
                                    >
                                      <div
                                        class="if-late d-flex justify-content-center align-items-center"
                                        style="width: 150px; gap: 10px"
                                      >
                                        <input
                                          type="text"
                                          class="form-control"
                                          aria-describedby="emailHelp"
                                          placeholder="Count"
                                          [(ngModel)]="
                                            attendanceRuleDefinitionRequest
                                              .halfDaySalaryDeduction
                                              .occurrenceCount
                                          "
                                          [ngModelOptions]="{
                                            standalone: true
                                          }"
                                          name="halfDayOccurrenceCount"
                                          #halfDayOccurrenceCount="ngModel"
                                          required
                                        />
                                        <span><b>times</b></span>
                                      </div>
                                      <div
                                        *ngIf="
                                          halfDayOccurrenceCount?.touched &&
                                          halfDayOccurrenceCount.errors
                                            ?.required
                                        "
                                        class="text-danger"
                                        style="font-size: 13px"
                                      >
                                        Count is required.
                                      </div>
                                    </div>
                                    <div
                                      class="col-md-4"
                                      *ngIf="
                                        selectedOccurenceDropdownForHalfDaySalrayDeduction ===
                                        'Duration'
                                      "
                                    >
                                      <div
                                        class="if-late d-flex justify-content-center align-items-center"
                                        style="width: 150px; gap: 10px"
                                      >
                                        <nz-time-picker
                                          [(ngModel)]="
                                            halfDayLateOccurrenceDurationValue
                                          "
                                          [ngModelOptions]="{
                                            standalone: true
                                          }"
                                          nzFormat="HH:mm"
                                          (ngModelChange)="
                                            getHalfDayOccurrenceDuration($event)
                                          "
                                          name="halfDayOccurrenceDuration"
                                          #halfDayOccurrenceDuration="ngModel"
                                          required
                                        >
                                        </nz-time-picker>
                                        <span><b>hrs.</b></span>
                                      </div>
                                      <div
                                        *ngIf="
                                          halfDayOccurrenceDuration?.touched &&
                                          halfDayOccurrenceDuration.errors
                                            ?.required
                                        "
                                        class="text-danger"
                                        style="font-size: 13px"
                                      >
                                        Duration is required.
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- full day salary deduction -->
                          <div class="form-check pb-3">
                            <input
                              class="form-check-input"
                              style="cursor: pointer"
                              type="checkbox"
                              value=""
                              id="selery"
                              [checked]="fullDayCheckbox"
                              (click)="tickFullDayCheckbox()"
                            />
                            <label class="form-check-label" for="selery">
                              {{ attendanceRuleResponse.fullDayRuleHeader }}
                            </label>
                          </div>

                          <div class="dudtion-type" *ngIf="fullDayCheckbox">
                            <div class="col-md-12">
                              <div class="row">
                                <div class="col-md-4">
                                  <div class="if-late">
                                    <label
                                      for="exampleInputEmail1"
                                      class="pb-2"
                                      >{{
                                        attendanceRuleResponse.ruleSubHeader
                                      }}</label
                                    >

                                    <div
                                      class="d-flex justify-content-center align-items-center"
                                      style="gap: 5px"
                                    >
                                      <nz-time-picker
                                        [(ngModel)]="fullDayLateDurationValue"
                                        [ngModelOptions]="{ standalone: true }"
                                        nzFormat="HH:mm"
                                        (ngModelChange)="
                                          getFullDaylateDuration($event)
                                        "
                                        name="fullDayLateDuration"
                                        #fullDayLateDuration="ngModel"
                                        required
                                      >
                                      </nz-time-picker>
                                      <span><b>hrs.</b></span>
                                    </div>
                                    <div
                                      *ngIf="invalidFullDaylateDuration1"
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Full Day Duration should be greater than
                                      Custom Day Duration.
                                    </div>
                                    <div
                                      *ngIf="invalidFullDaylateDuration2"
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Full Day Duration should be greater than
                                      Half Day Duration.
                                    </div>
                                    <div
                                      *ngIf="
                                        fullDayLateDuration?.touched &&
                                        fullDayLateDuration.errors?.required
                                      "
                                      class="text-danger"
                                      style="font-size: 13px"
                                    >
                                      Duration is required.
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div
                              class="mt-3"
                              *ngIf="attendanceRuleResponse.id != OVERTIME_RULE"
                            >
                              <div class="form-check">
                                <input
                                  class="form-check-input"
                                  style="cursor: pointer"
                                  type="checkbox"
                                  value=""
                                  id="Occurrences3"
                                  [checked]="fullDayOccurrenceCheckbox"
                                  (click)="tickFullDayOccurrenceCheckbox()"
                                />
                                <label
                                  class="form-check-label"
                                  for="Occurrences3"
                                >
                                  Set Occurrences
                                </label>
                              </div>
                              <div
                                class="d-flex align-items-center mt-2"
                                style="gap: 10px"
                                *ngIf="fullDayOccurrenceCheckbox"
                              >
                                <div class="col-md-12">
                                  <div class="row">
                                    <div class="col-md-2">
                                      <div class="dropdown">
                                        <button
                                          class="btn btn-secondary dropdown-toggle new-dropdown"
                                          type="button"
                                          id="dropdownMenuButton1"
                                          data-bs-toggle="dropdown"
                                          aria-expanded="false"
                                          style="
                                            text-align: right;
                                            background-color: white;
                                            color: black;
                                            border-color: #ced4da;
                                            width: 100%;
                                          "
                                        >
                                          {{
                                            selectedOccurenceDropdownForFullDaySalrayDeduction
                                              ? selectedOccurenceDropdownForFullDaySalrayDeduction
                                              : "Select occurrence type"
                                          }}
                                          <i class="bi bi-chevron-down"></i>
                                        </button>
                                        <ul
                                          class="dropdown-menu"
                                          aria-labelledby="dropdownMenuButton1"
                                          style="width: 100%"
                                        >
                                          <li
                                            *ngFor="
                                              let countDurationDropdown of countDurationDropdownList
                                            "
                                          >
                                            <a
                                              class="dropdown-item"
                                              (click)="
                                                selectOccurenceDropdownForFullDaySalrayDeduction(
                                                  countDurationDropdown
                                                )
                                              "
                                              >{{ countDurationDropdown }}</a
                                            >
                                          </li>
                                        </ul>
                                      </div>
                                    </div>
                                    <div
                                      class="col-md-4"
                                      *ngIf="
                                        selectedOccurenceDropdownForFullDaySalrayDeduction ===
                                        'Count'
                                      "
                                    >
                                      <div
                                        class="if-late d-flex justify-content-center align-items-center"
                                        style="width: 150px; gap: 10px"
                                      >
                                        <input
                                          type="text"
                                          class="form-control"
                                          aria-describedby="emailHelp"
                                          placeholder="Count"
                                          [(ngModel)]="
                                            attendanceRuleDefinitionRequest!
                                              .fullDaySalaryDeduction!
                                              .occurrenceCount
                                          "
                                          [ngModelOptions]="{
                                            standalone: true
                                          }"
                                          name="fullDayOccurrenceCount"
                                          #fullDayOccurrenceCount="ngModel"
                                          required
                                        />
                                        <span><b>times</b></span>
                                      </div>
                                      <div
                                        *ngIf="
                                          fullDayOccurrenceCount?.touched &&
                                          fullDayOccurrenceCount.errors
                                            ?.required
                                        "
                                        class="text-danger"
                                        style="font-size: 13px"
                                      >
                                        Count is required.
                                      </div>
                                    </div>
                                    <div
                                      class="col-md-4"
                                      *ngIf="
                                        selectedOccurenceDropdownForFullDaySalrayDeduction ===
                                        'Duration'
                                      "
                                    >
                                      <div
                                        class="if-late d-flex justify-content-center align-items-center"
                                        style="width: 150px; gap: 10px"
                                      >
                                        <nz-time-picker
                                          [(ngModel)]="
                                            fullDayLateOccurrenceDurationValue
                                          "
                                          [ngModelOptions]="{
                                            standalone: true
                                          }"
                                          nzFormat="HH:mm"
                                          (ngModelChange)="
                                            getFullDayOccurrenceDuration($event)
                                          "
                                          name="fullDayOccurrenceDuration"
                                          #fullDayOccurrenceDuration="ngModel"
                                          required
                                        >
                                        </nz-time-picker>
                                        <span><b>hrs.</b></span>
                                      </div>
                                      <div
                                        *ngIf="
                                          fullDayOccurrenceDuration?.touched &&
                                          fullDayOccurrenceDuration.errors
                                            ?.required
                                        "
                                        class="text-danger"
                                        style="font-size: 13px"
                                      >
                                        Duration is required.
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="submit"
                          class="btn btn-primary"
                          [disabled]="
                            (!customCheckbox &&
                              !halfDayCheckbox &&
                              !fullDayCheckbox) ||
                            (selectedDeductionType?.type == '' &&
                              selectedOvertimeType?.type == '') ||
                            attendanceRuleForm.invalid ||
                            compareTimesValidation()
                          "
                          (click)="staffActiveTabInAutomationRuleMethod()"
                        >
                          Next
                        </button>
                      </div>
                    </form>
                  </div>

                  <div class="tab-pane fade" id="profile" role="tabpanel">
                    <div class="staf-list-box mt-3">
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <div>
                            <h5>
                              Userlist
                              <span
                                style="
                                  color: #4761f6;
                                  background-color: #d1d6f2;
                                  padding: 5px;
                                  border-radius: 5px;
                                "
                                ><b>{{ total }}</b></span
                              >
                            </h5>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <form
                            novalidate=""
                            role="search"
                            (submit)="searchUsers()"
                            class="searching ng-untouched ng-pristine ng-valid"
                          >
                            <div class="form-group" style="position: relative">
                              <input
                                type="text"
                                id="searchText"
                                placeholder="Search by name and role"
                                class="form-control me-2 ng-untouched ng-pristine ng-valid"
                                (keyup)="searchUsers()"
                                [(ngModel)]="searchText"
                                [ngModelOptions]="{ standalone: true }"
                                style="padding: 10px 50px 10px 30px"
                              />
                              <button
                                *ngIf="searchText.length !== 0"
                                type="button"
                                class="btn close-btn"
                                (click)="clearSearchText()"
                              >
                                <i class="bi bi-x mt-auto mb-auto pl-3"></i>
                              </button>
                              <i
                                class="bi bi-search search-icon"
                                style="
                                  position: absolute;
                                  top: 50%;
                                  transform: translateY(-50%);
                                  left: 10px;
                                "
                              ></i>
                            </div>
                          </form>
                        </div>
                      </div>

                      <div
                        style="
                          display: flex;
                          justify-content: space-between;
                          align-items: center;
                        "
                      >
                        <div *ngIf="selectedStaffsUuids.length > 0">
                          <ng-container
                            *ngIf="
                              selectedStaffsUuids.length === total;
                              else elseCondition2
                            "
                          >
                            <span
                              (click)="unselectAllUsers()"
                              style="
                                cursor: pointer;
                                color: #eb5050;
                                background-color: #fcf1f1;
                                padding: 8px;
                                border-radius: 5px;
                              "
                              >Clear all users <i class="bi bi-x"></i
                            ></span>
                          </ng-container>
                          <ng-template #elseCondition2>
                            <span
                              (click)="selectAllUsers(true)"
                              style="
                                cursor: pointer;
                                color: #4761f6;
                                background-color: #eef1ff;
                                padding: 8px;
                                border-radius: 5px;
                              "
                              >Select all {{ total }} users</span
                            >
                          </ng-template>
                        </div>

                        <div *ngIf="selectedStaffsUuids.length !== 0">
                          <ng-container
                            *ngIf="
                              selectedStaffsUuids.length === total;
                              else elseCondition1
                            "
                          >
                            <span
                              >All <b>{{ total }}</b> users selected</span
                            >
                          </ng-container>
                          <ng-template #elseCondition1>
                            <span
                              ><b>{{ selectedStaffsUuids.length }}</b> selected
                              of <b>{{ total }}</b></span
                            >
                            <span
                              style="cursor: pointer"
                              (click)="unselectAllUsers()"
                              ><i class="bi bi-x"></i
                            ></span>
                          </ng-template>
                        </div>
                      </div>

                      <ng-container
                        *ngIf="
                          total > 0;
                          else noDataFoundPlaceholderInAutomationRule
                        "
                      >
                        <table class="table">
                          <thead class="thead-light">
                            <tr>
                              <th style="width: 0%">
                                <input
                                  type="checkbox"
                                  style="cursor: pointer"
                                  class="form-check-input"
                                  [(ngModel)]="isAllSelected"
                                  (change)="selectAll(isAllSelected)"
                                />
                              </th>
                              <!-- <th style="width:25%; padding: 12px 15px;">S. No.</th> -->
                              <th style="width: 25%; padding: 12px 15px">
                                Name
                              </th>
                              <th style="width: 25%; padding: 12px 15px">
                                Email
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              *ngFor="
                                let staff of staffs
                                  | paginate
                                    : {
                                        itemsPerPage: itemPerPage,
                                        currentPage: pageNumber,
                                        totalItems: total
                                      }
                              "
                              style="border-bottom: 1px solid #dddddd"
                            >
                              <td>
                                <div class="form-check">
                                  <input
                                    type="checkbox"
                                    style="cursor: pointer"
                                    class="form-check-input"
                                    [(ngModel)]="staff.selected"
                                    (change)="checkIndividualSelection()"
                                  />
                                </div>
                              </td>
                              <!-- <td style="padding: 12px 15px;">{{ i+1 }}</td> -->
                              <td style="padding: 12px 15px">
                                {{ staff.name }}
                              </td>
                              <td style="padding: 12px 15px">
                                {{ staff.email ? staff.email : "N/A" }}
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </ng-container>

                      <ng-template #noDataFoundPlaceholderInAutomationRule>
                        <div class="errorboxmain">
                          <div class="errorboxinner text-center">
                            <div class="errorboxplaceholder mb-2">
                              <img
                                src="assets/images/addnewproduct.svg"
                                style="width: 80px"
                              />
                            </div>

                            <h4>No Data Found</h4>

                            <p>
                              We're unable to locate a record associated with
                              the information you entered.
                            </p>
                          </div>
                        </div>
                      </ng-template>
                    </div>

                    <div
                      class="pagination pl-3"
                      *ngIf="
                        total > itemPerPage - 1 ||
                        (pageNumber === lastPageNumber && lastPageNumber !== 1)
                      "
                    >
                      <p class="mb-0" style="padding-left: 15px">
                        Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                        {{ total }} teams
                      </p>
                      <div class="row">
                        <div class="col-md-12">
                          <nav aria-label="Page navigation example">
                            <ul class="pagination justify-content-end">
                              <li
                                class="page-item"
                                [class.disabled]="pageNumber == 1"
                              >
                                <a
                                  class="page-link"
                                  href="javascript:void(0);"
                                  aria-label="Previous"
                                  (click)="changePage('prev')"
                                >
                                  <span aria-hidden="true">&laquo;</span>
                                </a>
                              </li>
                              <li
                                class="page-item"
                                *ngFor="let page of getPages()"
                                [class.active]="pageNumber == page"
                              >
                                <a
                                  class="page-link"
                                  href="javascript:void(0);"
                                  (click)="changePage(page)"
                                  >{{ page }}</a
                                >
                              </li>
                              <li
                                class="page-item"
                                [class.disabled]="pageNumber == totalPages"
                              >
                                <a
                                  class="page-link"
                                  href="javascript:void(0);"
                                  aria-label="Next"
                                  (click)="changePage('next')"
                                >
                                  <span aria-hidden="true">&raquo;</span>
                                </a>
                              </li>
                            </ul>
                          </nav>
                        </div>
                      </div>
                    </div>
                    <div id="back-and-submit">
                      <div
                        class="modal-footer d-flex align-items-center justify-content-end"
                      >
                        <button
                          type="button"
                          class="btn btn-outline-primary"
                          (click)="ruleActiveTabMethod()"
                        >
                          Back
                        </button>
                      </div>
                      <div
                        class="modal-footer d-flex align-items-center justify-content-end"
                      >
                        <button
                          type="button"
                          class="btn btn-primary"
                          (click)="registerAttendanceRuleDefinitionMethodCall()"
                        >
                          Submit
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="rule-section">
                <div class="tracking-body">
                  <ul class="tracking-steps">
                    <li class="tracking-item tracking-itemActive newline">
                      <div class="d-flex new-stap">
                        <div class="tracing-icon active">
                          <i class="bi bi-check2"></i>
                        </div>
                        <div class="tracking-data">
                          <p>Create your first rule</p>
                          <div>
                            <span> Automate Late fine for employee </span>
                          </div>
                        </div>
                      </div>
                    </li>
                    <!-- <li class="tracking-item" [ngClass]="tracking-itemActive newline: activeModel"> -->
                    <li
                      class="tracking-item"
                      [ngClass]="{ 'tracking-itemActive newline': activeModel }"
                    >
                      <div class="d-flex align-items-center new-stap">
                        <div
                          class="tracing-icon"
                          [ngClass]="{ active: activeModel }"
                        >
                          <span *ngIf="activeModel">
                            <i class="bi bi-check2"></i>
                          </span>
                          <span *ngIf="!activeModel">2</span>
                        </div>
                        <!-- <div class="tracing-icon">2 -->
                        <!-- <i class="bi bi-check2"></i> -->
                        <!-- </div> -->
                        <div class="tracking-data">
                          <p>Set a rule value</p>
                          <div>
                            <span>Set a value for your rule type.</span>
                          </div>
                        </div>
                      </div>
                    </li>
                    <li class="tracking-item">
                      <div class="d-flex new-stap">
                        <div
                          class="tracing-icon"
                          [ngClass]="{ active: activeModel2 }"
                        >
                          <span *ngIf="activeModel2">
                            <i class="bi bi-check2"></i>
                          </span>
                          <span *ngIf="!activeModel2">3</span>
                        </div>
                        <!-- <div class="tracing-icon">3 -->
                        <!-- <i class="bi bi-check2"></i> -->
                        <!-- </div> -->
                        <div class="tracking-data">
                          <p>Assign Staff</p>
                          <div>
                            <span> Automate Late fine for employee </span>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="modal-footer d-flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary"
                    (click)="registerAttendanceRuleDefinitionMethodCall()">Submit</button>
            </div> -->
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="create-rule"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-md" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            Late Entry Rules
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <!--end modal-header-->
        <div class="modal-body">
          <!-- <div class="row">
                  <div class="col-md-8">
                   <div class="">

                    <ul id="myTab" role="tablist" class="nav nav-tabs">
                        <li role="presentation" class="nav-item">
                            <button id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true" class="nav-link active">Rules</button>
                        </li>
                            <li role="presentation" class="nav-item">
                                <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false" class="nav-link">Staff selection</button>
                            </li>
                    </ul>

                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="home" role="tabpanel">
                            <div class="rules-main">
                                <div class="form-check pb-3">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked="">
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Deduct selery if staff is late by more then
                                    </label>
                                </div>

                                <div class="dudtion-type">
                                    <div class="d-flex align-items-center" style="gap:20px">
                                        <div class="if-late">
                                            <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                            <div class="d-flex" style="gap:20px">
                                                <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                            </div>
                                        </div>
                                        <div class="dudct-type">
                                            <label for="exampleInputEmail1" class="pb-2">Deduction Type</label>
                                            <div class="dropdown" style="width: 100%;">
                  
                                                <button class="btn btn-secondary dropdown-toggle new-deopdown" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                                                    Deduction Type <i class="bi bi-chevron-down"></i>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%;">
                                                  <li><a class="dropdown-item">Per minutes</a></li>
                                                  <li><a class="dropdown-item">Fixed amount</a></li>
                                                  
                                                </ul>
                                              </div>
                                        </div>
                                       
                                    </div>

                                    <div class="mt-3">
                                        <div class="form-check " >
                                            <input class="form-check-input" type="checkbox" value="" id="Occurrences" [checked]="isFull" (click)="showFullDay()">
                                            <label class="form-check-label" #Occurrences for="Occurrences"  >
                                                Set Occurrences
                                            </label>
                                        </div>

                                        <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isFull">
                                            <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                <label for="exampleInputEmail1" class="">Count</label>
                                                <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                            </div>
                                            <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                <label for="exampleInputEmail1" class="">Time</label>
                                                <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="mt-2">
                                    <div class="form-check pb-3">
                                        <input class="form-check-input" type="checkbox" value="" id="staff" [checked]="isdeductHalf" (click)="showeDeductHalf()">
                                        <label class="form-check-label" for="staff"> 
                                            Deduct half day selery if staff is late by more then
                                        </label>
                                    </div>

                                    <div class="dudtion-type" *ngIf="isdeductHalf">
                                        <div class="d-flex align-items-center" style="gap:20px">
                                            <div class="if-late">
                                                <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                                <div class="d-flex" style="gap:20px">
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                                </div>
                                            </div>

                                        </div>
    
                                        <div class="mt-3">
                                            <div class="form-check ">
                                                <input class="form-check-input" type="checkbox" value="" id="Occurrences2" [checked]="isHalf" (click)="showHalfDay()">
                                                <label class="form-check-label" for="Occurrences2">
                                                    Set Occurrences
                                                </label>
                                            </div>
                                            <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isHalf">
                                                <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Count</label>
                                                    <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                                </div>
                                                <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Time</label>
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                                </div>
                                            </div>
                                        </div>
    
                                    </div>
                                    <div class="form-check pb-3">
                                        <input class="form-check-input" type="checkbox" value="" id="selery" [checked]="isfullDayy" (click)="showFullDayy()">
                                        <label class="form-check-label" for="selery">
                                            Deduct half day selery if staff is late by more then
                                        </label>
                                    </div>

                                    <div class="dudtion-type" *ngIf="isfullDayy">
                                        <div class="d-flex align-items-center" style="gap:20px">
                                            <div class="if-late">
                                                <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                                <div class="d-flex" style="gap:20px">
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                                </div>
                                            </div>
                                           
                                        </div>
    
                                        <div class="mt-3">
                                            <div class="form-check ">
                                                <input class="form-check-input" type="checkbox" value="" id="Occurrences3" [checked]="isBreak" (click)="showBreak()">
                                                <label class="form-check-label" for="Occurrences3">
                                                    Set Occurrences
                                                </label>
                                            </div>
                                            <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isBreak">
                                                <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Count</label>
                                                    <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                                </div>
                                                <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Time</label>
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                                </div>
                                            </div>
                                        </div>
    
                                    </div>

                                    
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="profile" role="tabpanel">

                            <div class="staf-list-box mt-3">
                                <table class="table">
                                    <thead class="thead-light table-design">
                                        <tr>
                                            <th style="width:10%;">
                                                <div class="form-check">
                                                    <input type="checkbox" name="chk_child" class="form-check-input">
                                                    <label class="form-check-label"></label>
                                                </div>
                                            </th>
                                            <th style="width:10%;">Name</th>
                                            <th style="width:10%;">Email</th>
                                            <th style="width:10%;">Phone</th>
                                        </tr>
                                    </thead>
                                    <tbody class="table-design">
                                        <tr>
                                            <td>
                                                <div class="form-check">
                                                    <input type="checkbox" name="chk_child" class="form-check-input">
                                                    <label class="form-check-label"></label>
                                                </div>
                                            </td>
                                            <td><h4 class="mb-0 staf-names">Yogesh Kumar</h4></td>
                                            <td class="staf-names">Yogesh@krenai.com</td>
                                            <td class="staf-names">9549901868</td>
                                        </tr>
                                    </tbody>

                                </table>

                            </div>

                        </div>

                    </div>

                   </div>
                  </div>
                  <div class="col-md-4">
                    <div class="rule-section">
                        <div class="rule-box">
                            <input type="radio" name="customizeimagesize" id="customizeimagesize366" class="d-none">
                            <label class="d-flex categryCustomizecard align-items-start">
                              
                              
                                    <div class="">
                                        <div class="slect-radio planselected d-flex position-relative">
                                          
                                            <img src="assets/images/slect-radio.svg" alt="">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="categryCustomizeinfo">
                                            <label for="customizeimagesize366" class="mb-0">
                                                <h3>Create your first rule</h3>
                                                <p>Automate Late fine for employee who are coming late to work</p>
                                            </label>
                                        </div>
                                    </div>
                            </label>
                            </div>
    
    
                            <div class="rule-box">
                                <input type="radio" name="customizeimagesize" id="customizeimagesize367" class="d-none">
                                <label class="d-flex categryCustomizecard align-items-start">
                                  
                                  
                                        <div class="">
                                            <div class="slect-radio planselected d-flex position-relative">
                                            
                                                <img src="assets/images/slect-radio.svg" alt="">
                                            </div>
                                        </div>
                                        <div class="">
                                            <div class="categryCustomizeinfo">
                                                <label for="customizeimagesize367" class="mb-0">
                                                    <h3>Set a rule value</h3>
                                                    <p>Set a value for your rule type.</p>
                                                </label>
                                            </div>
                                        </div>
                                </label>
                                </div>
    
                                <div class="rule-box">
                                    <input type="radio" name="customizeimagesize" id="customizeimagesize368" class="d-none">
                                    <label class="d-flex categryCustomizecard align-items-start">
                                      
                                      
                                            <div class="">
                                                <div class="slect-radio planselected d-flex position-relative">
                                               
                                                    <img src="assets/images/slect-radio.svg" alt="">
                                                </div>
                                            </div>
                                            <div class="">
                                                <div class="categryCustomizeinfo">
                                                    <label for="customizeimagesize368" class="mb-0">
                                                        <h3> Assign Staff</h3>
                                                        <p>Automate Late fine for employee who are coming late to work</p>
                                                    </label>
                                                </div>
                                            </div>
                                    </label>
                                    </div>
                    </div>
                  </div>
                </div>                                                       -->
        </div>
        <div class="modal-footer d-flex align-items-center justify-content-end">
          <button type="button" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <button
    type="button"
    style="display: none"
    data-bs-toggle="modal"
    data-bs-target="#attendancewithlocationss"
    #attendancewithlocationssButton
    id="attendancewithlocationssButton"
  ></button>

  <div
    class="modal fade"
    id="attendancewithlocationss"
    tabindex="-1"
    role="dialog"
    aria-labelledby="attendancewithlocation"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <form
        #organizationAddressForm="ngForm"
        ngNativeValidate
        (ngSubmit)="setOrganizationAddressDetailMethodCall()"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
              Staff Attendance With Location
            </h6>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              #closeAddressModal
              aria-label="Close"
            ></button>
          </div>
          <!--end modal-header-->
          <div class="modal-body">
            <div class="form-group">
              <div class="row">
                <div class="col-md-12">
                  <div class="mb-3">
                    <label for="addressLine1" class="pb-2">Address </label>
                    <input
                      type="text"
                      id="addressLine1"
                      placeholder="Address line 1"
                      ngx-google-places-autocomplete
                      #placesRef="ngx-places"
                      (onAddressChange)="handleAddressChange($event)"
                      required=""
                      name="addressLine1"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.addressLine1"
                    />
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="mb-3">
                    <label for="addressLine2" class="pb-2"
                      >Street Address</label
                    >
                    <input
                      type="text"
                      id="addressLine2"
                      placeholder="Address line 2"
                      required=""
                      name="addressLine2"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.addressLine2"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="landmark" class="pb-2"
                      >Landmark
                      <span class="text-optional">(optional)</span></label
                    >
                    <input
                      type="text"
                      id="landmark"
                      placeholder="Landmark"
                      name="landmark"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.landmark"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="city" class="pb-2"> City </label>
                    <input
                      type="text"
                      id="city"
                      placeholder="City"
                      required=""
                      name="city"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.city"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="state" class="pb-2"> State </label>
                    <input
                      type="text"
                      id="state"
                      placeholder="State"
                      required=""
                      name="state"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.state"
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="country" class="pb-2">Country</label>
                    <input
                      type="text"
                      id="country"
                      placeholder="Country"
                      required=""
                      name="country"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.country"
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="pincode" class="pb-2">Pincode</label>
                    <input
                      type="text"
                      id="pincode"
                      placeholder="Pincode"
                      required=""
                      name="pincode"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.pincode"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="radius" class="pb-2">
                      Employee Location Must be in
                    </label>
                    <input
                      type="text"
                      id="radius"
                      placeholder="in meters"
                      required=""
                      name="radius"
                      class="form-control ng-untouched ng-pristine ng-invalid"
                      [(ngModel)]="organizationAddressDetail.radius"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="modal-footer d-flex align-items-center justify-content-end"
          >
            <button
              class="btn btn-primary"
              type="submit"
              [disabled]="toggle"
              aria-label="Next Step"
            >
              <div *ngIf="toggle" class="dot-opacity-loader">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <span *ngIf="!toggle">
                Save <i class="bi bi-arrow-right" style="padding-left: 8px"></i>
              </span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
