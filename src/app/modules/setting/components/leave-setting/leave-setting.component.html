<div class="page-wrapper">
  <div class="page-content-tab">
    <div class="container-fluid">
      <div class="empty-file">
        <div class="errorboxmain text-center" *ngIf="isLeaveErrorPlaceholder">
          <div class="errorboxinner">
            <div class="errorboxplaceholder mb-2">
              <img src="assets/images/signal.svg" style="width: 80px" />
            </div>
            <div class="">
              <h4>Something went wrong!</h4>
              <p class="mb-0">
                An error occurred while processing your request. Please refresh
                the page and try again.
              </p>
            </div>
          </div>
        </div>
        <div class="errorboxmain" *ngIf="leaveSettingPlaceholder && !isLoading">
          <div class="errorboxinner">
            <div class="errorboxplaceholder mb-2">
              <img src="assets/images/empty-box.svg" style="width: 80px" />
            </div>
            <div class="">
              <p class="mb-0">Leave Settings Not Found</p>
            </div>
            <div class="add-filtter mt-2 mb-3" style="text-align: center">
              <a class="add-filtter" data-bs-toggle="modal" data-bs-target="#requestleave" (click)="
                  emptyAddLeaveSettingRule();
                  preMethodCallToCreateLeaveTemplate()
                ">
                <i class="bi bi-plus" style="font-size: 23px"></i> Create
                another template
              </a>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="leaveTemplates.length == 0 && !isLoading"
        class="row leave-management-settings p-3 mt-2 align-items-center">
        <div class="col-md-6">
          <div class="leave-management-detail pt-5 pb-5">
            <h3 class="mb-3">
              Configure Your <br />
              Leave Management Settings.
            </h3>
            <p class="mb-0 font-14">
              Easily customize your leave management preferences, define leave
              <br />
              types, set approval workflows, and streamline employee leave
              tracking.
            </p>
            <button class="btn add-leave-btn mt-4 mb-2" data-bs-toggle="modal" data-bs-target="#leavemodal" (click)="
                emptyAddLeaveSettingRule(); preMethodCallToCreateLeaveTemplate()
              ">
              Add Leave Settings
            </button>
            <hr />
            <span class="mb-0">
              By signing, you are creating
              <a href="#!">
                Learn more about it
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                  <mask id="mask0_4244_1588" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20"
                    height="21">
                    <rect y="0.546875" width="20" height="20" fill="#6666F2" />
                  </mask>
                  <g mask="url(#mask0_4244_1588)">
                    <path
                      d="M4.50016 17.2148L3.3335 16.0482L13.0002 6.38151H7.50016V4.71484H15.8335V13.0482H14.1668V7.54818L4.50016 17.2148Z"
                      fill="#6666F2" />
                  </g>
                </svg>
              </a>
            </span>
          </div>
        </div>
        <div class="col-md-6">
          <div class="leave-management-detail-img text-end">
            <img src="assets/images/leave-management-img.svg" style="width: 400px" />
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col-md-4 mt-3 mb-3" *ngIf="
            (!leaveSettingPlaceholder && !isLeaveErrorPlaceholder) || isLoading
          ">
          <div *ngIf="leaveTemplates.length > 0 && !isLoading" class="form-roe-data">
            <h5>Leave Settings</h5>
            <p>This will be displayed on your profile.</p>

            <button class="btn btn-primary" (click)="getExpenseType()" data-bs-toggle="modal" data-bs-target="#createExpense">Create Expense</button>

          </div>
        </div>
        <div class="col-md-7">
          <div class="row mb-3"></div>
          <div *ngIf="isLoading">
            <div class="">
              <div class="text-end">
                <ngx-shimmer-loading [width]="'40%'" [height]="'20px'" style="border-radius: 50%"></ngx-shimmer-loading>
              </div>
            </div>
            <div class="mt-3" style="
                border: 1px solid #f5f5f5;
                padding: 5px;
                border-radius: 6px;
              ">
              <div class="row" style="
                  border-bottom: 1px solid #f5f5f5;
                  padding-top: 10px;
                  padding-bottom: 10px;
                ">
                <div class="col-md-6">
                  <div class="">
                    <ngx-shimmer-loading [width]="'60%'" [height]="'20px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="text-end">
                    <ngx-shimmer-loading [width]="'60%'" [height]="'20px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-3">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-2" style="
                  border-bottom: 1px solid #f5f5f5;
                  padding-top: 10px;
                  padding-bottom: 10px;
                ">
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-3">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-2" style="
                  border-bottom: 1px solid #f5f5f5;
                  padding-top: 10px;
                  padding-bottom: 10px;
                ">
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-3">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-2" style="
                  border-bottom: 1px solid #f5f5f5;
                  padding-top: 10px;
                  padding-bottom: 10px;
                ">
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-3">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-2" style="
                  border-bottom: 1px solid #f5f5f5;
                  padding-top: 10px;
                  padding-bottom: 10px;
                ">
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-3">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                      style="border-radius: 50%"></ngx-shimmer-loading>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Create Leave Template Start -->
          <div class="add-shift-main-box"
          *ngIf="leaveTemplates.length > 0  && !leaveSettingPlaceholder && !isLeaveErrorPlaceholder && !isLoading">

          <div class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2">
            <div class="">
              <h6 class="text-truncate mb-0">Leave</h6>
            </div>
            <div class="" *ngIf="!idFlag">

              <a class="add-shift-time-btn" data-bs-toggle="modal" data-bs-target="#leavemodal" (click)="
                  emptyAddLeaveSettingRule();
                  preMethodCallToCreateLeaveTemplate();
                  enableWFH(false)
                ">
                <i class="bi bi-plus"></i> Create another template
              </a>
            </div>
          </div>

          <div *ngIf="leaveTemplates.length == 0" class="col-md-12">
            <div class="d-flex justify-content-center p-4">
              <img src="assets/images/no-data-found-img.svg" alt="" height="20%" width="10%">
            </div>
            <div class="d-flex justify-content-center"
              style="margin-top: -1%; margin-left: 4%; margin-bottom: 5px;">
              <h6>No Template Created Yet!!</h6>
            </div>
          </div>

          <div *ngIf="leaveTemplates.length > 0">
            <div class="shift-time p-3 m-3" *ngFor="let newLeaveSetting of leaveTemplates; let i = index">
              <div class="">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="d-flex align-items-center gap-3">
                    <div class="">
                      <span class="automation-rules-icon d-flex align-items-center justify-content-center">
                        <img src="assets/images/rule-icon.svg" />
                      </span>
                    </div>
                    <div class="">
                      <h6 class="text-truncate mb-0">
                        {{ newLeaveSetting?.templateName }}
                      </h6>
                      <small class="text-muted">Define the leave rules for the employees</small>
                    </div>
                  </div>
                  <div class="d-flex align-items-center gap-3">
                    <div class="d-flex align-items-center gap-3">
  
                      <a href="" data-bs-toggle="modal" data-bs-target="#leavemodal">
                        <i class="bi bi-pencil pointer" style="color: #6666f3" (click)="
                            getLeaveSettingInformationById(
                              newLeaveSetting.id,
                              false
                            )
                          "></i>
                      </a>
                      <a class="delete-rule" data-bs-toggle="modal" data-bs-target="#delete-leave" (click)="
                          getLeaveTemplateOrCategoryId(newLeaveSetting.id, true, newLeaveSetting.leaveAppliedUserCount)
                        " *ngIf="!deleteLeaveTemplateLoader(newLeaveSetting.id)">
                        <i class="bi bi-trash pointer text-danger"></i>
                      </a>
  
                      <div class="dot-opacity-loader" *ngIf="deleteLeaveTemplateLoader(newLeaveSetting.id)">
                        <span></span>
                        <span></span>
                        <span></span>
                      </div>
                    </div>
  
                    <span class="staff-leave-setting bg-white">Staff - {{ newLeaveSetting.totalEmployees }}</span>
                    <span class="automation-rules-toogel-btn pointer" data-bs-toggle="collapse"
                      [attr.data-bs-target]="'#multiCollapseExample' + i" role="button"
                      [attr.aria-controls]="'multiCollapseExample' + i"
                      [attr.aria-expanded]="i == activeIndex ? 'true' : 'false'" (click)="toggleCollapse(i)">
                      <i class="bi bi-chevron-down"></i>
                    </span>
                  </div>
                </div>
  
                <div class="collapse multi-collapse" [id]="'multiCollapseExample' + i" [class.show]="activeIndex === i">
                  <div class="row mt-3">
                    <div [ngClass]="{
                        'col-md-4':
                          newLeaveSetting.leaveTemplateCategoryRes.length > 2,
                        'col-md-6':
                          newLeaveSetting.leaveTemplateCategoryRes.length == 2,
                        'col-md-12':
                          newLeaveSetting.leaveTemplateCategoryRes.length == 1
                      }" *ngFor="
                        let category of newLeaveSetting.leaveTemplateCategoryRes
                      ">
                      <div class="custom-salary">
                        <div class="custom-salary-hedding p-3 d-flex align-items-center justify-content-between">
                          <h4 class="mb-0">
                            {{ category?.leaveName || "N/A" }}
                          </h4>
                          <div class="d-flex align-items-center gap-3">
  
                            <i *ngIf="
                                newLeaveSetting.leaveTemplateCategoryRes
                                  .length > 1
                              " data-bs-toggle="modal" data-bs-target="#delete-leave" (click)="
                                getLeaveTemplateOrCategoryId(category.id, false, newLeaveSetting.leaveAppliedUserCount)
                              " class="bi bi-trash pointer text-danger"></i>
                          </div>
                        </div>
                        <div class="custom-salary-para p-3">
                          <div class="d-flex align-items-center justify-content-between mb-3">
                            <p class="mb-0">Leave Count</p>
                            <span style="color: #3f988f">{{
                              category?.leaveCount || "N/A"
                              }}</span>
                          </div>
                          <div class="d-flex align-items-center justify-content-between mb-3">
                            <p class="mb-0">Leave Rule</p>
                            <span style="color: #3f988f">{{
                              category?.unusedLeaveActionName || "N/A"
                              }}</span>
                          </div>
                          <div class="d-flex align-items-center justify-content-between">
                            <p class="mb-0">Carry Forward Limit</p>
                            <span style="color: #3f988f">{{
                              category?.unusedLeaveActionCount || "N/A"
                              }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>
          <!-- Create Leave Template End -->


          <!-- Create WFH Request Start -->
          <div class="add-shift-main-box mt-4"
          *ngIf="leaveTemplates.length > 0  && !leaveSettingPlaceholder && !isLeaveErrorPlaceholder && !isLoading">

          <div class="add-shift-box d-flex align-items-center justify-content-between p-3 pt-2 pb-2">
            <div class="">
              <h6 class="text-truncate mb-0">WFH</h6>
            </div>
            <div class="" *ngIf="!idFlag">

              <a class="add-shift-time-btn" data-bs-toggle="modal" data-bs-target="#leavemodal" (click)="
                  emptyAddLeaveSettingRule();
                  preMethodCallToCreateLeaveTemplate();
                  enableWFH(true)
                ">
                <i class="bi bi-plus"></i> Create another template
              </a>
            </div>
          </div>

          <div *ngIf="wfhLeaveTemplates.length == 0" class="col-md-12">
            <div class="d-flex justify-content-center p-4">
              <img src="assets/images/no-data-found-img.svg" alt="" height="20%" width="10%">
            </div>
            <div class="d-flex justify-content-center"
              style="margin-top: -1%; margin-left: 4%; margin-bottom: 5px;">
              <h6>No Template Created Yet!!</h6>
            </div>
          </div>

         <div *ngIf="wfhLeaveTemplates.length > 0">
          <div class="shift-time p-3 m-3" *ngFor="let newLeaveSetting of wfhLeaveTemplates; let i = index">
            <div class="">
              <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center gap-3">
                  <div class="">
                    <span class="automation-rules-icon d-flex align-items-center justify-content-center">
                      <img src="assets/images/rule-icon.svg" />
                    </span>
                  </div>
                  <div class="">
                    <h6 class="text-truncate mb-0">
                      {{ newLeaveSetting?.templateName }}
                    </h6>
                    <small class="text-muted">Define the leave rules for the employees</small>
                  </div>
                </div>
                <div class="d-flex align-items-center gap-3">
                  <div class="d-flex align-items-center gap-3">

                    <a href="" data-bs-toggle="modal" data-bs-target="#leavemodal">
                      <i class="bi bi-pencil pointer" style="color: #6666f3" (click)="
                          getLeaveSettingInformationById(
                            newLeaveSetting.id,
                            true
                          )
                        "></i>
                    </a>
                    <a class="delete-rule" data-bs-toggle="modal" data-bs-target="#delete-leave" (click)="
                        getLeaveTemplateOrCategoryId(newLeaveSetting.id, true, newLeaveSetting.leaveAppliedUserCount)
                      " *ngIf="!deleteLeaveTemplateLoader(newLeaveSetting.id)">
                      <i class="bi bi-trash pointer text-danger"></i>
                    </a>

                    <div class="dot-opacity-loader" *ngIf="deleteLeaveTemplateLoader(newLeaveSetting.id)">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </div>

                  <span class="staff-leave-setting bg-white">Staff - {{ newLeaveSetting.totalEmployees }}</span>
                  <span class="automation-rules-toogel-btn pointer" data-bs-toggle="collapse"
                    [attr.data-bs-target]="'#multiCollapseExample1' + i" role="button"
                    [attr.aria-controls]="'multiCollapseExample1' + i"
                    [attr.aria-expanded]="i == wfhActiveIndex ? 'true' : 'false'" (click)="toggleCollapseWFH(i)">
                    <i class="bi bi-chevron-down"></i>
                  </span>
                </div>
              </div>

              <div class="collapse multi-collapse" [id]="'multiCollapseExample1' + i" [class.show]="wfhActiveIndex === i">
                <div class="row mt-3">
                  <div [ngClass]="{
                      'col-md-4':
                        newLeaveSetting.leaveTemplateCategoryRes.length > 2,
                      'col-md-6':
                        newLeaveSetting.leaveTemplateCategoryRes.length == 2,
                      'col-md-12':
                        newLeaveSetting.leaveTemplateCategoryRes.length == 1
                    }" *ngFor="
                      let category of newLeaveSetting.leaveTemplateCategoryRes
                    ">
                    <div class="custom-salary">
                      <div class="custom-salary-hedding p-3 d-flex align-items-center justify-content-between">
                        <h4 class="mb-0">
                          {{ category?.leaveName || "N/A" }}
                        </h4>
                        <div class="d-flex align-items-center gap-3">

                          <i *ngIf="
                              newLeaveSetting.leaveTemplateCategoryRes
                                .length > 1
                            " data-bs-toggle="modal" data-bs-target="#delete-leave" (click)="
                              getLeaveTemplateOrCategoryId(category.id, false, newLeaveSetting.leaveAppliedUserCount)
                            " class="bi bi-trash pointer text-danger"></i>
                        </div>
                      </div>
                      <div class="custom-salary-para p-3">
                        <div class="d-flex align-items-center justify-content-between mb-3">
                          <p class="mb-0">Leave Count</p>
                          <span style="color: #3f988f">{{
                            category?.leaveCount || "N/A"
                            }}</span>
                        </div>
                        <div class="d-flex align-items-center justify-content-between mb-3">
                          <p class="mb-0">Leave Rule</p>
                          <span style="color: #3f988f">{{
                            category?.unusedLeaveActionName || "N/A"
                            }}</span>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                          <p class="mb-0">Carry Forward Limit</p>
                          <span style="color: #3f988f">{{
                            category?.unusedLeaveActionCount || "N/A"
                            }}</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
         </div>

        </div>
          <!-- Create WFH Request End -->


          <div class="col-md-1"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<button class="btn leave-modal d-none" (click)="preMethodCallToCreateLeaveTemplate()" data-bs-toggle="modal"
  data-bs-target="#leavemodal">
  Leave Modal
</button>

<div class="modal fade" id="leavemodal" #requestleave tabindex="-1" role="dialog" aria-labelledby="leavemodal"
  aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-lg modal-dialog-centered" style="max-width: 1050px" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="requestLeave">
          {{ updateToggle ? "Update" : "Create New" }} Template
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="clearModalData()"
          id="requestLeaveCloseModel1" #requestLeaveCloseModel1></button>
      </div>
      <form #leaveSetForm="ngForm">
        <div class="modal-body p-0">
          <div class="leave-create-modal">
            <div class="row h-100 p-0 m-0">
              <div class="col-md-3 p-0 m-0">
                <div class="leave-sidebar-menu">

                  <div class="nav flex-column nav-pills pt-3" id="v-pills-tab" role="tablist"
                    aria-orientation="vertical">

                    <button class="nav-link" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home"
                      type="button" role="tab" aria-controls="v-pills-home" aria-selected="false" #templateSettingTab2>
                      Template setting
                    </button>

                    <button *ngIf="!wfhTemplateToggle" class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" id="profile-tab"
                      data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile"
                      aria-selected="false" [disabled]="!leaveTemplateDefinitionForm.form.valid" #leaveCategoryTab1>
                      Leave Categories
                    </button>

                    <button *ngIf="wfhTemplateToggle" class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" id="profile-tab"
                    data-bs-target="#v-pills-profile" type="button" role="tab" (click)="goToLeaveCategoryTab();" aria-controls="v-pills-profile"
                    aria-selected="false" [disabled]="!leaveTemplateDefinitionForm.form.valid" #leaveCategoryTab1>
                    Leave Categories ed
                  </button>

                    <button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill"
                      data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages"
                      aria-selected="false" [disabled]="displayedCategories.length == 0" #staffSelectionTab1>
                      Staff selection
                    </button>
                  </div>

                </div>
              </div>
              <div class="col-md-9 p-0 m-0">
                <div class="leave-templete p-3 bg-white">
                  <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel"
                      aria-labelledby="v-pills-home-tab">
                      <form nz-form #leaveTemplateDefinitionForm="ngForm">
                        <div class="row register-form-box">
                          <div class="col-md-12 mb-3" nz-form-item>
                            <label for="templateName" class="pb-2">
                              Template Name
                            </label>

                            <input nz-input [(ngModel)]="leaveTemplateRequest.name" class="form-control input-zorro"
                              placeholder="Enter template name here" nzSize="large" minlength="3" maxlength="50"
                              name="tempNamed" #tempNamed="ngModel" required />

                            <div *ngIf="tempNamed?.touched && isSubmitted">
                              <label *ngIf="tempNamed.errors?.required" id="cname-error"
                                class="error mt-2 text-danger fw-light" for="cname">
                                Template name is required
                              </label>
                              <label *ngIf="tempNamed.errors?.minlength" id="cname-error"
                                class="error mt-2 text-danger fw-light" for="cname">
                                Name must be at least 3 characters
                              </label>
                            </div>
                          </div>

                          <div class="col-md-6 mb-3">

                            <label for="employeeTypeId" class="pb-2">Employee Type</label>

                            <nz-select [disabled]="updateToggle" style="width: 100%" nzSize="large"
                              nzPlaceHolder="Select Employee type" [(ngModel)]="employeeTypeId"
                              (ngModelChange)="onEmployeeTypeChange($event)" name="emplTypeId" #emplTypeId="ngModel"
                              required class="form-control">
                              <nz-option *ngFor="
                                      let employeeType of employeeTypeList
                                    " [nzValue]="employeeType.id" [nzLabel]="employeeType.name">
                              </nz-option>
                            </nz-select>

                            <label *ngIf="isSubmitted && emplTypeId?.touched && employeeTypeId == 0"
                              class="error mt-2 fw-light text-danger">
                              Employee type is required
                            </label>

                          </div>

                          <div class="col-md-6 mb-3" nz-form-item>
                            <label for="leaveRenewalCycle" class="pb-2">
                              Leave Quota Renew Cycle
                            </label>

                            <nz-select [disabled]="updateToggle" style="width: 100%" nzSize="large" id="leaveFicsalYear"
                              nzPlaceHolder="Select Leave Quota Renew Cycle "
                              [(ngModel)]="leaveTemplateRequest.yearTypeName" (ngModelChange)="
                                selectDateForLeaveTemplateRequest($event)
                              " name="leaveRenewalCycled" #leaveRenewalCycled="ngModel" required class="form-control">
                              <nz-option *ngFor="let yearType of yearTypeList" [nzValue]="yearType.name"
                                [nzLabel]="yearType.name">
                              </nz-option>
                            </nz-select>

                            <label
                              *ngIf="isSubmitted && leaveRenewalCycled?.touched && leaveRenewalCycled.errors?.required"
                              class="error mt-2 fw-light text-danger">
                              Leave quota renew cycle is required
                            </label>

                          </div>

                          <div *ngIf="isCustomDateRange">
                            <div class="leave-period border-bottom pb-3 mb-3 m-2 mt-3">
                              <h5 class="mb-0">Leave Period</h5>
                            </div>

                            <div class="d-flex gap-2">
                              <div class="col-md-6 mb-3" nz-form-item>
                                <label for="leavePeriod" class="pb-2 font-12">Start Date
                                </label>
                                <nz-form-control nzErrorTip="Please select valid dates.">
                                  <div class="d-flex justify-content-between align-items-center">
                                    <nz-date-picker [(ngModel)]="dateRange[0]" nzPlaceHolder="Start Date"
                                      [disabled]="!isCustomDateRange || updateToggle" (ngModelChange)="
                                        onStartDateChange($event)
                                      " name="startDate" #startDate="ngModel" required class="form-control">
                                    </nz-date-picker>
                                  </div>
                                </nz-form-control>
                                <div *ngIf="startDate.invalid && startDate.touched" class="invalid-feedback">
                                  Start date is required.
                                </div>
                              </div>
                              <div class="col-md-6 mb-3" nz-form-item>
                                <label for="leavePeriod" class="pb-2 font-12">End Date
                                </label>
                                <nz-form-control nzErrorTip="Please select valid dates.">
                                  <div class="d-flex justify-content-between align-items-center">
                                    <nz-date-picker [(ngModel)]="dateRange[1]" nzPlaceHolder="End Date"
                                      [disabled]="!isCustomDateRange || updateToggle" name="endDate" #endDate="ngModel"
                                      required class="form-control">
                                    </nz-date-picker>
                                  </div>
                                </nz-form-control>

                                <div *ngIf="endDate.invalid && endDate.touched" class="invalid-feedback">
                                  End date is required.
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="modal-footer d-flex align-items-center justify-content-end leave-footer">
                          <button type="submit" class="btn p-0 next-btn" (click)="goToLeaveCategoryTab();" [disabled]="
                              !leaveTemplateDefinitionForm.valid ||
                              employeeTypeId == 0
                            ">
                            Next
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"
                              fill="none">
                              <path
                                d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z"
                                fill="#6666F2" />
                            </svg>
                          </button>
                        </div>
                      </form>
                    </div>

                    <div class="tab-pane fade" id="v-pills-profile" role="tabpanel"
                      aria-labelledby="v-pills-profile-tab">
                      <form [formGroup]="form">

                        <div formArrayName="categories">

                          <div class="row" *ngFor="
                              let category of categories.controls;
                              let i = index
                            " [formGroupName]="i">

                            <div class="row" *ngIf="
                                !editToggle
                                  ? i === categories.controls.length - 1
                                  : i === editingIndex
                              ">
                              
                              <!-- <div class="col-md-6 mb-3">
                                <div class="form-group">
                                  <label for="genderId" class="pb-2">Select Gender</label>
                                  <nz-form-control nzErrorTip="All">
                                    <nz-select style="width: 100%" nzSize="large" nzPlaceHolder="Select Gender"
                                      formControlName="gender" (ngModelChange)="
                                        onGenderChange($event, i)
                                      " required class="form-control">
                                      <nz-option *ngFor="let gender of genders" [nzValue]="gender.name"
                                        [nzLabel]="gender.name">
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
                                </div>
                              </div> -->

                              <div *ngIf="!wfhTemplateToggle" class="col-md-6 mb-3">
                                  <div class="form-group">
                                    <label for="genderId" class="pb-2">Select Gender</label>
                                    <nz-form-control nzErrorTip="All">
                                      <nz-select style="width: 100%" nzSize="large" nzPlaceHolder="Select Gender"
                                        formControlName="gender" (ngModelChange)="
                                          onGenderChange($event, i)
                                        " required class="form-control">
                                        <nz-option *ngFor="let gender of genders" [nzValue]="gender.name"
                                          [nzLabel]="gender.name">
                                        </nz-option>
                                      </nz-select>
                                    </nz-form-control>
                                  </div>
                                </div>

                                <div *ngIf="!wfhTemplateToggle" class="col-md-6 mb-3" nz-form-item>
                                  <label for="leaveCategoryId" class="pb-2">
                                    Leave Category Name
                                  </label>
                                  <nz-form-control nzErrorTip="Please select leave category name">
                                    <nz-select style="width: 100%" nzSize="large"
                                      nzPlaceHolder="Select Leave Category Name" formControlName="leaveCategoryId"
                                      required class="form-control">
                                      <nz-option *ngFor="
                                          let leaveCategory of filteredLeaveCategories[
                                            i
                                          ]
                                        " [nzValue]="leaveCategory.id" [nzLabel]="leaveCategory.name">
                                      </nz-option>
                                    </nz-select>
                                  </nz-form-control>
  
                                  <p class="errortxt mt-2 mb-0 text-danger" *ngIf="
                                      hasError('leaveCategoryId', i, 'required')
                                    ">
                                    <span style="white-space: nowrap"><i class="bi bi-exclamation-circle"></i>
                                      Please fill this field.</span>
                                  </p>
  
                                </div>

                                <!-- [ngModel]="'All'"  -->
                                <div *ngIf="wfhTemplateToggle" class="col-md-6 mb-3" style="cursor: default;">
                                  <div class="form-group">
                                    <label for="genderId" class="pb-2">Select Gender</label>
                                    <nz-form-control nzErrorTip="Please select a gender">
                                      <nz-select 
                                        aria-disabled="true"
                                        [nzDisabled]="wfhTemplateToggle"
                                        style="width: 100%" 
                                        nzSize="large" 
                                        nzPlaceHolder="Select Gender"
                                        formControlName="gender"
                                        required 
                                        class="form-control" style="cursor: default;" >
                                        <nz-option *ngFor="let gender of genders" [nzValue]="gender.name" [nzLabel]="gender.name"></nz-option>
                                      </nz-select>
                                    </nz-form-control>
                                  </div>
                                </div>
                                
                                <!-- [ngModel]="defaultLeaveCategoryId"  -->
                              <div *ngIf="wfhTemplateToggle" class="col-md-6 mb-3" nz-form-item>
                                <label for="leaveCategoryId" class="pb-2">
                                  Leave Category Name
                                </label>
                                <nz-form-control nzErrorTip="Please select leave category name">
                                  <nz-select [nzDisabled]="wfhTemplateToggle" style="width: 100%" nzSize="large"
                                    nzPlaceHolder="Select Leave Category Name" formControlName="leaveCategoryId"
                                     required class="form-control">
                                    <nz-option *ngFor="let leaveCategory of filteredLeaveCategories" 
                                      [nzValue]="leaveCategory.id" [nzLabel]="leaveCategory.name">
                                    </nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </div>

                              <div class="col-md-6 mb-3" nz-form-item>
                                <label for="leavelCycleId" class="pb-2">
                                  Leave Cycle
                                </label>

                                <nz-select style="width: 100%" nzSize="large" nzPlaceHolder="Select Leave Cycle"
                                  formControlName="leaveCycleId" required class="form-control">
                                  <nz-option *ngFor="let leaveCycle of leaveCycleList" [nzValue]="leaveCycle.id"
                                    [nzLabel]="leaveCycle.name">
                                  </nz-option>
                                </nz-select>

                                <p class="errortxt mt-2 mb-0 text-danger" *ngIf="
                                    hasError('leaveCycleId', i, 'required')
                                  ">
                                  <span style="white-space: nowrap"><i class="bi bi-exclamation-circle"></i>
                                    Please fill this field.</span>
                                </p>

                              </div>

                              <div class="col-md-6 mb-3" nz-form-item>
                                <label for="accrualTypeId" class="pb-2">
                                  Select Accrual Type
                                </label>

                                <nz-select style="width: 100%" nzSize="large" nzPlaceHolder="Select Accrual Type"
                                  formControlName="accrualTypeId" (ngModelChange)="onAccrualChange($event)" required
                                  class="form-control">
                                  <nz-option *ngFor="let accrualType of accrualTypes" [nzValue]="accrualType.id"
                                    [nzLabel]="accrualType.name">
                                  </nz-option>
                                </nz-select>

                              </div>

                              <div class="col-md-6 mb-2" nz-form-item>
                                <label for="leavecount" class="pb-2">
                                  Leave Count
                                </label>

                                <input class="form-control" type="number" style="width: 100%"
                                  formControlName="leaveCount" class="form-control input-zorro" placeholder="Day Count"
                                  (ngModelChange)="
                                    generateDaysDropdown($event, i)
                                  " min="1" max="400" step="1" required />

                                <p class="errortxt mt-2 mb-0 text-danger" *ngIf="
                                    hasError('leaveCount', i, 'required') ||
                                    hasError('leaveCount', i, 'min')
                                  ">
                                  <span style="white-space: nowrap"><i class="bi bi-exclamation-circle"></i>
                                    Please enter a valid number.</span>
                                </p>
                              </div>

                              <!-- <div *ngIf="wfhTemplateToggle" class="col-md-3 mb-2" nz-form-item>
                                <label for="unusedLeaveActionId" class="pb-2">
                                  Unused Leave Action
                                </label>

                                <nz-select [ngModel]="defaultLeaveActionId" [nzDisabled]="wfhTemplateToggle" style="width: 100%" nzSize="large" nzPlaceHolder="Unused leave action"
                                  formControlName="unusedLeaveActionId" required class="form-control">
                                  <nz-option *ngFor="
                                      let unusedLeaveAction of unusedLeaveActionList
                                    " [nzValue]="unusedLeaveAction.id" [nzLabel]="unusedLeaveAction.name">>
                                  </nz-option>
                                </nz-select>
                              </div> -->

                              <div  class="col-md-3 mb-2" nz-form-item>
                                <label for="unusedLeaveActionId" class="pb-2">
                                  Unused Leave Action
                                </label>

                                <nz-select [nzDisabled]="wfhTemplateToggle" style="width: 100%" nzSize="large" nzPlaceHolder="Unused leave action"
                                  formControlName="unusedLeaveActionId" required class="form-control">
                                  <nz-option *ngFor="
                                      let unusedLeaveAction of unusedLeaveActionList
                                    " [nzValue]="unusedLeaveAction.id" [nzLabel]="unusedLeaveAction.name">>
                                  </nz-option>
                                </nz-select>
                              </div>


                              <div class="col-md-3 mb-2" nz-form-item>
                                <label for="leaveRenewalCycle" class="pb-2">
                                  Unused Leave Action
                                </label>

                                <nz-select style="width: 100%" nzSize="large" *ngIf="
                                    categories.controls[i]!.get(
                                      'unusedLeaveActionId'
                                    )?.value != LAPSE
                                  " formControlName="unusedLeaveActionCount" nzPlaceHolder="Select Days" required
                                  class="form-control">
                                  <ng-container *ngFor="let day of daysCountArray[i]">
                                    <nz-option *ngIf="day > 0" [nzValue]="day" [nzLabel]="day">
                                      {{ day }}
                                    </nz-option>
                                  </ng-container>
                                </nz-select>

                                <nz-input-number style="width: 100%" formControlName="unusedLeaveActionCount" *ngIf="
                                    categories.controls[i]!.get(
                                      'unusedLeaveActionId'
                                    )?.value == LAPSE
                                  " nzPlaceHolder="N/A" (ngModelChange)="
                                    generateDaysDropdown($event, i)
                                  " nzSize="large" [nzMin]="1" [nzMax]="10" [nzStep]="1"
                                  [nzDisabled]="true"></nz-input-number>
                              </div>

                              <div class="d-flex align-items-center justify-content-end">


                                <button *ngIf="editToggle" class="p-0 btn text-primary leave-category"
                                  (click)="addFormRow(i)">
                                  <i class="bi bi-plus-lg"></i>
                                  Update leave Category
                                </button>

                                {{form}}: {{form.valid}}
                                <button [disabled]="!form.valid" *ngIf="!editToggle"
                                  class="p-0 btn text-primary leave-category" (click)="addFormRow(i)">
                                  <i class="bi bi-plus-lg"></i>
                                  {{ !addFormToggle
                                  ? 'Save leave Category'
                                  : (form.valid ? 'Save leave Category' : 'Add More Category')
                                  }}
                                </button>
                              </div>

                              <div class="table-responsive bg-white mt-4 leave-category-list"
                                *ngIf="displayedCategories.length > 0">
                                <table class="table empOnnoardtable">
                                  <thead class="thead-light">
                                    <tr>
                                      <th class="text-center" style="width: 5%">
                                        Select Gender
                                      </th>
                                      <th class="text-center" style="width: 10%">
                                        Leave Category
                                      </th>
                                      <th class="text-center" style="width: 10%">
                                        Leave Cycle
                                      </th>
                                      <th class="text-center" style="width: 10%">
                                        Accrual Type
                                      </th>
                                      <th class="text-center" style="width: 10%">
                                        Leave Count
                                      </th>
                                      <th class="text-center" style="width: 10%">
                                        Unused Leave Action
                                      </th>

                                      <th *ngIf="!updateToggle" class="text-center" style="width: 10%">
                                        Action
                                      </th>
                                    </tr>
                                  </thead>

                                  <tbody class="">
                                    <tr class="" *ngFor="
                                        let category of displayedCategories;
                                        let i = index
                                      ">
                                      <td class="text-center">
                                        <span class="teme-maneger mb-0 table-font-weight">
                                          {{ category.gender }}</span>
                                      </td>
                                      <td class="text-center">
                                        <span class="teme-maneger mb-0">
                                          {{ category.categoryName }}</span>
                                      </td>
                                      <td class="text-center">

                                        <div class="badge rounded-pill" [ngClass]="{
                                            'badge-soft-primary':
                                              category.leaveCycleName ===
                                              'Monthly',
                                            'badge-soft-warning':
                                              category.leaveCycleName ===
                                              'Quarterly',
                                            'badge-soft-success':
                                              category.leaveCycleName ===
                                              'Half Yearly',
                                            'badge-soft-info':
                                              category.leaveCycleName ===
                                              'Yearly'
                                          }">
                                          <span class="fw-semibold">
                                            {{ category.leaveCycleName }}
                                          </span>
                                        </div>
                                      </td>
                                      <td class="text-center">
                                        <span class="teme-maneger mb-0">
                                          {{ category.accrualName }}</span>
                                      </td>
                                      <td class="text-center">
                                        <span class="teme-maneger mb-0 table-font-weight">
                                          {{ category.leaveCount }}</span>
                                      </td>
                                      <td class="text-center">
                                        <span *ngIf="category.unusedLeaveName == 'Lapse'"
                                          class="teme-maneger mb-0 table-font-weight">
                                          {{ category.unusedLeaveName }} - {{ category.leaveCount }}

                                        </span>

                                        <span *ngIf="category.unusedLeaveName != 'Lapse'"
                                          class="teme-maneger mb-0 table-font-weight">
                                          {{ category.unusedLeaveName }} - {{category.unusedLeaveActionCount != "" ?
                                          category.unusedLeaveActionCount : '0'}}
                                        </span>

                                      </td>

                                      <td *ngIf="!updateToggle" class="text-center">
                                        <div class="d-flex align-items-center gap-2">
                                          <button (click)="editCategory(i)" type="button" class="btn btnAction p-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19"
                                              viewBox="0 0 19 19" fill="none">
                                              <mask id="mask0_4127_1895" style="mask-type: alpha"
                                                maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                                <rect width="18.8342" height="18.8342" fill="#444444" />
                                              </mask>
                                              <g mask="url(#mask0_4127_1895)">
                                                <path
                                                  d="M3.92372 14.9177H4.91369L12.9469 6.88448L11.9569 5.89451L3.92372 13.9277V14.9177ZM2.74658 16.0948V13.4388L13.0979 3.09194C13.2166 2.98417 13.3476 2.90092 13.4909 2.84219C13.6344 2.78333 13.7848 2.75391 13.9421 2.75391C14.0995 2.75391 14.2519 2.78183 14.3993 2.83768C14.5468 2.89353 14.6774 2.98234 14.791 3.1041L15.7494 4.07446C15.8712 4.18812 15.958 4.31891 16.0098 4.46684C16.0616 4.61476 16.0875 4.76269 16.0875 4.91062C16.0875 5.06848 16.0605 5.21909 16.0066 5.36244C15.9528 5.50592 15.867 5.63698 15.7494 5.75561L5.4026 16.0948H2.74658ZM12.4432 6.39813L11.9569 5.89451L12.9469 6.88448L12.4432 6.39813Z"
                                                  fill="#444444" />
                                              </g>
                                            </svg>
                                          </button>

                                          <button (click)="deleteCategory(i)" type="button" class="btn btnAction p-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19"
                                              viewBox="0 0 19 19" fill="none">
                                              <mask id="mask0_4127_1892" style="mask-type: alpha"
                                                maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                                <rect x="0.165527" y="0.140625" width="18.8342" height="18.8342"
                                                  fill="#D9D9D9" />
                                              </mask>
                                              <g mask="url(#mask0_4127_1892)">
                                                <path
                                                  d="M5.90067 16.2346C5.50934 16.2346 5.17503 16.096 4.89775 15.8189C4.6206 15.5416 4.48202 15.2073 4.48202 14.816V4.85563H3.69727V3.67849H7.22868V2.98438H11.9372V3.67849H15.4686V4.85563H14.6839V14.816C14.6839 15.2124 14.5465 15.548 14.2719 15.8226C13.9972 16.0973 13.6617 16.2346 13.2652 16.2346H5.90067ZM13.5067 4.85563H5.65916V14.816C5.65916 14.8865 5.68179 14.9443 5.72704 14.9896C5.7723 15.0349 5.83017 15.0575 5.90067 15.0575H13.2652C13.3257 15.0575 13.381 15.0323 13.4312 14.982C13.4816 14.9317 13.5067 14.8764 13.5067 14.816V4.85563ZM7.54572 13.488H8.72266V6.42515H7.54572V13.488ZM10.4432 13.488H11.6202V6.42515H10.4432V13.488Z"
                                                  fill="#FF0000" />
                                              </g>
                                            </svg>
                                          </button>
                                        </div>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <!-- for last ele condition -->
                          </div>
                          <!-- forarray -->
                        </div>

                        <div class="modal-footer d-flex align-items-center justify-content-end leave-footer">

                          <button [disabled]="displayedCategories.length == 0" type="submit" class="btn p-0 next-btn"
                            (click)="goToStaffSelectionTab()">
                            Next
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"
                              fill="none">
                              <path
                                d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z"
                                fill="#6666F2" />
                            </svg>
                          </button>
                        </div>
                      </form>
                    </div>
                    <div class="tab-pane fade" id="v-pills-messages" role="tabpanel"
                      aria-labelledby="v-pills-messages-tab">
                      <div class="">
                        <div class="col-md-12 mb-3 position-relative">
                          <input placeholder="Search by Name " id="searchText" name="searchUsers" type="text"
                            class="form-control" (keyup)="searchUsers()" [(ngModel)]="searchText"
                            [ngModelOptions]="{ standalone: true }" style="
                              background-color: #f9fafc;
                              border: none;
                              padding: 0px 0px 0px 35px;
                            " />
                          <button type="button" class="btn close-btn" (click)="clearSearchUsers()" *ngIf="crossFlag">
                            <i class="bi bi-x"></i>
                          </button>
                          <i class="bi bi-search search-icon" style="
                              position: absolute;
                              top: 50%;
                              transform: translateY(-50%);
                              left: 10px;
                            "></i>
                        </div>

                        <div class="d-flex align-items-center justify-content-between">
                          <h5 class="mb-0 font-16">Employee List</h5>

                          <div class="d-flex align-items-center gap-3">
                            <p class="mb-0 font-13">
                              <span class="text-primary">{{ total }} </span>
                              Total Employees
                            </p>

                            <p *ngIf="!showMappedUserToggle && selectedStaffIdsUser.length > 0"
                              class="mapped-user mb-0 font-13 pointer" (click)="showMappedUser()">
                              Mapped
                              <span class="text-primary">{{ selectedStaffIdsUser.length }} </span>User
                            </p>

                            <p *ngIf="showMappedUserToggle && selectedStaffIdsUser.length > 0"
                              class="mapped-user mb-0 font-13 pointer" (click)="showAllUser()">
                              View All Users
                            </p>

                            <span class="separator"></span>

                            <button *ngIf="selectedStaffIdsUser.length > 0" (click)="clearIds()"
                              class="p-0 btn clear-section">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19"
                                fill="none">
                                <mask id="mask0_4127_2858" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0"
                                  y="0" width="20" height="19">
                                  <rect x="0.927246" y="0.460938" width="18.1564" height="18.1564" fill="#D9D9D9" />
                                </mask>
                                <g mask="url(#mask0_4127_2858)">
                                  <path
                                    d="M5.7642 14.8373L4.70508 13.7782L8.94157 9.54171L4.70508 5.30522L5.7642 4.24609L10.0007 8.48259L14.2372 4.24609L15.2963 5.30522L11.0598 9.54171L15.2963 13.7782L14.2372 14.8373L10.0007 10.6008L5.7642 14.8373Z"
                                    fill="#FD0808" />
                                </g>
                              </svg>
                              Clear Selection
                            </button>
                          </div>
                        </div>
                        <div class="mt-3">
                          <div class="employ-list-height table-responsive">
                            <table class="table table-striped">
                              <thead class="thead-light">
                                <tr>
                                  <th style="width: 2%" class="text-left">
                                    <input type="checkBox" (click)="selectAllEmployee($event)"
                                      [checked]="allselected" />
                                  </th>
                                  <th style="width: 15%" class="text-left">
                                    Name
                                  </th>
                                  <th style="width: 30%" class="text-left">
                                    Email
                                  </th>
                                  <th style="width: 25%" class="text-left">
                                    Phone Number
                                  </th>
                                  <th style="width: 20%" class="text-center">
                                    Action
                                  </th>
                                </tr>
                              </thead>

                              <tbody *ngIf="staffs.length == 0">
                                <tr>
                                  <td colspan="9">
                                    <div class="col-md-12">
                                      <div class="d-flex justify-content-center">
                                        <img src="assets/images/no-data-found-img.svg" alt="" height="40%" width="20%">
                                      </div>
                                      <div class="d-flex justify-content-center"
                                        style="margin-top: -1%; margin-left: 4%;">
                                        <h4>No Data Available!!</h4>
                                      </div>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>

                              <tbody *ngIf="staffs.length > 0">

                                <tr *ngFor="let staff of staffs; let i = index">
                                  <td class="text-left">

                                    <input type="checkBox" name="checkBox{{ i }}" id="checkBoxid{{ i }}"
                                      (click)="selectSingle(staff, i)" [checked]="staff.checked" />

                                  </td>
                                  <td class="text-left">{{ staff.name }}</td>
                                  <td class="text-left">
                                    {{
                                    staff.email != null
                                    ? staff.email
                                    : "- - -"
                                    }}
                                  </td>
                                  <td class="text-left">
                                    {{
                                    staff.phoneNumber != null
                                    ? staff.phoneNumber
                                    : "- - -"
                                    }}
                                  </td>
                                  <td class="text-center">
                                    <button class="add-employee" *ngIf="!addEmployeeLoader(staff)"
                                      (click)="selectSingle(staff, i)">
                                      <i class="{{
                                          staff.checked
                                            ? 'bi bi-minus-lg'
                                            : 'bi bi-plus-lg'
                                        }}"></i>
                                      {{ staff.checked ? "Remove" : "Add" }}
                                    </button>

                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="d-flex align-items-center justify-content-end">
                            <div class="pagination mt-3" *ngIf="total > 8">
                              <div class="row">
                                <div class="col-md-12">
                                  <nav aria-label="Page navigation example">
                                    <ul class="pagination justify-content-end">
                                      <li class="page-item" [class.disabled]="pageNumber == 1">
                                        <a class="page-link" href="javascript:void(0);" aria-label="Previous"
                                          (click)="changePage('prev')">
                                          <span aria-hidden="true">&laquo;</span>
                                        </a>
                                      </li>
                                      <li class="page-item" *ngFor="let page of getPages()"
                                        [class.active]="pageNumber == page">
                                        <a class="page-link" href="javascript:void(0);" (click)="changePage(page)">{{
                                          page }}</a>
                                      </li>
                                      <li class="page-item" [class.disabled]="
                                          pageNumber == totalPages
                                        ">
                                        <a class="page-link" href="javascript:void(0);" aria-label="Next"
                                          (click)="changePage('next')">
                                          <span aria-hidden="true">&raquo;</span>
                                        </a>
                                      </li>
                                    </ul>
                                  </nav>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="modal-footer d-flex align-items-center justify-content-end leave-footer bg-white">

                          <button *ngIf="!registerToggle" [disabled]="
                              selectedStaffIdsUser.length == 0 || registerToggle
                            " type="submit" class="btn p-0 next-btn" (click)="registerLeaveTemplateMethodCall()">
                            {{ updateToggle ? "Update" : "Create" }} Leave
                            Policy
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"
                              fill="none">
                              <path
                                d="M1.95801 11.0005C1.95801 10.8131 2.01656 10.6609 2.13366 10.5438C2.25076 10.4267 2.40299 10.3681 2.59035 10.3681H18.1179L13.9725 6.22276C13.832 6.08224 13.7618 5.9183 13.7618 5.73094C13.7618 5.54358 13.832 5.39135 13.9725 5.27424C14.1131 5.15714 14.277 5.09859 14.4644 5.09859C14.6517 5.09859 14.8157 5.14543 14.9562 5.23911L20.2257 10.5086C20.3194 10.6492 20.3662 10.8131 20.3662 11.0005C20.3662 11.1878 20.3194 11.3518 20.2257 11.4923L14.9562 16.7618C14.8157 16.8555 14.6517 16.9023 14.4644 16.9023C14.277 16.9023 14.1131 16.8438 13.9725 16.7267C13.832 16.6096 13.7618 16.4574 13.7618 16.27C13.7618 16.0826 13.832 15.9187 13.9725 15.7782L18.1179 11.6328H2.59035C2.40299 11.6328 2.25076 11.5743 2.13366 11.4572C2.01656 11.3401 1.95801 11.1878 1.95801 11.0005Z"
                                fill="#6666F2" />
                            </svg>
                          </button>

                          <div class="dot-opacity-loader" *ngIf="registerToggle">
                            <span></span>
                            <span></span>
                            <span></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<button class="d-none" data-bs-toggle="modal" data-bs-target="#delete-leave"></button>
<div class="modal fade" id="delete-leave" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 500px" role="document">
    <div class="modal-content">
      <div class="modal-body p-0 delete-text">
        <div class="delete-image d-flex align-items-center justify-content-center pt-4 pb-4">
          <div class="delete-close-btn">
            <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close" #closeButtonDeleteLeave>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <mask id="mask0_2031_1331" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30"
                  height="30">
                  <rect width="30" height="30" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_2031_1331)">
                  <path
                    d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                    fill="black" />
                </g>
              </svg>
            </button>
          </div>
          <img src="/assets/images/delete-img.svg" style="width: 70px" />
        </div>
        <div class="bg-white p-4 text-center">

          <div *ngIf="leaveAppliedUserCount == 0">
            <h5 class="alert-heading font-18 mb-2">
              Are you sure you want to delete <br />
              {{ leaveTemplateId > 0 ? "Leave Template ?" : "Leave Category ?" }}
            </h5>
            <p class="font-11">You will not be able to recover this</p>
          </div>

          <div *ngIf="leaveAppliedUserCount > 0">
            <h5 class="alert-heading font-18 mb-2">
              Are you sure ?
            </h5>
            <p class="font-11">There are <b class="font-13">{{leaveAppliedUserCount}}</b> users who have submitted leave
              applications associated with this template. Deleting the leave
              template will permanently remove all related data and cannot be recovered</p>
          </div>

          <div class="mt-4 d-flex align-items-center flex-column">
            <button [disabled]="deleteToggle" class="btn continue-btn" *ngIf="leaveTemplateId > 0"
              (click)="deleteLeaveTemplate()">
              Continue
              <i class="fa fa-spinner fa-spin" *ngIf="deleteToggle"></i>
            </button>

            <button [disabled]="deleteToggle" class="btn continue-btn" *ngIf="leaveTemplateId == 0"
              (click)="deleteLeaveTemplateCategory()">
              Continue
              <i class="fa fa-spinner fa-spin" *ngIf="deleteToggle"></i>
            </button>
            <button class="btn cancel-btn pt-2" type="button" data-bs-dismiss="modal" aria-label="Close">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





<!-- Create expense modal start -->
<div class="modal fade" id="createExpense" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Apply for expense</h5>
            <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close" #closeExpenseButton>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <mask id="mask0_5037_2014" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                        width="24" height="24">
                        <rect width="24" height="24" fill="#D9D9D9" />
                    </mask>
                    <g mask="url(#mask0_5037_2014)">
                        <path
                            d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z"
                            fill="black" />
                    </g>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <div class="assets-request-form">
                <!-- <form #createForm="ngForm" ngNativeValidate (ngSubmit)="createExpense()"> -->
                <form #createForm="ngForm" (ngSubmit)="checkExpensePolicy(createForm)">
                <!-- <form #createForm="ngForm" ngNativeValidate (ngSubmit)="validatePolicyToggle ? checkExpensePolicy() : createExpense()"> -->
                    <div class="row register-form-box">
                        <!-- <div class="col-md-12 mb-3">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="employeeTypeId" class="mb-2">Pick a starting date</label>
                                              
                                            <nz-date-picker nzPlaceHolder="dd/mm/yyyy" name="startDate"  required>
                                            </nz-date-picker>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="employeeTypeId" class="mb-2">Pick a ending date</label>
                                        <nz-date-picker nzPlaceHolder="dd/mm/yyyy" name="startDate" required>
                                        </nz-date-picker>
                                        </div>
                                    </div>
                                </div>
                        </div> -->
                        <div class="col-md-12 mb-3">
                            <div class="form-group">
                                <label for="expenseType" class="mb-2">Expense type</label>
                                <!-- <nz-form-control>
                                    <nz-select class="form-control" style="width: 100%" nzSize="large"
                                        nzPlaceHolder="Select the leave type" (ngModelChange)="getExpenseId($event)" required>
                                        <nz-option *ngFor="let expenseType of expenseTypeList" [nzValue]="expenseType.id"
                                            [nzLabel]="expenseType.name"></nz-option>
                                    </nz-select>
                                </nz-form-control> -->

                                <nz-select  style="width: 100%" nzSize="large" nzPlaceHolder="Select Expense type"
                                  [(ngModel)]="expenseTypeId" (ngModelChange)="getExpenseId($event)" required name="expTypeId" #expTypeId="ngModel"
                                   class="form-control">
                                    <nz-option *ngFor=" let expenseType of expenseTypeList" 
                                      [nzValue]="expenseType.id" [nzLabel]="expenseType.name">
                                    </nz-option>
                                </nz-select>


                          <div *ngIf="expTypeId?.invalid && expTypeId?.touched" class="error-message">
                            Expense type is required.
                          </div>

                            </div>
                        </div>

                        <!-- [disabled]="!isCustomDateRange || updateToggle"  -->
                        <div class="col-md-12 mb-3" nz-form-item>
                          <label for="expenseDate" class="pb-2 font-12">Expense Date
                          </label>
                          <!-- <nz-form-control nzErrorTip="Please select valid date"> -->
                            <div class="d-flex justify-content-between align-items-center">
                              <nz-date-picker  [(ngModel)]="expenseTypeReq.expenseDate" nzPlaceHolder="Select Expense Date"
                                (ngModelChange)="selectExpenseDate($event)" name="expDate" #expDate="ngModel" required class="form-control">
                              </nz-date-picker>
                            </div>
                          <!-- </nz-form-control> -->
                            <div *ngIf="expDate?.touched && expDate?.invalid" style="color: red;">Expense Date is required</div>
                            <!-- <div *ngIf="isExpenseDateSelected && expDate?.touched && expDate?.invalid" style="color: red;">Expense Date is required</div> -->
                        </div>

                        <div class="col-md-12 mb-3">
                          <div class="form-group">
                              <label for="expenseAmount" class="mb-2"> Amount</label>
                              <input type="text"  required min="1"  id="amount" name="amount" placeholder="Enter Amount"
                              class="form-control" [(ngModel)]="expenseTypeReq.amount" />
                          </div>
                      </div>
                       
                        <div class="col-md-12 mb-3">
                            <div class="form-group">
                                <label for="templateName" class="mb-2"> Note</label>
                                <textarea class="form-control nots-section" required placeholder="write the note" id="notes"
                                    rows="3" name="notes" [(ngModel)]="expenseTypeReq.notes"></textarea>
                            </div>
                        </div>
                        <div class="col-md-12 ">
                            <div class="form-group ">
                                <label for="templateName" class="mb-2"> Proof document <span class="text-primary font-12">(optional)</span></label>
                                <div class="d-flex align-items-center justify-content-between  requesting-half-leave p-2" >
                                    <p class="mb-0 font-13 " style="font-weight: 400;" >Select proof document</p>
                                   
                                   <button *ngIf="!isUploading && expenseTypeReq.url == ''" type="button" (click)="fileInput.click()" class="btn p-0 text-primary font-13">
                                    <i class="bi bi-plus-lg"></i> Add File
                                  </button>

                                  <div *ngIf="isUploading" class="spinner-border spinner-border-sm text-primary m-2" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                  </div>

                                   <input type="file" #fileInput
                                        (change)="onFileSelected($event)"
                                        accept=".png, .jpg, .jpeg" style="display: none;"/>

                                </div>


                                <div *ngIf="expenseTypeReq.url != ''" class="hr-policy-file d-flex justify-content-between align-items-center p-3 mt-3">
                                    <div  class="d-flex align-items-center gap-2">
                                        <div  class="d-flex align-items-center gap-2">
                                          <!-- <svg 
                                                xmlns="http://www.w3.org/2000/svg" width="31" height="37" viewBox="0 0 31 37" fill="none">
                                                <path 
                                                    d="M25.5734 0.836118C26.0952 0.833246 26.6124 0.933548 27.0954 1.13126C27.5783 1.32897 28.0174 1.62019 28.3874 1.98817C28.7574 2.35616 29.0511 2.79365 29.2514 3.2755C29.4518 3.75734 29.5549 4.27404 29.5549 4.79588V31.7514C29.5549 32.2732 29.4518 32.7899 29.2514 33.2717C29.0511 33.7536 28.7574 34.1911 28.3874 34.5591C28.0174 34.927 27.5783 35.2183 27.0954 35.416C26.6124 35.6137 26.0952 35.714 25.5734 35.7111H5.41125C4.36105 35.7111 3.35387 35.2939 2.61127 34.5513C1.86867 33.8087 1.45148 32.8015 1.45148 31.7514V9.47495C1.44273 9.00483 1.62035 8.55034 1.94554 8.21073L8.79703 1.35924C8.96541 1.19034 9.16602 1.057 9.38693 0.967138C9.60785 0.877273 9.84457 0.832718 10.083 0.836118H25.5734Z"
                                                    fill="#F1F4F9"></path>
                                                <path 
                                                    d="M8.82579 1.35992C8.97656 1.20982 9.15396 1.0891 9.34891 1.00391V4.97094C9.34892 5.65594 9.21364 6.33419 8.95084 6.96678C8.68805 7.59936 8.30291 8.17381 7.81753 8.65717C7.33215 9.14052 6.75609 9.52326 6.12241 9.78341C5.48874 10.0436 4.80992 10.176 4.12493 10.1731H1.45118V9.44656C1.45005 8.98647 1.62712 8.5438 1.94524 8.21141L8.82579 1.35992Z"
                                                    fill="#DCDFE2"></path>
                                                <path 
                                                    d="M1.61816 8.73453C1.70335 8.53958 1.82408 8.36219 1.97418 8.21141L8.82566 1.35992C8.97644 1.20982 9.15384 1.0891 9.34879 1.00391V4.77477C9.34879 5.29538 9.24613 5.81089 9.04668 6.29178C8.84723 6.77268 8.5549 7.20952 8.18643 7.57732C7.81797 7.94511 7.38059 8.23663 6.89933 8.4352C6.41807 8.63377 5.90237 8.73549 5.38176 8.73453H1.61816Z"
                                                    fill="#6666F2"></path>
                                                <path 
                                                    d="M12.7194 19.7995C12.7409 20.1645 12.6876 20.53 12.5626 20.8737C12.4377 21.2173 12.2438 21.5317 11.9928 21.7976C11.7233 22.0475 11.4062 22.2407 11.0604 22.3655C10.7146 22.4903 10.3473 22.5443 9.98023 22.5241H8.31641V17.3147H10.111C10.8118 17.2674 11.5031 17.497 12.0364 17.9541C12.2751 18.1953 12.4595 18.4847 12.5773 18.803C12.695 19.1213 12.7435 19.461 12.7194 19.7995ZM11.2662 19.8504C11.2957 19.4748 11.1957 19.1005 10.9829 18.7896C10.8753 18.6714 10.7421 18.5792 10.5936 18.52C10.4451 18.4608 10.285 18.4363 10.1255 18.4481H9.71867V21.3544H10.0311C10.2053 21.3685 10.3804 21.3425 10.5429 21.2782C10.7054 21.214 10.851 21.1133 10.9684 20.9838C11.1907 20.6495 11.2955 20.2508 11.2662 19.8504Z"
                                                    fill="#6666F2"></path>
                                                <path 
                                                    d="M18.3215 19.9018C18.3738 20.6276 18.1448 21.3456 17.6822 21.9071C17.433 22.1453 17.137 22.3289 16.8131 22.4465C16.4891 22.5641 16.1442 22.613 15.8004 22.5901C15.4544 22.6072 15.1088 22.5513 14.7858 22.4261C14.4629 22.301 14.1699 22.1093 13.9258 21.8635C13.4573 21.3106 13.2251 20.5955 13.2792 19.8728C13.2258 19.1545 13.4582 18.4443 13.9258 17.8965C14.1737 17.6565 14.4694 17.4716 14.7937 17.3539C15.118 17.2362 15.4636 17.1884 15.8076 17.2136C16.1499 17.1898 16.4933 17.2377 16.816 17.354C17.1388 17.4704 17.4338 17.6526 17.6822 17.8893C18.1507 18.4504 18.3803 19.1731 18.3215 19.9018ZM14.7541 19.9018C14.7541 20.9045 15.1029 21.4058 15.8004 21.4058C15.9512 21.4166 16.1023 21.3889 16.2396 21.3254C16.3768 21.2619 16.4957 21.1645 16.5851 21.0425C16.7846 20.6971 16.8757 20.2997 16.8466 19.9018C16.8758 19.5017 16.7847 19.1019 16.5851 18.7539C16.4972 18.6316 16.3798 18.5335 16.2439 18.4688C16.108 18.404 15.9579 18.3746 15.8076 18.3833C15.1029 18.3833 14.7541 18.8919 14.7541 19.9018Z"
                                                    fill="#6666F2"></path>
                                                <path 
                                                    d="M21.3881 18.3893C21.2335 18.3847 21.0802 18.4196 20.9429 18.4908C20.8056 18.562 20.6887 18.6671 20.6034 18.7961C20.3999 19.1377 20.3037 19.5326 20.3273 19.9296C20.3273 20.925 20.7051 21.4263 21.4608 21.4263C21.6868 21.425 21.9116 21.3932 22.1292 21.3318C22.3472 21.2665 22.5651 21.1865 22.7831 21.0993V22.2836C22.3238 22.4793 21.8292 22.5783 21.33 22.5743C20.997 22.5999 20.6624 22.5534 20.3489 22.438C20.0355 22.3227 19.7506 22.1412 19.5136 21.9058C19.0591 21.3543 18.8329 20.6498 18.8815 19.9368C18.8652 19.435 18.9699 18.9366 19.1866 18.4837C19.3769 18.0911 19.6806 17.7646 20.0585 17.5465C20.47 17.3211 20.9336 17.2083 21.4026 17.2195C21.9582 17.2196 22.5068 17.3438 23.0083 17.5828L22.5797 18.709C22.3943 18.6195 22.2024 18.5442 22.0057 18.4837C21.8063 18.4188 21.5977 18.3869 21.3881 18.3893Z"
                                                    fill="#6666F2"></path>
                                            </svg> -->
                                            <img src="{{expenseTypeReq.url}}" alt="" width="31" height="37">
                                            <h5  class="mb-0 font-14 mx-2 mt-2">{{fileName}}</h5>
                                        </div>
                                        <!-- <span  class="separator"></span> -->
                                        <!-- <p  class="mb-0 font-13"> {{lastModifiedDate}} </p> -->
                                    </div>
                                    <div  class="d-flex align-items-center gap-2 action-icon-btn">
                                      <span>
                                        <svg  xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                viewBox="0 0 22 22" fill="none">
                                                <mask  id="mask0_4339_1635" maskUnits="userSpaceOnUse" x="0" y="0" width="22"
                                                    height="22" style="mask-type: alpha;">
                                                    <rect  width="21.8342" height="21.8342" fill="#D9D9D9"></rect>
                                                </mask>
                                                <g  mask="url(#mask0_4339_1635)">
                                                    <path 
                                                        d="M10.9189 14.1711C11.9498 14.1711 12.8254 13.8103 13.5456 13.0888C14.2658 12.3672 14.6259 11.4909 14.6259 10.46C14.6259 9.4291 14.2651 8.55354 13.5435 7.83331C12.822 7.11308 11.9457 6.75297 10.9148 6.75297C9.88389 6.75297 9.00833 7.11377 8.2881 7.83536C7.56788 8.55695 7.20776 9.4332 7.20776 10.4641C7.20776 11.495 7.56856 12.3706 8.29015 13.0908C9.01174 13.811 9.88799 14.1711 10.9189 14.1711ZM10.9168 12.9184C10.2345 12.9184 9.65456 12.6796 9.17694 12.202C8.69931 11.7243 8.4605 11.1444 8.4605 10.4621C8.4605 9.77974 8.69931 9.19977 9.17694 8.72214C9.65456 8.24452 10.2345 8.00571 10.9168 8.00571C11.5992 8.00571 12.1791 8.24452 12.6568 8.72214C13.1344 9.19977 13.3732 9.77974 13.3732 10.4621C13.3732 11.1444 13.1344 11.7243 12.6568 12.202C12.1791 12.6796 11.5992 12.9184 10.9168 12.9184ZM10.918 16.8304C8.826 16.8304 6.91983 16.2533 5.19947 15.0991C3.47912 13.9451 2.21243 12.3994 1.39941 10.4621C2.21243 8.52473 3.47867 6.97905 5.19811 5.82502C6.9177 4.67084 8.82357 4.09375 10.9157 4.09375C13.0077 4.09375 14.9139 4.67084 16.6342 5.82502C18.3546 6.97905 19.6213 8.52473 20.4343 10.4621C19.6213 12.3994 18.355 13.9451 16.6356 15.0991C14.916 16.2533 13.0101 16.8304 10.918 16.8304ZM10.9168 15.4657C12.6302 15.4657 14.2033 15.0146 15.6362 14.1125C17.0691 13.2103 18.1646 11.9935 18.9227 10.4621C18.1646 8.93063 17.0691 7.71383 15.6362 6.81165C14.2033 5.90948 12.6302 5.45839 10.9168 5.45839C9.20347 5.45839 7.63035 5.90948 6.19748 6.81165C4.76461 7.71383 3.66911 8.93063 2.91098 10.4621C3.66911 11.9935 4.76461 13.2103 6.19748 14.1125C7.63035 15.0146 9.20347 15.4657 10.9168 15.4657Z"
                                                        fill="#1C1B1F"></path>
                                                </g>
                                            </svg>
                                            
                                        </span>
                                        <input  id="hrpolicies" type="file" name="hrpolicies"
                                            accept="application/pdf" class="input" style="display: none;">
                                            <span >

                                            </span>
                                            <!-- <span  class="ng-star-inserted"><svg 
                                                xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" fill="none">
                                                <mask  id="mask0_4339_1623" maskUnits="userSpaceOnUse" x="0" y="0" width="23"
                                                    height="22" style="mask-type: alpha;">
                                                    <rect  x="0.267578" width="21.8342" height="21.8342" fill="#444444"></rect>
                                                </mask>
                                                <g  mask="url(#mask0_4339_1623)">
                                                    <path 
                                                        d="M4.81581 17.2927H5.96347L15.2762 7.97992L14.1285 6.83226L4.81581 16.145V17.2927ZM3.45117 18.6573V15.5782L15.4513 3.58328C15.5889 3.45834 15.7407 3.36183 15.9069 3.29375C16.0732 3.22552 16.2476 3.19141 16.43 3.19141C16.6124 3.19141 16.7891 3.22378 16.9599 3.28852C17.131 3.35327 17.2824 3.45622 17.4141 3.59739L18.5252 4.7223C18.6663 4.85406 18.7669 5.00569 18.827 5.17718C18.887 5.34867 18.9171 5.52016 18.9171 5.69165C18.9171 5.87466 18.8858 6.04926 18.8234 6.21544C18.7609 6.38178 18.6615 6.53371 18.5252 6.67123L6.53025 18.6573H3.45117ZM14.6924 7.4161L14.1285 6.83226L15.2762 7.97992L14.6924 7.4161Z"
                                                        fill="#444444"></path>
                                                </g>
                                            </svg>
                                        </span> -->
                                            <span >
                                              <svg (click)="deleteImage()" xmlns="http://www.w3.org/2000/svg" width="23" height="22"
                                                viewBox="0 0 23 22" fill="none">
                                                <mask  id="mask0_4339_1620" maskUnits="userSpaceOnUse" x="0" y="0" width="23"
                                                    height="22" style="mask-type: alpha;">
                                                    <rect  x="0.535156" width="21.8342" height="21.8342" fill="#D9D9D9"></rect>
                                                </mask>
                                                <g  mask="url(#mask0_4339_1620)">
                                                    <path 
                                                        d="M7.18328 18.6577C6.72961 18.6577 6.34206 18.497 6.02061 18.1757C5.69931 17.8543 5.53866 17.4667 5.53866 17.0131V5.46619H4.62891V4.10156H8.72282V3.29688H14.1814V4.10156H18.2753V5.46619H17.3655V17.0131C17.3655 17.4726 17.2063 17.8616 16.8879 18.1801C16.5695 18.4985 16.1805 18.6577 15.7209 18.6577H7.18328ZM16.0009 5.46619H6.9033V17.0131C6.9033 17.0948 6.92953 17.1619 6.982 17.2144C7.03446 17.2668 7.10155 17.293 7.18328 17.293H15.7209C15.791 17.293 15.8551 17.2639 15.9133 17.2055C15.9717 17.1473 16.0009 17.0831 16.0009 17.0131V5.46619ZM9.09036 15.4735H10.4548V7.28571H9.09036V15.4735ZM12.4494 15.4735H13.8138V7.28571H12.4494V15.4735Z"
                                                        fill="#FF0000"></path>
                                                </g>
                                            </svg>
                                          </span>
                                        </div>
                                </div>
                            </div>
                        </div> <!-- proof end -->

                        <div *ngIf="validatePolicyToggle" class="alert bg-soft-warning border">
                          This Expense is valid for amount: {{limitAmount}}
                          <div>
                            <span>Do you continue</span>
                            <button (click)="createExpense(createForm)">Continue</button>
                            <button (click)="setValidateToggle()">No</button>
                          </div>
                        </div>


                        <!-- <div class="modal-footer">
                          <button type="button" class="btn cancel-btn" data-bs-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn submitActionBtn" [disabled]="expenseTypeReq.expenseTypeId == 0" >Submit</button>
                      </div> -->

                    </div>

                    <div *ngIf="!validatePolicyToggle" class="modal-footer">
                      <button type="button" class="btn cancel-btn" data-bs-dismiss="modal">Cancel</button>
                      <!-- <button type="submit" class="btn submitActionBtn" [disabled]="expenseTypeReq.expenseTypeId == 0" >Submit</button> -->
                      <button type="submit" class="btn submitActionBtn" 
                      [disabled]="expenseTypeReq.expenseTypeId == 0 || expenseTypeReq.expenseDate == undefined || expenseTypeReq.notes == '' || expenseTypeReq.amount == 0" >Submit</button>
                  </div>

                </form>
            </div>
        </div>
        <!-- <div class="modal-footer">
            <button type="button" class="btn cancel-btn" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn submitActionBtn" (click)="createExpense()" >Submit</button>
        </div> -->
    </div>
</div>
</div>
<!-- Create expense modal end -->