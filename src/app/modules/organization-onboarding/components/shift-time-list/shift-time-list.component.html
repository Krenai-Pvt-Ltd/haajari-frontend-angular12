<div class="page-wrapper">
  <div class="page-content-tab-onbording">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="persnol-details">
            <div class="card-header p-0 pb-3 bg-white">
              <h4 class="card-title">Shift Time</h4>
              <p class="text-muted mb-0">
                To enhance your experience and ensure accurate shift scheduling
                and communication within our platform, we kindly ask you to
                review and update your shift information.
              </p>
            </div>

            <ng-container *ngIf="allShiftTimingsLoader">
              <div class="">
                <div class="text-end">
                  <ngx-shimmer-loading
                    [width]="'40%'"
                    [height]="'20px'"
                    style="border-radius: 50%"
                  ></ngx-shimmer-loading>
                </div>
              </div>

              <div
                class="mt-3"
                style="
                  border: 1px solid #f5f5f5;
                  padding: 5px;
                  border-radius: 6px;
                "
              >
                <div
                  class="row"
                  style="
                    border-bottom: 1px solid #f5f5f5;
                    padding-top: 10px;
                    padding-bottom: 10px;
                  "
                >
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-3">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'20px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="">
                      <ngx-shimmer-loading
                        [width]="'100%'"
                        [height]="'30px'"
                        style="border-radius: 50%"
                      ></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <div
              class="add-shift-main-box mt-5"
              *ngIf="
                !allShiftTimingsLoader &&
                organizationShiftTimingWithShiftTypeResponseList.length > 0
              "
            >
              <div
                class="add-shift-box d-flex align-items-center justify-content-between p-3"
              >
                <div class="">
                  <h6 class="text-truncate mb-0">Shifts</h6>
                </div>
                <div class="">
                  <a
                    class="add-shift-time-btn"
                    routerLink="/organization-onboarding/add-shift-time"
                    ><i class="bi bi-plus"></i>
                    Add More Shifts
                  </a>
                </div>
              </div>

              <div class="shift-setting-box">
                <div
                  class="shift-time p-3 m-3"
                  *ngFor="
                    let organizationShiftTimingWithShiftTypeResponse of organizationShiftTimingWithShiftTypeResponseList;
                    let i = index
                  "
                >
                  <div class="">
                    <div
                      class="d-flex align-items-center justify-content-between"
                    >
                      <div class="d-flex align-items-center gap-3">
                        <div class="">
                          <span
                            class="automation-rules-icon d-flex align-items-center justify-content-center"
                          >
                            <img src="assets/images/rule-icon.svg" />
                          </span>
                        </div>
                        <div class="">
                          <h6 class="text-truncate mb-0">
                            {{
                              organizationShiftTimingWithShiftTypeResponse
                                .shiftType.name
                            }}
                          </h6>
                          <small class="text-muted"
                            >Define the late entry rules for the
                            employees</small
                          >
                        </div>
                      </div>
                      <div class="">
                        <!-- <span
                          class="automation-rules-toogel-btn pointer"
                          data-bs-toggle="collapse"
                          href="#multiCollapseExample1"
                          role="button"
                          aria-expanded="false"
                          aria-controls="multiCollapseExample1"
                          ><i class="bi bi-chevron-down"></i
                        ></span> -->

                        <span
                          data-bs-toggle="collapse"
                          role="button"
                          class="automation-rules-toogel-btn pointer"
                          [attr.data-bs-target]="'#multiCollapseExample' + i"
                          [attr.aria-controls]="'multiCollapseExample' + i"
                          [attr.aria-expanded]="
                            activeIndex == i ? 'true' : 'false'
                          "
                          (click)="toggleCollapse(i)"
                        >
                          <i class="bi bi-chevron-down"></i>
                        </span>
                      </div>
                    </div>

                    <div
                      class="collapse multi-collapse"
                      [id]="'multiCollapseExample' + i"
                      [class.show]="activeIndex === i"
                      *ngFor="
                        let organizationShiftTimingResponse of organizationShiftTimingWithShiftTypeResponse.organizationShiftTimingResponseList
                      "
                    >
                      <div
                        class="d-flex align-items-center justify-content-between mt-3"
                      >
                        <div class="">
                          <p class="mb-0">
                            <i
                              class="bi bi-arrow-right"
                              style="padding-right: 10px"
                            ></i>
                            {{ organizationShiftTimingResponse.name }}
                          </p>
                        </div>
                        <div class="d-flex align-items-center gap-4">
                          <!-- <i class="bi bi-pencil pointer"></i>
                          <i class="bi bi-people"></i>
                          <i class="bi bi-trash pointer text-danger"></i> -->

                          <a
                            style="cursor: pointer"
                            data-bs-toggle="modal"
                            data-bs-target="#shiftTime"
                            (click)="
                              updateOrganizationShiftTiming(
                                organizationShiftTimingResponse,
                                'STAFF_SELECTION'
                              )
                            "
                            ><i class="bi bi-people"></i
                          ></a>
                          <p
                            style="color: #d7d7d7; margin-bottom: 0px"
                            class="ng-star-inserted"
                          >
                            |
                          </p>
                          <a
                            style="cursor: pointer"
                            data-bs-toggle="modal"
                            data-bs-target="#shiftTime"
                            (click)="
                              updateOrganizationShiftTiming(
                                organizationShiftTimingResponse,
                                'SHIFT_TIME'
                              )
                            "
                            ><i class="bi bi-pencil pointer"></i
                          ></a>
                          <p
                            style="color: #d7d7d7; margin-bottom: 0px"
                            class="ng-star-inserted"
                          >
                            |
                          </p>

                          <a
                            style="cursor: pointer"
                            class="delete-rule"
                            (click)="
                              deleteOrganizationShiftTimingMethodCall(
                                organizationShiftTimingResponse.id
                              )
                            "
                            *ngIf="
                              !deleteOrganizationShiftTimingTemplateLoader(
                                organizationShiftTimingResponse.id
                              )
                            "
                          >
                            <i class="bi bi-trash pointer text-danger"></i>
                          </a>
                          <div
                            class="dot-opacity-loader"
                            *ngIf="
                              deleteOrganizationShiftTimingTemplateLoader(
                                organizationShiftTimingResponse.id
                              )
                            "
                          >
                            <span style="background-color: #6666f3"></span>
                            <span style="background-color: #6666f3"></span>
                            <span style="background-color: #6666f3"></span>
                          </div>
                        </div>
                      </div>

                      <div class="shift-in-out-box bg-white row mt-3 p-3 m-0">
                        <div class="col-md-4">
                          <div class="shift-in-out-time mb-3">
                            <p class="mb-0">
                              In Time |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.inTime
                              }}</span>
                            </p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="shift-in-out-time mb-3">
                            <p class="mb-0">
                              Out Time |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.outTime
                              }}</span>
                            </p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="shift-in-out-time mb-3">
                            <p class="mb-0">
                              Working Time |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.workingHour
                              }}</span>
                            </p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="shift-in-out-time">
                            <p class="mb-0">
                              Break Time |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.startLunch
                              }}</span>
                            </p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="shift-in-out-time">
                            <p class="mb-0">
                              Back Time |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.endLunch
                              }}</span>
                            </p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="shift-in-out-time">
                            <p class="mb-0">
                              Total Break Hour |
                              <span style="color: #3f988f">{{
                                organizationShiftTimingResponse.lunchHour
                              }}</span>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- <div
              class=""
              *ngIf="
                !allShiftTimingsLoader &&
                organizationShiftTimingWithShiftTypeResponseList.length > 0
              "
            >
              <div>
                <div
                  class="d-flex align-items-center justify-content-end mt-3 p-0"
                >
                  <a
                    type="button"
                    class="btn add-shift-time"
                    routerLink="/organization-onboarding/add-shift-time"
                  >
                    + Add more shift
                  </a>
                </div>
                <div
                  class="rule-main-box mt-4"
                  *ngFor="
                    let organizationShiftTimingWithShiftTypeResponse of organizationShiftTimingWithShiftTypeResponseList
                  "
                >
                  <div
                    class="attendance-boxx d-flex align-items-center justify-content-between"
                  >
                    <div class="late-rule">
                      <h5>
                        {{
                          organizationShiftTimingWithShiftTypeResponse.shiftType
                            .name
                        }}
                      </h5>
                    </div>
                  </div>

                  <div
                    class="row mt-2 p-2"
                    *ngFor="
                      let organizationShiftTimingResponse of organizationShiftTimingWithShiftTypeResponse.organizationShiftTimingResponseList
                    "
                  >
                    <div
                      class="col-md-12 d-flex justify-content-between align-items-center pb-2"
                    >
                      <p
                        class="mb-0 mb-2"
                        style="font-size: 12px; font-weight: 500"
                      >
                        {{ organizationShiftTimingResponse.name }}
                      </p>
                      <div
                        class="late-btn d-flex align-items-center justify-content-end mb-2"
                        style="gap: 15px; margin-right: 15px"
                      >
                        <a
                          style="cursor: pointer"
                          data-bs-toggle="modal"
                          data-bs-target="#shiftTime"
                          (click)="
                            updateOrganizationShiftTiming(
                              organizationShiftTimingResponse,
                              'STAFF_SELECTION'
                            )
                          "
                          ><i class="bi bi-person-circle"></i> User</a
                        >
                        <p
                          style="color: #d7d7d7; margin-bottom: 0px"
                          class="ng-star-inserted"
                        >
                          |
                        </p>
                        <a
                          style="cursor: pointer"
                          data-bs-toggle="modal"
                          data-bs-target="#shiftTime"
                          (click)="
                            updateOrganizationShiftTiming(
                              organizationShiftTimingResponse,
                              'SHIFT_TIME'
                            )
                          "
                          ><i class="bi bi-pencil-square"></i> Edit</a
                        >
                        <p
                          style="color: #d7d7d7; margin-bottom: 0px"
                          class="ng-star-inserted"
                        >
                          |
                        </p>

                        <a
                          style="cursor: pointer"
                          class="delete-rule"
                          (click)="
                            deleteOrganizationShiftTimingMethodCall(
                              organizationShiftTimingResponse.id
                            )
                          "
                          *ngIf="
                            !deleteOrganizationShiftTimingTemplateLoader(
                              organizationShiftTimingResponse.id
                            )
                          "
                        >
                          <i class="bi bi-trash"></i> Delete</a
                        >
                        <div
                          class="dot-opacity-loader"
                          *ngIf="
                            deleteOrganizationShiftTimingTemplateLoader(
                              organizationShiftTimingResponse.id
                            )
                          "
                        >
                          <span style="background-color: #6666f3"></span>
                          <span style="background-color: #6666f3"></span>
                          <span style="background-color: #6666f3"></span>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          In Time |
                          <span style="color: #009688">{{
                            organizationShiftTimingResponse.inTime
                          }}</span>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          Out Time |
                          <span style="color: #009688">{{
                            organizationShiftTimingResponse.outTime
                          }}</span>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          Working Hours |
                          <span style="color: #009688">{{
                            organizationShiftTimingResponse.workingHour
                          }}</span>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          Break Time |
                          <span style="color: #009688">{{
                            organizationShiftTimingResponse.startLunch
                          }}</span>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          Back Time |
                          <span style="color: #009688">{{
                            organizationShiftTimingResponse.endLunch
                          }}</span>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="shift-deta">
                        <p class="mb-0">
                          Total Break Hours |
                          <span style="color: #009688">
                            {{
                              organizationShiftTimingResponse.lunchHour
                            }}</span
                          >
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> -->

            <!-- <div class="mt-5" *ngIf="!allShiftTimingsLoader && organizationShiftTimingWithShiftTypeResponseList.length==0">
                                                <div class="errorboxmain">
                                                    <div class="errorboxinner">
                                                        <div class="">
                                                            <button type="button"
                                                                routerLink="/organization-onboarding/add-shift-time"
                                                                class="btn btn-primary skip-btn" routerLink="/organization-onboarding/add-shift-time"> Add Shift Time
                                                            </button>
                                                            <p class="skip-btn-para">You can assign different shift's to your employees </p>
                                                        </div>

                                                        
                                                    </div>
                                                </div>
                                        </div> -->
          </div>

          <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-8">
              <div
                class="next-btn-box d-flex align-items-center justify-content-between"
              >
                <button
                  class="btn btn-outline-secondary btn-round previous-btn"
                  type="button"
                  (click)="backPage()"
                >
                  <span *ngIf="!isShiftTimeBackLoading"
                    ><i
                      class="bi bi-arrow-left"
                      style="
                        padding-right: 3px;
                        padding-right: 1px;
                        position: relative;
                        top: -1px;
                      "
                    ></i>
                    Previous</span
                  >

                  <div
                    class="dot-opacity-loader"
                    *ngIf="isShiftTimeBackLoading"
                  >
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>

                <button
                  type="submit"
                  class="btn btn-outline-primary btn-round"
                  (click)="nextPage()"
                >
                  <span *ngIf="!isShiftListNextLoading"
                    >Next
                    <i class="bi bi-arrow-right" style="padding-left: 8px"></i
                  ></span>

                  <div
                    class="dot-opacity-loader"
                    *ngIf="isShiftListNextLoading"
                  >
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="shiftTime"
  data-bs-dismiss="static"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          Shift Time
        </h6>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="clearShiftTimingModel()"
          #closeShiftTimingModal
        ></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="">
          <ul id="myTab" role="tablist" class="nav nav-tabs">
            <li role="presentation" class="nav-item">
              <button
                id="home-tab"
                data-bs-toggle="tab"
                data-bs-target="#shiftime"
                type="button"
                role="tab"
                aria-controls="shiftime"
                aria-selected="true"
                class="nav-link active"
                #shiftTimingActiveTab
              >
                Shift Time
              </button>
            </li>
            <li role="presentation" class="nav-item">
              <button
                id="profile-tab"
                data-bs-toggle="tab"
                [class.disabled]="shiftForm.invalid"
                [attr.aria-selected]="!shiftForm.invalid"
                [attr.tabindex]="shiftForm.invalid ? -1 : null"
                (click)="
                  !shiftForm.invalid && staffActiveTabInShiftTimingMethod()
                "
                data-bs-target="#staffselection"
                type="button"
                role="tab"
                aria-controls="staffselection"
                aria-selected="false"
                class="nav-link"
                #staffActiveTabInShiftTiming
              >
                Staff selection
              </button>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div
              class="tab-pane fade show active"
              id="shiftime"
              role="tabpanel"
            >
              <form
                #shiftForm="ngForm"
                ngNativeValidate
                (ngSubmit)="submitShiftTimingForm()"
              >
                <div class="row p-3">
                  <!-- Dropdown for Shift Type -->
                  <div class="col-md-6">
                    <!-- Existing dropdown code for shift types -->
                    <div class="form-fild">
                      <label for="exampleInputEmail1" class="pb-2"
                        >Shift Type</label
                      >

                      <div class="dropdown">
                        <button
                          class="btn btn-secondary dropdown-toggle new-dropdown"
                          type="button"
                          id="dropdownMenuButton1"
                          data-bs-toggle="dropdown"
                          aria-expanded="false"
                          style="
                            text-align: left;
                            background-color: white;
                            color: black;
                            border-color: #ced4da;
                            width: 100%;
                          "
                        >
                          {{ selectedShiftType?.name || "Select shift type" }}
                          <i class="bi bi-chevron-down"></i>
                        </button>
                        <ul
                          class="dropdown-menu"
                          aria-labelledby="dropdownMenuButton1"
                          style="width: 100%"
                        >
                          <li *ngFor="let shiftType of shiftTypeList">
                            <a
                              class="dropdown-item"
                              (click)="selectShiftType(shiftType)"
                            >
                              {{ shiftType.name }}
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <!-- Shift Name Input -->
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="shiftName" class="pb-2">Shift Name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="shiftName"
                        placeholder="Shift name"
                        required
                        [(ngModel)]="organizationShiftTimingRequest.name"
                        name="shiftName"
                      />
                    </div>
                  </div>

                  <!-- In Time Input -->
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="inTime" class="pb-2">In Time</label>
                      <input
                        id="inTime"
                        type="time"
                        class="form-control"
                        required
                        [(ngModel)]="organizationShiftTimingRequest.inTime"
                        name="inTime"
                        (change)="calculateTimes()"
                      />
                      <div
                        *ngIf="
                          organizationShiftTimingValidationErrors['inTime']
                        "
                        class="text-danger"
                      >
                        {{ organizationShiftTimingValidationErrors["inTime"] }}
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="outTime" class="pb-2">Out Time</label>
                      <input
                        id="outTime"
                        type="time"
                        [class.is-invalid]="
                          organizationShiftTimingValidationErrors['outTime']
                        "
                        class="form-control"
                        required
                        [(ngModel)]="organizationShiftTimingRequest.outTime"
                        name="outTime"
                        (change)="calculateTimes()"
                      />
                      <!-- Error Message for Out Time -->
                      <div
                        *ngIf="
                          organizationShiftTimingValidationErrors['outTime']
                        "
                        class="text-danger"
                      >
                        {{ organizationShiftTimingValidationErrors["outTime"] }}
                      </div>
                    </div>
                  </div>

                  <!-- Working Hours Display -->
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="workingHours" class="pb-2"
                        >Working Hours</label
                      >
                      <input
                        id="workingHours"
                        type="text"
                        class="form-control"
                        readonly
                        [(ngModel)]="organizationShiftTimingRequest.workingHour"
                        name="workingHours"
                        placeholder="Working hours"
                      />
                    </div>
                  </div>

                  <!-- Lunch Break Start Time Input -->
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="lunchBreakStartTime" class="pb-2"
                        >Lunch Break Start Time</label
                      >
                      <input
                        id="lunchBreakStartTime"
                        type="time"
                        [class.is-invalid]="
                          organizationShiftTimingValidationErrors['startLunch']
                        "
                        class="form-control"
                        required
                        [(ngModel)]="organizationShiftTimingRequest.startLunch"
                        name="lunchBreakStartTime"
                        (change)="calculateTimes()"
                      />
                      <div
                        *ngIf="
                          organizationShiftTimingValidationErrors['startLunch']
                        "
                        class="text-danger"
                      >
                        {{
                          organizationShiftTimingValidationErrors["startLunch"]
                        }}
                      </div>
                    </div>
                  </div>

                  <!-- Lunch Break End Time Input -->
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="lunchBreakEndTime" class="pb-2"
                        >Lunch Break End Time</label
                      >
                      <input
                        id="lunchBreakEndTime"
                        type="time"
                        [class.is-invalid]="
                          organizationShiftTimingValidationErrors['endLunch']
                        "
                        class="form-control"
                        required
                        [(ngModel)]="organizationShiftTimingRequest.endLunch"
                        name="lunchBreakEndTime"
                        (change)="calculateTimes()"
                      />
                      <div
                        *ngIf="
                          organizationShiftTimingValidationErrors['endLunch']
                        "
                        class="text-danger"
                      >
                        {{
                          organizationShiftTimingValidationErrors["endLunch"]
                        }}
                      </div>
                    </div>
                  </div>

                  <!-- Lunch Break Duration Display -->
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="totalLunchBreakDuration" class="pb-2"
                        >Total Lunch Break Duration</label
                      >
                      <input
                        id="totalLunchBreakDuration"
                        type="text"
                        class="form-control"
                        readonly
                        [(ngModel)]="organizationShiftTimingRequest.lunchHour"
                        name="totalLunchBreakDuration"
                        placeholder="Lunch break hours"
                      />
                    </div>
                  </div>
                </div>

                <!-- Submit Button -->
                <div class="modal-footer">
                  <button
                    type="submit"
                    class="btn btn-primary"
                    [disabled]="shiftForm.invalid"
                    (click)="staffActiveTabInShiftTimingMethod()"
                  >
                    Next
                  </button>
                </div>
              </form>
            </div>

            <div class="tab-pane fade" id="staffselection" role="tabpanel">
              <div class="staf-list-box mt-3">
                <div class="row mb-3">
                  <div class="col-md-6">
                    <div>
                      <h5>
                        Userlist
                        <span
                          style="
                            color: #4761f6;
                            background-color: #d1d6f2;
                            padding: 5px;
                            border-radius: 5px;
                          "
                          ><b>{{ total }}</b></span
                        >
                      </h5>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <form
                      novalidate=""
                      role="search"
                      (submit)="searchUsers()"
                      class="searching ng-untouched ng-pristine ng-valid"
                    >
                      <div class="form-group" style="position: relative">
                        <input
                          type="search"
                          id="searchText"
                          placeholder="Search by name and role"
                          class="form-control me-2 ng-untouched ng-pristine ng-valid"
                          (keyup)="searchUsers()"
                          [(ngModel)]="searchText"
                          [ngModelOptions]="{ standalone: true }"
                          style="padding: 10px 50px 10px 30px"
                        />
                      </div>
                    </form>
                  </div>
                </div>

                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                  "
                >
                  <div *ngIf="selectedStaffsUuids.length > 0">
                    <ng-container
                      *ngIf="
                        selectedStaffsUuids.length === total;
                        else elseCondition2
                      "
                    >
                      <span
                        (click)="unselectAllUsers()"
                        style="
                          cursor: pointer;
                          color: #eb5050;
                          background-color: #fcf1f1;
                          padding: 8px;
                          border-radius: 5px;
                        "
                        >Clear all users <i class="bi bi-x"></i
                      ></span>
                    </ng-container>
                    <ng-template #elseCondition2>
                      <span
                        (click)="selectAllUsers(true)"
                        style="
                          cursor: pointer;
                          color: #4761f6;
                          background-color: #eef1ff;
                          padding: 8px;
                          border-radius: 5px;
                        "
                        >Select all {{ total }} users</span
                      >
                    </ng-template>
                  </div>

                  <div *ngIf="selectedStaffsUuids.length !== 0">
                    <ng-container
                      *ngIf="
                        selectedStaffsUuids.length === total;
                        else elseCondition1
                      "
                    >
                      <span
                        >All <b>{{ total }}</b> users selected</span
                      >
                    </ng-container>
                    <ng-template #elseCondition1>
                      <span
                        ><b>{{ selectedStaffsUuids.length }}</b> selected of
                        <b>{{ total }}</b></span
                      >
                      <span style="cursor: pointer" (click)="unselectAllUsers()"
                        ><i class="bi bi-x"></i
                      ></span>
                    </ng-template>
                  </div>
                </div>

                <table class="table">
                  <thead class="thead-light">
                    <tr>
                      <th style="width: 0%">
                        <input
                          type="checkbox"
                          style="cursor: pointer"
                          class="form-check-input"
                          [(ngModel)]="isAllSelected"
                          (change)="selectAll(isAllSelected)"
                        />
                      </th>
                      <!-- <th style="width:25%; padding: 12px 15px;">S. No.</th> -->
                      <th style="width: 25%; padding: 12px 15px">Name</th>

                      <th
                        style="width: 25%; padding: 12px 15px"
                        *ngIf="onboardingViaString === 'SLACK'"
                      >
                        Email
                      </th>
                      <th
                        style="width: 25%; padding: 12px 15px"
                        *ngIf="onboardingViaString === 'WHATSAPP'"
                      >
                        Phone Number
                      </th>
                    </tr>
                  </thead>
                  <tbody *ngIf="staffs.length == 0">
                    <tr>
                      <td colspan="4">
                        <div
                          class="errorboxmain bg-white d-flex align-items-center justify-content-center"
                        >
                          <div class="errorboxinner">
                            <div class="errorboxplaceholder mb-2">
                              <img
                                src="assets/images/addnewproduct.svg"
                                style="width: 100px"
                              />
                            </div>

                            <h4>No Data Found</h4>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                  <tbody>
                    <tr
                      *ngFor="
                        let staff of staffs
                          | paginate
                            : {
                                itemsPerPage: itemPerPage,
                                currentPage: pageNumber,
                                totalItems: total
                              }
                      "
                      style="border-bottom: 1px solid #dddddd"
                    >
                      <td>
                        <div class="form-check">
                          <input
                            type="checkbox"
                            style="cursor: pointer"
                            class="form-check-input"
                            [(ngModel)]="staff.selected"
                            (change)="checkIndividualSelection()"
                          />
                        </div>
                      </td>
                      <!-- <td style="padding: 12px 15px;">{{ i+1 }}</td> -->
                      <td style="padding: 12px 15px">{{ staff.name }}</td>
                      <td
                        style="padding: 12px 15px"
                        *ngIf="onboardingViaString === 'SLACK'"
                      >
                        {{ staff.email }}
                      </td>
                      <td
                        style="padding: 12px 15px"
                        *ngIf="onboardingViaString === 'WHATSAPP'"
                      >
                        {{ staff.phoneNumber ? staff.phoneNumber : "N/A" }}
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <!-- *ngIf="staffs.length > 8" -->
              <div
                class="pagination pl-3 align-items-center justify-content-between"
                *ngIf="itemPerPage > 8"
              >
                <p style="padding-left: 15px">
                  Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                  {{ total }} teams
                </p>
                <div>
                  <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-end">
                      <li class="page-item" [class.disabled]="pageNumber == 1">
                        <a
                          class="page-link"
                          href="javascript:void(0);"
                          aria-label="Previous"
                          (click)="changePage('prev')"
                        >
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                      </li>
                      <li
                        class="page-item"
                        *ngFor="let page of getPages()"
                        [class.active]="pageNumber == page"
                      >
                        <a
                          class="page-link"
                          href="javascript:void(0);"
                          (click)="changePage(page)"
                          >{{ page }}</a
                        >
                      </li>
                      <li
                        class="page-item"
                        [class.disabled]="pageNumber == totalPages"
                      >
                        <a
                          class="page-link"
                          href="javascript:void(0);"
                          aria-label="Next"
                          (click)="changePage('next')"
                        >
                          <span aria-hidden="true">&raquo;</span>
                        </a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
              <div id="back-and-submit">
                <div
                  class="modal-footer d-flex align-items-center justify-content-between"
                >
                  <button
                    type="button"
                    class="btn btn-outline-primary"
                    (click)="shiftTimingActiveTabMethod()"
                  >
                    Back
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    (click)="registerOrganizationShiftTimingMethodCall()"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
