<!-- <app-employee-onboarding-sidebar></app-employee-onboarding-sidebar> -->



<div class="page-wrapper">
  <div class="page-content-tab">
    <div class="container-fluid">

      <div class="row">
        <div class="col-md-12">
          <div class="persnol-details">
            <h5>Personal Information</h5>
            <p class="mb-0">Fields with * are mandatory </p>
            <form #personalInformationForm="ngForm" (ngSubmit)="submit()">
              <div class="form-group">
                <div class="persnol-info mt-4">
                  <div class="row">
                    <div class="col-md-9">
                      <div class="mb-3">
                        <label for="profilePicture" class="pb-2">Company logo <span
                            class="text-optional">*</span></label>
                        <!-- (change)="onFileSelected($event)" #image="ngModel" [(ngModel)]="organizationPersonalInformation.image" -->
                        <div class="importfilebox">
                          <input id="profilePicture" required type="file" [required]="!dbImageUrl" name="img"
                            accept="image/jpeg, image/jpg, image/png, image/svg" class="input"
                            (change)="onFileSelected($event)" #image="ngModel"
                            [(ngModel)]="organizationPersonalInformation.logo">
                          <label for="profilePicture" class="pl-3">
                            <span><b>Drop your file here or <a href="#" class="select-file"> Select a file
                                </a></b><br>SVG, JPEG, JPG or PNG (max. 100px*100px)</span>
                          </label>
                        </div>

                        <div
                          *ngIf="(!dbImageUrl && isFormInvalid) || (!isInvalidFileType && dbImageUrl) || isInvalidFileType">
                          <p class="errortxt mt-2 mb-0" style="color:red"
                            *ngIf="image.errors?.required && isFormInvalid && !isInvalidFileType"><i
                              class="bi bi-exclamation-circle"></i> Company Logo is required.</p>
                          <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="isInvalidFileType && image.dirty"><i
                              class="bi bi-exclamation-circle"></i> Invalid file type. Please select a JPG, JPEG, or PNG
                            file.</p>
                        </div>
                      </div>

                    </div>


                    <div class="col-md-3">
                      <div
                        style="text-align: center; margin-top: 30px; display: flex; align-items: center; justify-content: center;">
                        <img id="imagePreview" [src]="imagePreviewUrl || dbImageUrl || 'assets/images/HAjiRi.svg' "
                          alt="Profile Preview" style="max-width: 100px; max-height: 100px; border-radius: 6px" />
                        <!-- <img id="imagePreview" [src]="imagePreviewUrl || dbImageUrl || 'assets/images/user.png'" alt="Profile Preview" style="max-width: 90px; max-height: 90px; border-radius: 6px"/> -->

                      </div>
                    </div>


                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="name" class="pb-2">Admin Name <span class="text-optional">*</span></label>
                        <input type="text" required class="form-control" id="adminname"
                          [(ngModel)]="organizationPersonalInformation.adminName"
                          (keydown)="preventLeadingWhitespace($event)" placeholder="Enter admin name" name="adminName"
                          #adminName="ngModel" minlength="3">
                      </div>
                      <div *ngIf="adminName?.dirty  || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="adminName.errors?.required"><i
                            class="bi bi-exclamation-circle"></i>
                          Name is required.</p>
                        <p class="errortxt mt-2 mb-0 " style="color:red" *ngIf="adminName.errors?.minlength"><i
                            class="bi bi-exclamation-circle"></i>
                          Please enter minimum five characters name.</p>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="email" class="pb-2">Admin Email Id <span class="text-optional">*</span></label>
                        <input type="email" required class="form-control" id="email"
                          [(ngModel)]="organizationPersonalInformation.adminEmail"
                          (keydown)="preventLeadingWhitespace($event)" name="adminEmail" aria-describedby="emailHelp"
                          #adminEmail="ngModel" placeholder="Enter admin email id">
                      </div>
                      <div *ngIf="adminEmail?.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="adminEmail.errors?.required">
                          <i class="bi bi-exclamation-circle"></i> Email Id is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="adminEmail.errors?.email">
                          <i class="bi bi-exclamation-circle"></i> Please enter a valid email address.
                        </p>
                      </div>

                    </div>

                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="name" class="pb-2">Organization Name <span class="text-optional">*</span></label>
                        <input type="text" required class="form-control" id="name"
                          [(ngModel)]="organizationPersonalInformation.name"
                          (keydown)="preventLeadingWhitespace($event)" placeholder="Enter organization name" name="name"
                          #name="ngModel" minlength="5">
                      </div>
                      <div *ngIf="name?.dirty  || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="name.errors?.required"><i
                            class="bi bi-exclamation-circle"></i>
                          Name is required.</p>
                        <p class="errortxt mt-2 mb-0 " style="color:red" *ngIf="name.errors?.minlength"><i
                            class="bi bi-exclamation-circle"></i>
                          Please enter minimum five characters name.</p>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="email" class="pb-2">Email Id <span class="text-optional">*</span></label>
                        <input type="email" required class="form-control" id="email"
                          [(ngModel)]="organizationPersonalInformation.email"
                          (keydown)="preventLeadingWhitespace($event)" name="email" aria-describedby="emailHelp"
                          #email="ngModel" placeholder="Enter email id">
                      </div>
                      <div *ngIf="email?.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="email.errors?.required">
                          <i class="bi bi-exclamation-circle"></i> Email Id is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="email.errors?.email">
                          <i class="bi bi-exclamation-circle"></i> Please enter a valid email address.
                        </p>
                      </div>

                    </div>

                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="password" class="pb-2">Password <span class="text-optional">*</span></label>
                        <input [type]="showNewPassword ? 'text' : 'password'" class="form-control"
                          (keydown)="preventLeadingWhitespace($event)"
                          [(ngModel)]="organizationPersonalInformation.password" name="password" #password="ngModel"
                          required minlength="8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" id="password"
                          aria-describedby="passwordHelp" placeholder="Enter password">
                        <button class="btn btn-default toggle-password" type="button"
                          (click)="toggleNewPasswordVisibility()">
                          <i class="bi" [class]="showNewPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                        </button>
                        <div *ngIf="(password.invalid && password.dirty) || isFormInvalid">
                          <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="password.errors?.required">
                            <i class="bi bi-exclamation-circle"></i> Password is required.
                          </p>
                          <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="password.errors?.minlength">
                            <i class="bi bi-exclamation-circle"></i> Password must be at least 8 characters long.
                          </p>
                          <p class="errortxt mt-2 mb-0" style="color:red"
                            *ngIf="password.errors?.pattern && !password.errors?.minlength">
                            <i class="bi bi-exclamation-circle"></i> Password must contain at least one uppercase
                            letter, one lowercase letter, and one number.
                          </p>
                        </div>
                      </div>
                    </div>



                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="phone" class="pb-2">Phone <span class="text-optional">*</span></label>
                        <input type="text" required mask="0000000000" class="form-control" id="phone" name="phone"
                          [(ngModel)]="organizationPersonalInformation.phoneNumber" aria-describedby="phoneHelp"
                          #phone="ngModel" placeholder="Enter phone">
                      </div>
                      <div *ngIf="phone?.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="phone.errors?.required">
                          <i class="bi bi-exclamation-circle"></i> Phone number is required.
                        </p>

                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="mb-3">
                        <label for="addressLine1" class="pb-2">Address line 1 </label>
                        <textarea class="form-control" required id="addressLine1"
                          (keydown)="preventLeadingWhitespace($event)"
                          [(ngModel)]="organizationPersonalInformation.addressLine1" name="addressLine1" rows="3"
                          ngx-google-places-autocomplete #placesRef="ngx-places"
                          (onAddressChange)="handleAddressChange($event)" #addressLine1="ngModel" maxlength="150"
                          placeholder="Floor No., Building Name, Street or Locality"></textarea>

                      </div>
                      <div *ngIf="addressLine1.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine1.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          Address Line 1 is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine1.errors?.minlength">
                          <i class="bi bi-exclamation-circle"></i>
                          Please enter a minimum of five characters.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine1.errors?.maxlength">
                          <i class="bi bi-exclamation-circle"></i> Maximum 150 characters allowed.
                        </p>

                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="mb-3">
                        <label for="addressLine2" class="pb-2">Address line 2 </label>
                        <textarea class="form-control" id="addressLine2" required #addressLine2="ngModel"
                          (keydown)="preventLeadingWhitespace($event)" rows="3"
                          [(ngModel)]="organizationPersonalInformation.addressLine2" name="addressLine2"
                          placeholder="Apartment, suite, unit, building, floor, etc."></textarea>
                      </div>
                      <div *ngIf="addressLine2.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine2.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          Address Line 2 is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine2.errors?.minlength">
                          <i class="bi bi-exclamation-circle"></i>
                          Please enter a minimum of five characters.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="addressLine2.errors?.maxlength">
                          <i class="bi bi-exclamation-circle"></i> Maximum 100 characters allowed.
                        </p>
                        <!-- You can add more error conditions here if needed -->
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="city" class="pb-2">City <span class="text-optional">*</span></label>
                        <input type="text" maxlength="30" #city="ngModel" required class="form-control" id="city"
                          (keydown)="preventLeadingWhitespaceAndNumber($event)" name="city"
                          [(ngModel)]="organizationPersonalInformation.city" aria-describedby="phoneHelp"
                          placeholder="Enter City">
                      </div>
                      <div *ngIf="city.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="city.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          City is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="city.errors?.maxlength">
                          <i class="bi bi-exclamation-circle"></i> Maximum 30 characters allowed.
                        </p>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <!-- <div class="mb-3">
                                <label for="state" style="padding-bottom: 6px;">Select State</label>
                                <div class="dropdown">
                                    <button type="button" id="state" name="state" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown"> Select State <i class="bi bi-chevron-down"></i></button>
                                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu" style="width: 100%;">
                                        <li><a class="dropdown-item">Andhra Pradesh</a></li>
                                        <li><a class="dropdown-item">Arunachal Pradesh</a></li>
                                        <li><a class="dropdown-item">Assam</a></li>
                                        <li><a class="dropdown-item">Bihar</a></li>
                                        <li><a class="dropdown-item">Chhattisgarh</a></li>
                                        <li><a class="dropdown-item">Goa</a></li>
                                        <li><a class="dropdown-item">Gujarat</a></li>
                                        <li><a class="dropdown-item">Haryana</a></li>
                                        <li><a class="dropdown-item">Himachal Pradesh</a></li>
                                        <li><a class="dropdown-item">Jharkhand</a></li>
                                        <li><a class="dropdown-item">Karnataka</a></li>
                                        <li><a class="dropdown-item">Kerala</a></li>
                                        <li><a class="dropdown-item">Madhya Pradesh</a></li>
                                        <li><a class="dropdown-item">Maharashtra</a></li>
                                        <li><a class="dropdown-item">Manipur</a></li>
                                        <li><a class="dropdown-item">Meghalaya</a></li>
                                        <li><a class="dropdown-item">Mizoram</a></li>
                                        <li><a class="dropdown-item">Nagaland</a></li>
                                        <li><a class="dropdown-item">Odisha</a></li>
                                        <li><a class="dropdown-item">Punjab</a></li>
                                        </ul>
                                    </div>
                                </div> -->
                      <div class="mb-3">
                        <label for="state" class="pb-2">State <span class="text-optional">*</span></label>
                        <input type="text" required maxlength="30" #state="ngModel" class="form-control" id="state"
                          name="state" (keydown)="preventLeadingWhitespaceAndNumber($event)"
                          [(ngModel)]="organizationPersonalInformation.state" aria-describedby="phoneHelp"
                          placeholder="Enter State">
                      </div>
                      <div *ngIf="state.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="state.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          State is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="state.errors?.maxlength">
                          <i class="bi bi-exclamation-circle"></i> Maximum 30 characters allowed.
                        </p>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <!-- <div class="mb-3">
                                <label for="country" style="padding-bottom: 6px;">Select Country</label>
                                <div class="dropdown">
                                    <button type="button" id="country" name="country" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown"> India <i class="bi bi-chevron-down"></i></button>
                                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu" style="width: 100%;">
                                        <li><a class="dropdown-item">India</a></li>
                                        <li><a class="dropdown-item">Australia</a></li>
                                        <li><a class="dropdown-item">Canada</a></li>
                                        <li><a class="dropdown-item">United States</a></li>
                                        <li><a class="dropdown-item">Germany</a></li>
                                        <li><a class="dropdown-item">Brazil</a></li>
                                        <li><a class="dropdown-item">China</a></li>
                                        <li><a class="dropdown-item">Russia</a></li>
                                        <li><a class="dropdown-item">South Africa</a></li>
                                        <li><a class="dropdown-item">Argentina</a></li>
                                        <li><a class="dropdown-item">France</a></li>
                                        <li><a class="dropdown-item">Japan</a></li>
                                        <li><a class="dropdown-item">Mexico</a></li>
                                        <li><a class="dropdown-item">Spain</a></li>
                                        <li><a class="dropdown-item">Italy</a></li>
                                        <li><a class="dropdown-item">United Kingdom</a></li>
                                        <li><a class="dropdown-item">Saudi Arabia</a></li>
                                        <li><a class="dropdown-item">Egypt</a></li>
                                        <li><a class="dropdown-item">Thailand</a></li>
                                        <li><a class="dropdown-item">Nigeria</a></li>
                                        </ul>
                                    </div>
                                </div> -->
                      <div class="mb-3">
                        <label for="country" class="pb-2">Country <span class="text-optional">*</span></label>
                        <input type="text" required maxlength="30" #country="ngModel" class="form-control" id="country"
                          name="country" (keydown)="preventLeadingWhitespaceAndNumber($event)"
                          [(ngModel)]="organizationPersonalInformation.country" aria-describedby="phoneHelp"
                          placeholder="Enter Country">
                      </div>
                      <div *ngIf="country.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="country.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          Country is required.
                        </p>
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="country.errors?.maxlength">
                          <i class="bi bi-exclamation-circle"></i> Maximum 30 characters allowed.
                        </p>
                      </div>
                    </div>


                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="pincode" class="pb-2">Pincode <span class="text-optional">*</span></label>
                        <input type="text" required #pincode="ngModel" mask="000000" class="form-control" id="pincode"
                          name="pincode" [(ngModel)]="organizationPersonalInformation.pincode"
                          aria-describedby="phoneHelp" placeholder="Enter Pincode">
                      </div>
                      <div *ngIf="pincode.touched || isFormInvalid">
                        <p class="errortxt mt-2 mb-0" style="color:red" *ngIf="pincode.errors?.required">
                          <i class="bi bi-exclamation-circle"></i>
                          Pincode is required.
                        </p>

                      </div>
                    </div>

                    <div class="col-md-12 d-flex justify-content-end">
                      <button type="submit" class="btn btn-primary"> Save </button>
                    </div>

                  </div>
                </div>

              </div>
            </form>
          </div>
        </div>

      </div>
    </div>
  </div>






  <!-- <button type="button" style="display: none;"  data-bs-toggle="modal" data-bs-target="#successMessageModal" #successMessageModalButton id="successMessageModalButton"></button>
   <div class="modal fade"  id="successMessageModal" #successMessageModal aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered mx-auto">
        <div class="modal-content">
            <div class="modal-body text-center">
                <i class="bi bi-check-circle" *ngIf="employeeOnboardingFormStatus != 'REJECTED'" style="font-size: 48px; color: green;"></i>
                <i class="bi bi-exclamation-triangle-fill" *ngIf="employeeOnboardingFormStatus == 'REJECTED'" style="font-size: 48px; color: red;"></i>
                
        
                <p class="mt-2" *ngIf="employeeOnboardingFormStatus == 'PENDING'">
                    Your registration is successful. Pending for verification.
                </p>
                <p class="mt-2" *ngIf="employeeOnboardingFormStatus == 'APPROVED'">
                    Your onboarding is approved.
                </p>
                <p class="mt-2" *ngIf="employeeOnboardingFormStatus == 'REJECTED'">
                    Your onboarding is rejected.
                </p>

 

                <button type="button" class="d-none"  data-bs-dismiss="modal" id="dismissSuccessModalButton" #dismissSuccessModalButton>
                    Cancel
                  </button>
                <button type="button" class="btn btn-primary" *ngIf="allowEdit" data-bs-dismiss="modal">
                    Edit
                </button>
            </div>
        </div>
    </div>
</div>

 -->