<div class="page-wrapper">
  <div class="page-content-tab-onbording">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="persnol-details">
            <div class="card-header p-0 pb-3 bg-white">
              <h4 class="card-title-headding mb-1">
                Configure Attendance Method
              </h4>
              <p class="mb-0">
                Select the attendance tracking method that best fits your
                organization’s needs. Choose how employees will record their
                attendance based on your preferences for location and
                verification.
              </p>
            </div>

            <!-- {{attendanceModeStep}} -->
            <!-- {{selectedMasterAttendanceModeId}}  -->
            <div
              class="row mt-3"
              *ngIf="attendanceModeStep == 1 || attendanceModeStep == 0"
            >
              <div
                class="col-md-4"
                (click)="updateMasterAttendanceModeMethodCall(1, 2)"
              >
                <div
                  class="attendanceModeBox pointer"
                  [ngClass]="{
                    active: 1 == selectedMasterAttendanceModeId
                  }"
                >
                  <h5 class="mb-0 p-3 modeHeading">
                    <!-- <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="25"
                      viewBox="0 0 24 25"
                      fill="none"
                    >
                      <mask
                        id="mask0_3076_9746"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="24"
                        height="25"
                      >
                        <rect y="0.5" width="24" height="24" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_3076_9746)">
                        <path
                          d="M2 20.5V17.7C2 17.15 2.14167 16.6333 2.425 16.15C2.70833 15.6667 3.1 15.3 3.6 15.05C4.45 14.6167 5.40833 14.25 6.475 13.95C7.54167 13.65 8.71667 13.5 10 13.5C10.5 13.5 10.9875 13.525 11.4625 13.575C11.9375 13.625 12.4 13.7 12.85 13.8L11.1 15.55C10.9167 15.5167 10.7375 15.5 10.5625 15.5H10C8.81667 15.5 7.75417 15.6417 6.8125 15.925C5.87083 16.2083 5.1 16.5167 4.5 16.85C4.35 16.9333 4.22917 17.05 4.1375 17.2C4.04583 17.35 4 17.5167 4 17.7V18.5H10.25L12.25 20.5H2ZM15.55 20.9L12.1 17.45L13.5 16.05L15.55 18.1L20.6 13.05L22 14.45L15.55 20.9ZM10 12.5C8.9 12.5 7.95833 12.1083 7.175 11.325C6.39167 10.5417 6 9.6 6 8.5C6 7.4 6.39167 6.45833 7.175 5.675C7.95833 4.89167 8.9 4.5 10 4.5C11.1 4.5 12.0417 4.89167 12.825 5.675C13.6083 6.45833 14 7.4 14 8.5C14 9.6 13.6083 10.5417 12.825 11.325C12.0417 12.1083 11.1 12.5 10 12.5ZM10 10.5C10.55 10.5 11.0208 10.3042 11.4125 9.9125C11.8042 9.52083 12 9.05 12 8.5C12 7.95 11.8042 7.47917 11.4125 7.0875C11.0208 6.69583 10.55 6.5 10 6.5C9.45 6.5 8.97917 6.69583 8.5875 7.0875C8.19583 7.47917 8 7.95 8 8.5C8 9.05 8.19583 9.52083 8.5875 9.9125C8.97917 10.3042 9.45 10.5 10 10.5Z"
                          fill="#1C1B1F"
                        />
                      </g>
                    </svg> -->
                    Attendance Via What’sApp & Slack
                  </h5>

                  <p class="mb-0 p-3">
                    Track attendance effortlessly through WhatsApp and Slack for seamless team management.
                  </p>
                  <div class="text-center pt-3 pb-3" style="min-height: 160px">
                    <img
                      src="assets/images/slack-whatapp.svg"
                      style="width: 80%"
                    />
                  </div>
                  <div class="p-3">
                    <button class="btn p-0 add-location knowMoreBtn">
                      Get Started
                      <i class="bi bi-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div
                class="col-md-4"
                (click)="updateMasterAttendanceModeMethodCall(2, 1)"
              >
                <div
                  class="attendanceModeBox pointer"
                  [ngClass]="{
                    active: 2 == selectedMasterAttendanceModeId
                  }"
                >
                  <h5 class="mb-0 p-3 modeHeading">Attendance Via Machine</h5>

                  <p class="mb-0 p-3">
                    Precise attendance tracking with our biometric machine for reliable employee verification.
                  </p>
                  <div class="text-center pt-3 pb-3" style="min-height: 160px">
                    <img src="assets/images/machine.svg" style="width: 82%" />
                  </div>
                  <div class="p-3">
                    <button class="btn p-0 add-location knowMoreBtn">
                      Get Started
                      <i class="bi bi-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div
                class="col-md-4"
                (click)="updateMasterAttendanceModeMethodCall(3, 1)"
              >
                <div
                  class="attendanceModeBox pointer"
                  [ngClass]="{
                    active: 3 == selectedMasterAttendanceModeId
                  }"
                >
                  <h5 class="mb-0 p-3 modeHeading">Attendance Via Lens</h5>

                  <p class="mb-0 p-3">
                    Capture attendance instantly with our Lens app, featuring advanced face detection.
                  </p>
                  <div class="text-center pt-3 pb-3" style="min-height: 160px">
                    <img src="assets/images/lans.svg" style="width: 73%" />
                  </div>
                  <div class="p-3">
                    <button class="btn p-0 add-location knowMoreBtn">
                      Get Started
                      <i class="bi bi-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="mt-3 whatAppSlackBox p-3"
              *ngIf="
                selectedMasterAttendanceModeId === 1 && attendanceModeStep === 2
              "
            >
              <div
                class="d-flex align-items-center justify-content-between border-bottom pb-3"
              >
                <div class="d-flex align-items-center gap-3">
                  <img src="assets/images/slack-whatapp.svg" />
                  <div>
                    <h5>Attendance Via What’sApp & Slack</h5>
                    <p class="mb-0">
                      Track attendance effortlessly through WhatsApp and Slack for seamless team management.
                    </p>
                  </div>
                </div>
                <div class="">
                  <button
                    class="btn p-0 text-primary add-location"
                    (click)="updateMasterAttendanceModeMethodCall(1, 1)"
                  >
                    Edit the selected method
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <mask
                        id="mask0_3031_9580"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="24"
                        height="24"
                      >
                        <rect width="24" height="24" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_3031_9580)">
                        <path
                          d="M5 19H6.425L16.2 9.225L14.775 7.8L5 17.575V19ZM3 21V16.75L16.2 3.575C16.4 3.39167 16.6208 3.25 16.8625 3.15C17.1042 3.05 17.3583 3 17.625 3C17.8917 3 18.15 3.05 18.4 3.15C18.65 3.25 18.8667 3.4 19.05 3.6L20.425 5C20.625 5.18333 20.7708 5.4 20.8625 5.65C20.9542 5.9 21 6.15 21 6.4C21 6.66667 20.9542 6.92083 20.8625 7.1625C20.7708 7.40417 20.625 7.625 20.425 7.825L7.25 21H3ZM15.475 8.525L14.775 7.8L16.2 9.225L15.475 8.525Z"
                          fill="#6666F2"
                        />
                      </g>
                    </svg>
                  </button>
                </div>
              </div>

              <div class="employeeInformation mt-3 p-3">
                <div class="d-flex align-items-center gap-2">
                  <span
                    class="stap-back-btn"
                    (click)="updateMasterAttendanceModeMethodCall(1, 1)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="22"
                      viewBox="0 0 22 22"
                      fill="none"
                    >
                      <mask
                        id="mask0_4022_409"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="22"
                        height="22"
                      >
                        <rect
                          x="0.199219"
                          y="0.200012"
                          width="21.6"
                          height="21.6"
                          fill="#D9D9D9"
                        />
                      </mask>
                      <g mask="url(#mask0_4022_409)">
                        <path
                          d="M14.5977 20L5.59766 11L14.5977 2L16.1952 3.5975L8.79266 11L16.1952 18.4025L14.5977 20Z"
                          fill="#6666F2"
                        />
                      </g>
                    </svg>
                  </span>
                  <div>
                    <h4 class="mb-0">Provide Your Employee Information</h4>
                    <p class="mb-0">
                      Please ensure that all fields are completed accurately to
                      create and maintain precise employee records. This will
                      ensure sm
                    </p>
                  </div>
                </div>
                <div class="row mt-3">
                  <div
                    class="col-lg-4"
                    *ngFor="let attendanceMode of attendanceModeList"
                  >
                    <div
                      class="attendance-mode-card p-4"
                      (click)="updateAttendanceMode(attendanceMode.id)"
                      [ngClass]="{
                        active: attendanceMode.id == selectedAttendanceModeId
                      }"
                    >
                      <!-- <img
                        src="assets/images/manual-attendance.svg"
                        style="width: 50%"
                      /> -->

                      <span
                        class="mode-icon d-flex align-items-center justify-content-center"
                      >
                        <img src="assets/images/person_book.svg" />
                      </span>
                      <h5
                        class="mb-2 mt-3"
                        [ngClass]="{
                          'text-primary':
                            attendanceMode.id == selectedAttendanceModeId
                        }"
                      >
                        {{ attendanceMode.name }}
                      </h5>
                      <p class="mt-1 mb-0">
                        {{ attendanceMode.description }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- {{selectedAttendanceModeId}} -->
            <div
              class="mt-3 whatAppSlackBox"
              style="border: none"
              *ngIf="
                selectedMasterAttendanceModeId === 1 && attendanceModeStep === 3
              "
            >
              <div
                class="d-flex align-items-center justify-content-between p-3 whatAppSlack"
              >
                <div class="d-flex align-items-center gap-3">
                  <img src="assets/images/slack-whatapp.svg" />
                  <div>
                    <h5>Attendance Via What’sApp & Slack</h5>
                    <p class="mb-0">
                      Manage your own fleet of carriers and delivery boys <br />
                      for Select the attendance tracking method
                    </p>
                  </div>
                </div>
                <div class="">
                  <button
                    class="btn p-0 text-primary add-location"
                    (click)="updateMasterAttendanceModeMethodCall(1, 2)"
                  >
                    Staff Attendance With Location
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <mask
                        id="mask0_3031_9580"
                        style="mask-type: alpha"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="24"
                        height="24"
                      >
                        <rect width="24" height="24" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_3031_9580)">
                        <path
                          d="M5 19H6.425L16.2 9.225L14.775 7.8L5 17.575V19ZM3 21V16.75L16.2 3.575C16.4 3.39167 16.6208 3.25 16.8625 3.15C17.1042 3.05 17.3583 3 17.625 3C17.8917 3 18.15 3.05 18.4 3.15C18.65 3.25 18.8667 3.4 19.05 3.6L20.425 5C20.625 5.18333 20.7708 5.4 20.8625 5.65C20.9542 5.9 21 6.15 21 6.4C21 6.66667 20.9542 6.92083 20.8625 7.1625C20.7708 7.40417 20.625 7.625 20.425 7.825L7.25 21H3ZM15.475 8.525L14.775 7.8L16.2 9.225L15.475 8.525Z"
                          fill="#6666F2"
                        />
                      </g>
                    </svg>
                  </button>
                </div>
              </div>

              <div class="col-md-12 mt-4">
                <div class="card-header p-0 pb-3 bg-white mb-3">
                  <div
                    class="d-flex align-items-center justify-content-between"
                  >
                    <div class="d-flex align-items-center gap-2">
                      <span
                        class="stap-back-btn"
                        (click)="updateMasterAttendanceModeMethodCall(1, 2)"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="22"
                          height="22"
                          viewBox="0 0 22 22"
                          fill="none"
                        >
                          <mask
                            id="mask0_4022_409"
                            style="mask-type: alpha"
                            maskUnits="userSpaceOnUse"
                            x="0"
                            y="0"
                            width="22"
                            height="22"
                          >
                            <rect
                              x="0.199219"
                              y="0.200012"
                              width="21.6"
                              height="21.6"
                              fill="#D9D9D9"
                            />
                          </mask>
                          <g mask="url(#mask0_4022_409)">
                            <path
                              d="M14.5977 20L5.59766 11L14.5977 2L16.1952 3.5975L8.79266 11L16.1952 18.4025L14.5977 20Z"
                              fill="#6666F2"
                            />
                          </g>
                        </svg>
                      </span>
                      <div>
                        <h4 class="mb-1 font-15">Office Address</h4>
                        <p class="mb-0 font-13">
                          To ensure seamless delivery and accurate
                          communication, we kindly request you to review and
                          update your address information.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <form #organizationAddressForm="ngForm">
                  <div class="mb-3">
                    <h5 class="alert-heading font-14 mb-0">Office 1</h5>
                    <!-- {{locationLoader}} -->
                  </div>
                  <div class="row pb-3">
                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          Address <span class="text-optional">*</span>
                        </label>
                        <input
                          type="text"
                          id="addressLine1"
                          placeholder="Floor No., Building Name, Street or Locality"
                          name="addressLine1"
                          maxlength="200"
                          class="form-control profile-input"
                          [(ngModel)]="organizationAddressDetail.addressLine1"
                          ngx-google-places-autocomplete
                          #placesRef="ngx-places"
                          (onAddressChange)="handleAddressChange($event)"
                          required
                          #addressLine1="ngModel"
                        />

                        <a class="fetch-location" (click)="currentLocation()">
                          <span *ngIf="!locationLoader"
                            ><i
                              class="ti ti-current-location"
                              style="padding-right: 8px"
                            ></i
                            >Fetch Current Location
                          </span>
                          <div
                            class="loader-fetching-location"
                            *ngIf="locationLoader"
                          >
                            <i
                              class="ti ti-current-location"
                              style="padding-right: 8px"
                            ></i
                            >Fetching
                            <span></span>
                            <span></span>
                            <span></span>
                          </div>
                        </a>
                        <div
                          *ngIf="
                            (addressLine1.touched && addressLine1.invalid) ||
                            isFormInvalid
                          "
                        >
                          <p
                            class="errortxt mt-2 mb-0"
                            style="color: red"
                            *ngIf="addressLine1.errors?.required"
                          >
                            <i class="bi bi-exclamation-circle"></i> Address
                            Line 1 is required.
                          </p>
                          <p
                            class="errortxt mt-2 mb-0"
                            style="color: red"
                            *ngIf="addressLine1.errors?.maxlength"
                          >
                            <i class="bi bi-exclamation-circle"></i> Maximum 200
                            characters allowed.
                          </p>
                          <p
                            class="errortxt mt-2 mb-0"
                            *ngIf="
                              !organizationAddressDetail.longitude &&
                              !organizationAddressDetail.latitude
                            "
                          >
                            <i class="bi bi-exclamation-circle"></i> Please
                            Select Address from Address Dropdown only. Do not
                            type it manually Or Fetch Current Location.
                          </p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          Employee location Must be in
                          <i
                            class="bi bi-exclamation-circle tolltip-icon"
                            ngbTooltip="Please enter the location range (in meters) within which your employees are allowed to mark their attendance. This ensures that attendance can only be marked when they are within the specified location range."
                            placement="top"
                          ></i>
                        </label>
                        <input
                          type="number"
                          id="radius"
                          placeholder="Min. 50m"
                          name="radius"
                          class="form-control profile-input"
                          [(ngModel)]="organizationAddressDetail.radius"
                          min="50"
                          required
                          #radius="ngModel"
                        />
                      </div>
                      <div
                        *ngIf="
                          (radius.touched && radius.invalid) || isFormInvalid
                        "
                      >
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="radius.errors?.required"
                        >
                          <i class="bi bi-exclamation-circle"></i> Location
                          Radius is required.
                        </p>
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="radius.errors?.min"
                        >
                          <i class="bi bi-exclamation-circle"></i> Minimum
                          radius is 50 meters.
                        </p>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          City <span class="text-optional">*</span>
                        </label>
                        <input
                          type="text"
                          id="city"
                          placeholder="Enter City"
                          name="city"
                          class="form-control profile-input"
                          [(ngModel)]="organizationAddressDetail.city"
                          required
                          #city="ngModel"
                        />
                      </div>
                      <div
                        *ngIf="(city.touched && city.invalid) || isFormInvalid"
                      >
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="city.errors?.required"
                        >
                          <i class="bi bi-exclamation-circle"></i> City Name is
                          required.
                        </p>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          State <span class="text-optional">*</span></label
                        >
                        <input
                          type="text"
                          id="state"
                          placeholder="Enter State"
                          required
                          #state="ngModel"
                          name="state"
                          class="form-control profile-input"
                          [(ngModel)]="organizationAddressDetail.state"
                        />
                      </div>
                      <div
                        *ngIf="
                          (state.touched && state.invalid) || isFormInvalid
                        "
                      >
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="state.errors?.required"
                        >
                          <i class="bi bi-exclamation-circle"></i> State Name is
                          required.
                        </p>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          Country <span class="text-optional">*</span></label
                        >
                        <input
                          type="text"
                          id="country"
                          placeholder="Enter Country"
                          name="country"
                          required
                          #country="ngModel"
                          class="form-control profile-input"
                          [(ngModel)]="organizationAddressDetail.country"
                        />
                      </div>
                      <div
                        *ngIf="
                          (country.touched && country.invalid) || isFormInvalid
                        "
                      >
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="country.errors?.required"
                        >
                          <i class="bi bi-exclamation-circle"></i> Country Name
                          is required.
                        </p>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="mb-3">
                        <label for="radius" class="pb-2">
                          Pincode <span class="text-optional">*</span></label
                        >
                        <input
                          type="text"
                          id="pincode"
                          placeholder="Enter Pincode"
                          name="pincode"
                          class="form-control profile-input"
                          #pincode="ngModel"
                          required
                          [(ngModel)]="organizationAddressDetail.pincode"
                        />
                      </div>
                      <div
                        *ngIf="
                          (pincode.touched && pincode.invalid) || isFormInvalid
                        "
                      >
                        <p
                          class="errortxt mt-2 mb-0"
                          style="color: red"
                          *ngIf="pincode.errors?.required"
                        >
                          <i class="bi bi-exclamation-circle"></i> Pincode is
                          required.
                        </p>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-8">
              <div
                class="next-btn-box d-flex align-items-center justify-content-between"
              >
                <button
                  class="btn previousBtn previous-btn p-0"
                  type="button"
                  (click)="backPage()"
                >
                  <span *ngIf="!isAttendanceModeBackLoading">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="22"
                      viewBox="0 0 22 22"
                      fill="none"
                    >
                      <path
                        d="M19.75 10.6714C19.75 10.8588 19.6914 11.011 19.5743 11.1281C19.4572 11.2452 19.305 11.3038 19.1177 11.3038H3.59011L7.73547 15.4491C7.87599 15.5896 7.94625 15.7536 7.94625 15.9409C7.94625 16.1283 7.87599 16.2805 7.73547 16.3976C7.59495 16.5147 7.43101 16.5733 7.24365 16.5733C7.05628 16.5733 6.89234 16.5264 6.75182 16.4328L1.48229 11.1632C1.38861 11.0227 1.34177 10.8588 1.34177 10.6714C1.34177 10.484 1.38861 10.3201 1.48229 10.1796L6.75182 4.91005C6.89234 4.81637 7.05628 4.76953 7.24365 4.76953C7.43101 4.76953 7.59495 4.82808 7.73547 4.94518C7.87599 5.06228 7.94625 5.21451 7.94625 5.40188C7.94625 5.58924 7.87599 5.75318 7.73547 5.8937L3.59011 10.0391H19.1177C19.305 10.0391 19.4572 10.0976 19.5743 10.2147C19.6914 10.3318 19.75 10.484 19.75 10.6714Z"
                        fill="black"
                      />
                    </svg>
                    Previous</span
                  >

                  <div
                    class="dot-opacity-loader"
                    *ngIf="isAttendanceModeBackLoading"
                  >
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>
                <!-- {{selectedMasterAttendanceModeId}} -->
                <button
                  type="submit"
                  class="btn nextBtn p-0"
                  [disabled]="
                    (organizationAddressForm?.invalid &&
                      selectedMasterAttendanceModeId === 1) ||
                    (attendanceModeStep === 2 &&
                      (selectedAttendanceModeId === 2 ||
                        selectedAttendanceModeId === 3)) ||
                    selectedMasterAttendanceModeId == null
                  "
                  (click)="goToDashboardSection(); submit()"
                >
                  <span *ngIf="!isAttendanceModeLoader"
                    >Finish Setup
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="22"
                      viewBox="0 0 22 22"
                      fill="none"
                    >
                      <path
                        d="M2.25293 11.0001C2.25293 11.1875 2.31148 11.3397 2.42858 11.4568C2.54568 11.5739 2.69791 11.6325 2.88527 11.6325H18.4128L14.2675 15.7779C14.1269 15.9184 14.0567 16.0823 14.0567 16.2697C14.0567 16.457 14.1269 16.6093 14.2675 16.7264C14.408 16.8435 14.5719 16.902 14.7593 16.902C14.9466 16.902 15.1106 16.8552 15.2511 16.7615L20.5206 11.492C20.6143 11.3514 20.6612 11.1875 20.6612 11.0001C20.6612 10.8128 20.6143 10.6488 20.5206 10.5083L15.2511 5.23879C15.1106 5.14511 14.9466 5.09827 14.7593 5.09827C14.5719 5.09827 14.408 5.15682 14.2675 5.27392C14.1269 5.39102 14.0567 5.54325 14.0567 5.73061C14.0567 5.91797 14.1269 6.08191 14.2675 6.22243L18.4128 10.3678H2.88527C2.69791 10.3678 2.54568 10.4263 2.42858 10.5434C2.31148 10.6606 2.25293 10.8128 2.25293 11.0001Z"
                        fill="#6666F2"
                      />
                    </svg>
                  </span>

                  <div
                    class="dot-opacity-loader"
                    *ngIf="isAttendanceModeLoader"
                  >
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <button
  type="button"
  style="display: none"
  data-bs-toggle="modal"
  data-bs-target="#attendanceWithLocation"
  #attendanceWithLocationButton
></button>

<div
  class="modal fade"
  data-bs-backdrop="static"
  id="attendanceWithLocation"
  tabindex="-1"
  role="dialog"
  aria-labelledby="attendanceWithLocation"
  aria-hidden="true"
>
  <div
    class="modal-dialog modal-dialog-centered"
    style="max-width: 500px"
    role="document"
  >
    <div class="modal-content">
      <div
        class="modal-body manualUpload p-0"
        style="
          background-image: url(../assets/images/manual-upload-back-img.svg);
        "
      >
        <div
          class="d-flex align-items-center justify-content-end pt-2"
          style="padding-right: 10px"
        >
          <button
            type="button"
            class="close-btn"
            data-bs-dismiss="modal"
            aria-label="Close"
            #closeButton
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
            >
              <mask
                id="mask0_1531_457"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="30"
                height="30"
              >
                <rect width="30" height="30" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_1531_457)">
                <path
                  d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                  fill="white"
                />
              </g>
            </svg>
          </button>
        </div>
        <div class="row p-3 pb-4 pt-0 align-items-center">
          <div class="col-md-8">
            <div class="manualUploadDetail persnol-details p-0">
              <h5 class="alert-heading text-white font-18 mb-2">
                Staff Attendance with location
              </h5>
              <p class="mb-0 text-white">
                Enter the location of your workplace from where
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div
              class="side-img"
              style="
                background-image: url(../assets/images/staff-attendance-img.svg);
              "
            ></div>
          </div>
        </div>
        <div class="manualUploadForm p-3" style="padding-top: 35px !important">
          <div class="row">
            <div class="col-md-12">
              <div class="featch-location">
                <div class="position-relative">
                  <input
                    type="text"
                    id="addressLine1"
                    placeholder="Please Select Address from Address Dropdown Or Fetch Current Location."
                    ngx-google-places-autocomplete
                    #placesRef="ngx-places"
                    (onAddressChange)="handleAddressChange($event)"
                    required
                    #addressLine1="ngModel"
                    name="addressLine1"
                    maxlength="200"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input bg-white"
                    [(ngModel)]="organizationAddressDetail.addressLine1"
                  />
                  <a class="fetch-location" (click)="currentLocation()">
                    <span *ngIf="!fetchCurrentLocationLoader"
                      ><i
                        class="ti ti-current-location"
                        style="padding-right: 8px"
                      ></i
                      >Fetch Current Location
                    </span>
                    <div
                      class="loader-fetching-location"
                      *ngIf="fetchCurrentLocationLoader"
                    >
                      <i
                        class="ti ti-current-location"
                        style="padding-right: 8px"
                      ></i>
                      Fetching
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </a>
                </div>
                <div
                  *ngIf="
                    (addressLine1.touched && addressLine1.invalid) ||
                    isFormInvalid
                  "
                >
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="addressLine1.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> Address Line 1 is
                    required.
                  </p>
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="addressLine1.errors?.maxlength"
                  >
                    <i class="bi bi-exclamation-circle"></i> Maximum 200
                    characters allowed.
                  </p>
                  <p
                    class="errortxt mt-2 mb-0"
                    *ngIf="
                      !organizationAddressDetail.longitude &&
                      !organizationAddressDetail.latitude
                    "
                  ></p>

                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="addressLine1.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> Address Line 1 is
                    required.
                  </p>
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="addressLine1.errors?.maxlength"
                  >
                    <i class="bi bi-exclamation-circle"></i> Maximum 200
                    characters allowed.
                  </p>
                  <p
                    class="errortxt mt-2 mb-0"
                    *ngIf="
                      !organizationAddressDetail.longitude &&
                      !organizationAddressDetail.latitude
                    "
                  >
                    <i class="bi bi-exclamation-circle"></i> Please Select
                    Address from Address Dropdown only. Do not type it manually
                    Or Fetch Current Location.
                    <p
                      class="errortxt mt-2 mb-0"
                      style="color: red"
                      *ngIf="addressLine1.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Address Line 1 is
                      required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-0"
                      style="color: red"
                      *ngIf="addressLine1.errors?.maxlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Maximum 200
                      characters allowed.
                    </p>
                    <p
                      class="errortxt mt-2 mb-0"
                      *ngIf="
                        !organizationAddressDetail.longitude &&
                        !organizationAddressDetail.latitude
                      "
                    >
                      <i class="bi bi-exclamation-circle"></i> Please Select
                      Address from Address Dropdown only. Do not type it
                      manually Or Fetch Current Location.
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="col-md-12"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="addressLine2" class="pb-2">Street Address <span class="text-optional">(optional)</span></label>
                  <input
                    type="text"
                    id="addressLine2"
                    placeholder="Address line 2"
                    name="addressLine2"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.addressLine2"
                  />
                </div>
              </div>
              <div
                class="col-md-4"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="landmark" class="pb-2"
                    >Landmark
                    <span class="text-optional">(optional)</span></label
                  >
                  <input
                    type="text"
                    id="landmark"
                    placeholder="Landmark"
                    name="landmark"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.landmark"
                  />
                </div>
              </div>
              <div
                class="col-md-4"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="city" class="pb-2"> City </label>
                  <input
                    type="text"
                    id="city"
                    placeholder="City"
                    required
                    #city="ngModel"
                    name="city"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.city"
                  />
                </div>
                <div *ngIf="(city.touched && city.invalid) || isFormInvalid">
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="city.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> City Name is
                    required.
                  </p>
                </div>
              </div>
              <div
                class="col-md-4"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="state" class="pb-2"> State </label>
                  <input
                    type="text"
                    id="state"
                    placeholder="State"
                    required
                    #state="ngModel"
                    name="state"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.state"
                  />
                </div>
                <div *ngIf="(state.touched && state.invalid) || isFormInvalid">
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="state.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> State Name is
                    required.
                  </p>
                </div>
              </div>
              <div
                class="col-md-6"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="country" class="pb-2">Country</label>
                  <input
                    type="text"
                    id="country"
                    placeholder="Country"
                    required
                    #country="ngModel"
                    name="country"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.country"
                  />
                </div>
                <div
                  *ngIf="(country.touched && country.invalid) || isFormInvalid"
                >
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="country.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> Country Name is
                    required.
                  </p>
                </div>
              </div>
              <div
                class="col-md-6"
                *ngIf="
                  organizationAddressDetail.longitude &&
                  organizationAddressDetail.latitude
                "
              >
                <div class="mb-3">
                  <label for="pincode" class="pb-2">Pincode</label>
                  <input
                    type="text"
                    id="pincode"
                    placeholder="Pincode"
                    #pincode="ngModel"
                    required
                    name="pincode"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.pincode"
                  />
                </div>
                <div
                  *ngIf="(pincode.touched && pincode.invalid) || isFormInvalid"
                >
                  <p
                    class="errortxt mt-2 mb-0"
                    style="color: red"
                    *ngIf="pincode.errors?.required"
                  >
                    <i class="bi bi-exclamation-circle"></i> Pincode is
                    required.
                  </p>
                </div>
              </div>

              <div class="col-md-12">
                <div class="mb-3">
                  <label for="radius" class="pb-2">
                    Employee Location Must be in
                    <i
                      class="bi bi-exclamation-circle tolltip-icon"
                      ngbTooltip="Please enter the location range (in meters) within which your employees are allowed to mark their attendance. This ensures that attendance can only be marked when they are within the specified location range."
                      placement="top"
                    ></i>
                  </label>
                  <input
                    type="number"
                    id="radius"
                    placeholder="Min. 50m"
                    required
                    #radius="ngModel"
                    name="radius"
                    class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                    [(ngModel)]="organizationAddressDetail.radius"
                    min="50"
                  />
                </div>
                <div *ngIf="(radius.touched && radius.invalid) || isFormInvalid">
                  <p class="errortxt mt-2 mb-0" style="color: red" *ngIf="radius.errors?.required">
                    <i class="bi bi-exclamation-circle"></i> Location Radius is required.
                  </p>
                  <p class="errortxt mt-2 mb-0" style="color: red" *ngIf="radius.errors?.min">
                    <i class="bi bi-exclamation-circle"></i> Minimum radius is 50 meters.
                  </p>
                </div>
              </div>
              
            </div>
            <div
              class="col-md-12"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="addressLine2" class="pb-2"
                  >Street Address
                  <span class="text-optional">(optional)</span></label
                >
                <input
                  type="text"
                  id="addressLine2"
                  placeholder="Address line 2"
                  name="addressLine2"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.addressLine2"
                />
              </div>
            </div>
            <div
              class="col-md-4"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="landmark" class="pb-2"
                  >Landmark <span class="text-optional">(optional)</span></label
                >
                <input
                  type="text"
                  id="landmark"
                  placeholder="Landmark"
                  name="landmark"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.landmark"
                />
              </div>
            </div>
            <div
              class="col-md-4"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="city" class="pb-2"> City </label>
                <input
                  type="text"
                  id="city"
                  placeholder="City"
                  required
                  #city="ngModel"
                  name="city"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.city"
                />
              </div>
              <div *ngIf="(city.touched && city.invalid) || isFormInvalid">
                <p
                  class="errortxt mt-2 mb-0"
                  style="color: red"
                  *ngIf="city.errors?.required"
                >
                  <i class="bi bi-exclamation-circle"></i> City Name is
                  required.
                </p>
              </div>
            </div>
            <div
              class="col-md-4"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="state" class="pb-2"> State </label>
                <input
                  type="text"
                  id="state"
                  placeholder="State"
                  required
                  #state="ngModel"
                  name="state"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.state"
                />
              </div>
              <div *ngIf="(state.touched && state.invalid) || isFormInvalid">
                <p
                  class="errortxt mt-2 mb-0"
                  style="color: red"
                  *ngIf="state.errors?.required"
                >
                  <i class="bi bi-exclamation-circle"></i> State Name is
                  required.
                </p>
              </div>
            </div>
            <div
              class="col-md-6"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="country" class="pb-2">Country</label>
                <input
                  type="text"
                  id="country"
                  placeholder="Country"
                  required
                  #country="ngModel"
                  name="country"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.country"
                />
              </div>
              <div
                *ngIf="(country.touched && country.invalid) || isFormInvalid"
              >
                <p
                  class="errortxt mt-2 mb-0"
                  style="color: red"
                  *ngIf="country.errors?.required"
                >
                  <i class="bi bi-exclamation-circle"></i> Country Name is
                  required.
                </p>
              </div>
            </div>
            <div
              class="col-md-6"
              *ngIf="
                organizationAddressDetail.longitude &&
                organizationAddressDetail.latitude
              "
            >
              <div class="mb-3">
                <label for="pincode" class="pb-2">Pincode</label>
                <input
                  type="text"
                  id="pincode"
                  placeholder="Pincode"
                  #pincode="ngModel"
                  required
                  name="pincode"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.pincode"
                />
              </div>
              <div
                *ngIf="(pincode.touched && pincode.invalid) || isFormInvalid"
              >
                <p
                  class="errortxt mt-2 mb-0"
                  style="color: red"
                  *ngIf="pincode.errors?.required"
                >
                  <i class="bi bi-exclamation-circle"></i> Pincode is required.
                </p>
              </div>
            </div>

            <div class="col-md-12">
              <div class="mb-3">
                <label for="radius" class="pb-2">
                  Employee Location Must be in
                  <i
                    class="bi bi-exclamation-circle tolltip-icon"
                    ngbTooltip="Please enter the location range (in meters) within which your employees are allowed to mark their attendance. This ensures that attendance can only be marked when they are within the specified location range."
                    placement="top"
                  ></i>
                </label>
                <input
                  type="text"
                  id="radius"
                  placeholder="in meters"
                  required
                  #radius="ngModel"
                  name="radius"
                  class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                  [(ngModel)]="organizationAddressDetail.radius"
                />
              </div>
              <div *ngIf="(radius.touched && radius.invalid) || isFormInvalid">
                <p
                  class="errortxt mt-2 mb-0"
                  style="color: red"
                  *ngIf="radius.errors?.required"
                >
                  <i class="bi bi-exclamation-circle"></i> Location Radius is
                  required.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="mb-3">
              <label for="radius" class="pb-2">
                Employee location Must be in
                <i
                  class="bi bi-exclamation-circle tolltip-icon"
                  ngbTooltip="Please enter the location range (in meters) within which your employees are allowed to mark their attendance. This ensures that attendance can only be marked when they are within the specified location range."
                  placement="top"
                ></i>
              </label>
              <input
                type="text"
                id="radius"
                placeholder="in meters"
                required
                #radius="ngModel"
                name="radius"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.radius"
              />
            </div>
            <div *ngIf="(radius.touched && radius.invalid) || isFormInvalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="radius.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> Location Radius is
                required.
              </p>
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="addressLine2" class="pb-2">Street Address</label>
              <input
                type="text"
                id="addressLine2"
                placeholder="Address line 2"
                name="addressLine2"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.addressLine2"
              />
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="landmark" class="pb-2"
                >Landmark <span class="text-optional">(optional)</span></label
              >
              <input
                type="text"
                id="landmark"
                placeholder="Landmark"
                name="landmark"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.landmark"
              />
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="city" class="pb-2"> City </label>
              <input
                type="text"
                id="city"
                placeholder="City"
                required
                #city="ngModel"
                name="city"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.city"
              />
            </div>
            <div *ngIf="(city.touched && city.invalid) || isFormInvalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="city.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> City Name is required.
              </p>
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="state" class="pb-2"> State </label>
              <input
                type="text"
                id="state"
                placeholder="State"
                required
                #state="ngModel"
                name="state"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.state"
              />
            </div>
            <div *ngIf="(state.touched && state.invalid) || isFormInvalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="state.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> State Name is required.
              </p>
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="country" class="pb-2">Country</label>
              <input
                type="text"
                id="country"
                placeholder="Country"
                required
                #country="ngModel"
                name="country"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.country"
              />
            </div>
            <div *ngIf="(country.touched && country.invalid) || isFormInvalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="country.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> Country Name is
                required.
              </p>
            </div>
          </div>
          <div
            class="col-md-6"
            *ngIf="
              organizationAddressDetail.longitude &&
              organizationAddressDetail.latitude
            "
          >
            <div class="mb-3">
              <label for="pincode" class="pb-2">Pincode</label>
              <input
                type="text"
                id="pincode"
                placeholder="Pincode"
                #pincode="ngModel"
                required
                name="pincode"
                class="form-control ng-untouched ng-pristine ng-invalid profile-input"
                [(ngModel)]="organizationAddressDetail.pincode"
              />
            </div>
            <div *ngIf="(pincode.touched && pincode.invalid) || isFormInvalid">
              <p
                class="errortxt mt-2 mb-0"
                style="color: red"
                *ngIf="pincode.errors?.required"
              >
                <i class="bi bi-exclamation-circle"></i> Pincode is required.
              </p>
            </div>
          </div>
      </div>
      </div>
      <div
        class="modal-footer border-top d-flex align-items-center justify-content-end p-3"
      >
        <button class="btn mannualSubmit">Submit</button>
      </div>
    </div>
  </div> -->
