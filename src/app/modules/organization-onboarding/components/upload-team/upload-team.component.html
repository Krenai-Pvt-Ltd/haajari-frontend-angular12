<div class="page-wrapper">
  <div class="page-content-tab-onbording">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="persnol-details">
            <div
              class="d-flex justify-content-between mb-2"
              *ngIf="selectedMethod == ''"
            >
              <div class="d-flex align-items-center" style="gap: 15px">
                <div class="">
                  <h5 class="mb-0">Employee Details</h5>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="card-header p-0 pb-3 bg-white">
                  <h4 class="card-title-headding mb-1">
                    Provide Your Employee Information
                  </h4>
                  <p class="mb-0">
                    Please ensure that all fields are completed accurately to
                    create and maintain precise employee records. This will
                    ensure smooth HR operations and effective management of your
                    workforce.
                  </p>
                </div>
              </div>

              <ng-container
                *ngIf="
                  !isShimmer &&
                  onboardUserList.length == 0 &&
                  !networkConnectionErrorPlaceholder
                "
              >
                <div class="col-md-12 mb-100">
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 sampleExcelFileBox">
                      <h4 class="alert-heading font-14">
                        Download the Sample Excel File!
                      </h4>
                      <p class="mb-0">
                        Use this Excel template to organize and input your
                        employee data correctly. Review the sample structure to
                        avoid errors.
                        <br />
                        <a
                          class="text-primary textDecrotion"
                          href="{{ sampleFileUrl }}"
                          >Download a sample Excel file.</a
                        >

                        nce you've updated the file, upload it back to the
                        platform for enrol all employees
                      </p>
                    </div>
                  </div>
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 excel-uplode-file-box">
                      <!-- <input
                        id="fileSelect"
                        type="file"
                        name="img[]"
                        accept=".xlsx"
                        class="input"
                        (change)="selectFile($event)"
                      />
                      <img
                        src="assets/images/excel.svg"
                        style="width: 50px"
                        class="pb-3"
                      />
                      <p class="">
                        Drag file here to upload<br />
                        or,
                        <u
                          ><a class="text-primary" href="#!">
                            choose file
                          </a></u
                        >
                      </p>
                      <div
                        *ngIf="isProgressToggle"
                        class="spinner-border text-success"
                        role="status"
                      ></div> -->

                      <div
                        class="d-flex align-items-center justify-content-between gap-3"
                      >
                        <div style="width: 15%">
                          <img
                            src="assets/images/excel-img.svg"
                            style="width: 100%"
                          />
                        </div>
                        <div
                          class="d-flex align-items-center justify-content-between"
                          style="width: 85%"
                        >
                          <div>
                            <h5 class="alert-heading font-15 mb-2">
                              Upload Employee Data via Excel
                            </h5>
                            <p class="mb-0">
                              Streamline the process by uploading your organized
                              employee data directly <br />
                              from the Excel sheet
                            </p>
                          </div>
                          <div class="">
                            <button
                              class="btn excelUploadBtn"
                              onclick="document.getElementById('fileSelect').click();"
                            >
                            <!-- <div
                            *ngIf="isProgressToggle"
                            class="spinner-border text-success"
                            role="status"
                            ></div> -->
                            <!-- <div class="spinner-border text-light" role="status" *ngIf="isProgressToggle">
                              <span class="sr-only">Loading...</span>
                            </div> -->
                            <div class="dot-opacity-loader" *ngIf="isProgressToggle">
                              <span></span>
                              <span></span>
                              <span></span>
                            </div>
                             <span *ngIf="!isProgressToggle">
                              Excel Upload
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                              >
                                <mask
                                  id="mask0_1530_1347"
                                  style="mask-type: alpha"
                                  maskUnits="userSpaceOnUse"
                                  x="0"
                                  y="0"
                                  width="22"
                                  height="22"
                                >
                                  <rect
                                    x="0.117188"
                                    y="0.515625"
                                    width="20.9709"
                                    height="20.9709"
                                    fill="#D9D9D9"
                                  />
                                </mask>
                                <g mask="url(#mask0_1530_1347)">
                                  <path
                                    d="M14.2477 11.8758H3.60938V10.1282H14.2477L9.35452 5.23502L10.5997 4.01172L17.59 11.002L10.5997 17.9923L9.35452 16.769L14.2477 11.8758Z"
                                    fill="white"
                                  />
                                </g>
                              </svg>
                            </span>
                            </button>
                            <input
                              id="fileSelect"
                              type="file"
                              name="img[]"
                              accept=".xlsx"
                              class="input"
                              style="display: none"
                              (change)="selectFile($event)"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 excel-uplode-file-box">
                      <div
                        class="d-flex align-items-center justify-content-between gap-3"
                      >
                        <div style="width: 15%">
                          <img
                            src="assets/images/manually-img.svg"
                            style="width: 100%"
                          />
                        </div>
                        <div
                          class="d-flex align-items-center justify-content-between"
                          style="width: 85%"
                        >
                          <div>
                            <h5 class="alert-heading font-15 mb-2">
                              Manually Enter Employee Details
                            </h5>
                            <p class="mb-0">
                              Add employee details individually if you prefer to
                              build a <br />
                              customized and specific list tailored to your
                              organizational needs.
                            </p>
                          </div>
                          <div class="">
                            <button
                              class="btn excelUploadBtn"
                              data-bs-toggle="modal"
                              data-bs-target="#munal-upload"
                            >
                              Manually Upload
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                              >
                                <mask
                                  id="mask0_1530_1347"
                                  style="mask-type: alpha"
                                  maskUnits="userSpaceOnUse"
                                  x="0"
                                  y="0"
                                  width="22"
                                  height="22"
                                >
                                  <rect
                                    x="0.117188"
                                    y="0.515625"
                                    width="20.9709"
                                    height="20.9709"
                                    fill="#D9D9D9"
                                  />
                                </mask>
                                <g mask="url(#mask0_1530_1347)">
                                  <path
                                    d="M14.2477 11.8758H3.60938V10.1282H14.2477L9.35452 5.23502L10.5997 4.01172L17.59 11.002L10.5997 17.9923L9.35452 16.769L14.2477 11.8758Z"
                                    fill="white"
                                  />
                                </g>
                              </svg>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- <div class="col-md-4">
                  <div class="card-body mt-0 bg-soft-warning">
                    <div class="pt-3">
                      <img
                        src="assets/images/small/business.png"
                        alt=""
                        class="img-fluid px-3 mb-2"
                      />
                      <footer class="blockquote-footer font-14">
                        Efficiency Redefined:
                        <cite title="Source Title"
                          >Seamlessly Create Employees in Your Hajiri System
                        </cite>
                      </footer>
                      <div class="py-2">
                        <button
                          class="btn btn-outline-primary btn-square"
                          data-bs-toggle="modal"
                          data-bs-target="#munal-upload"
                          type="button"
                        >
                          Click Here To Create
                        </button>
                      </div>
                    </div>
                  </div>
                </div> -->
                <!-- <div
                  class="alert alert-light mb-0 mt-4 bg-soft-warning create-password-warning text-start"
                  role="alert"
                  *ngIf="
                    alreadyUsedPhoneNumberArray.length > 0 ||
                    alreadyUsedEmailArray.length > 0 ||
                    isErrorToggle
                  "
                >
                  <h4 class="alert-heading font-18">Attention!</h4>
                  <p *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                    Phone Numbers:
                    {{ formatAsCommaSeparated(alreadyUsedPhoneNumberArray) }}
                  </p>
                  <p *ngIf="alreadyUsedEmailArray.length > 0">
                    Emails: {{ formatAsCommaSeparated(alreadyUsedEmailArray) }}
                  </p>
                  <p *ngIf="isErrorToggle">Error: {{ errorMessage }}</p>
                 
                  <p *ngIf="!isErrorToggle">
                    These credentials are already registered with us!
                  </p>
                </div> -->
              </ng-container>

              <ng-container
                *ngIf="
                  isShimmer &&
                    onboardUserList.length == 0 &&
                    !networkConnectionErrorPlaceholder;
                  else onboardUserListCondition
                "
              >
                <div class="">
                  <div class="text-end">
                    <ngx-shimmer-loading
                      [width]="'30%'"
                      [height]="'40px'"
                      style="border-radius: 50%"
                    ></ngx-shimmer-loading>
                  </div>
                </div>
                <div
                  class="mt-3 mb-2"
                  style="
                    border: 1px solid #f5f5f5;
                    padding: 5px;
                    border-radius: 6px;
                  "
                  *ngFor="let number of [1, 2, 3, 4, 5]"
                >
                  <div class="row mt-3">
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>

              <ng-template #onboardUserListCondition>
                <ng-container
                  *ngIf="
                    !isShimmer &&
                      onboardUserList.length != 0 &&
                      !networkConnectionErrorPlaceholder;
                    else errorInOnboardUserListCondition
                  "
                >
                  <div class="row mt-3">
                    <div
                      class="d-flex align-items-center justify-content-between mb-3 p-0"
                      *ngIf="onboardingViaString != 'SLACK'"
                    >
                      <div>
                        <h5 class="alert-heading font-14 mb-0">
                          Employee List
                        </h5>
                      </div>

                      <div class="d-flex gap-3">
                        <input
                          #fileInput
                          id="fileSelect"
                          type="file"
                          name="img[]"
                          accept=".xlsx"
                          class="input"
                          style="display: none"
                          (change)="selectFile($event)"
                        />
                        <button
                          type="button"
                          class="btn add-excel"
                          (click)="fileInput.click()"
                        >
                  
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            *ngIf="!isProgressToggle"
                          >
                            <mask
                              id="mask0_1549_4381"
                              style="mask-type: alpha"
                              maskUnits="userSpaceOnUse"
                              x="0"
                              y="0"
                              width="24"
                              height="24"
                            >
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_1549_4381)">
                              <path
                                d="M8 18H16V16H8V18ZM8 14H16V12H8V14ZM6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V4C4 3.45 4.19583 2.97917 4.5875 2.5875C4.97917 2.19583 5.45 2 6 2H14L20 8V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM13 9V4H6V20H18V9H13Z"
                                fill="#6666F2"
                              />
                            </g>
                          </svg>
                          <div
                            *ngIf="isProgressToggle"
                            class="spinner-border text-primary excel-spinner"
                            role="status"
                          ></div>
                          Excel Upload
                        </button>

                        <span class="spreter"></span>
                        <button
                          type="button"
                          class="btn add-excel"
                          data-bs-toggle="modal"
                          data-bs-target="#munal-upload"
                          (click)="selectMethod('mannual')"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                          >
                            <mask
                              id="mask0_1549_4386"
                              style="mask-type: alpha"
                              maskUnits="userSpaceOnUse"
                              x="0"
                              y="0"
                              width="24"
                              height="24"
                            >
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_1549_4386)">
                              <path
                                d="M9.94844 21C9.49844 21 9.06927 20.9042 8.66094 20.7125C8.2526 20.5208 7.90677 20.25 7.62344 19.9L1.14844 11.925L1.79844 11.3C2.1151 10.9833 2.4901 10.8 2.92344 10.75C3.35677 10.7 3.74844 10.8 4.09844 11.05L6.99844 13.075V3C6.99844 2.71667 7.09427 2.47917 7.28594 2.2875C7.4776 2.09583 7.7151 2 7.99844 2C8.28177 2 8.51927 2.09583 8.71094 2.2875C8.9026 2.47917 8.99844 2.71667 8.99844 3V16.925L6.22344 14.975L9.17344 18.625C9.27344 18.7417 9.3901 18.8333 9.52344 18.9C9.65677 18.9667 9.79844 19 9.94844 19H16.9984C17.5484 19 18.0193 18.8042 18.4109 18.4125C18.8026 18.0208 18.9984 17.55 18.9984 17V10C18.9984 9.71667 19.0943 9.47917 19.2859 9.2875C19.4776 9.09583 19.7151 9 19.9984 9C20.2818 9 20.5193 9.09583 20.7109 9.2875C20.9026 9.47917 20.9984 9.71667 20.9984 10V17C20.9984 18.1 20.6068 19.0417 19.8234 19.825C19.0401 20.6083 18.0984 21 16.9984 21H9.94844ZM10.9984 13V7C10.9984 6.71667 11.0943 6.47917 11.2859 6.2875C11.4776 6.09583 11.7151 6 11.9984 6C12.2818 6 12.5193 6.09583 12.7109 6.2875C12.9026 6.47917 12.9984 6.71667 12.9984 7V13H10.9984ZM14.9984 13V8C14.9984 7.71667 15.0943 7.47917 15.2859 7.2875C15.4776 7.09583 15.7151 7 15.9984 7C16.2818 7 16.5193 7.09583 16.7109 7.2875C16.9026 7.47917 16.9984 7.71667 16.9984 8V13H14.9984Z"
                                fill="#6666F2"
                              />
                            </g>
                          </svg>
                          Manual Upload
                        </button>
                      </div>
                    </div>
                    <!-- <div
                      class="alert alert-light mb-0 mt-4 bg-soft-warning create-password-warning text-start"
                      role="alert"
                      *ngIf="
                        alreadyUsedPhoneNumberArray.length > 0 ||
                        alreadyUsedEmailArray.length > 0 ||
                        isErrorToggle
                      "
                    >
                      <h4 class="alert-heading font-18">Attention!</h4>
                  
                      <p *ngIf="isErrorToggle">Error: {{ errorMessage }}</p>
                      <p *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                        Phone Numbers:
                        {{
                          formatAsCommaSeparated(alreadyUsedPhoneNumberArray)
                        }}
                      </p>
                      <p *ngIf="alreadyUsedEmailArray.length > 0">
                        Emails:
                        {{ formatAsCommaSeparated(alreadyUsedEmailArray) }}
                      </p>
                      <p *ngIf="!isErrorToggle">
                        These credentials are already registered with us!
                      </p>
                    </div> -->
                    <table class="table table-striped">
                      <thead class="thead-light">
                        <tr>
                          <th style="width: 5%" class="text-center">Count</th>
                          <th style="width: 25%" class="text-left">Name</th>
                          <th style="width: 25%" class="text-left">
                            Email Address
                          </th>
                          <th
                            style="width: 20%"
                            class="text-left"
                            *ngIf="onboardingViaString != 'SLACK'"
                          >
                            Phone Number
                          </th>

                          <th style="width: 20%" class="text-center">Action</th>
                        </tr>
                      </thead>
                      <tbody class="">
                        <tr
                          *ngFor="
                            let onboardUser of onboardUserList;
                            let i = index
                          "
                        >
                          <td class="text-center">
                            {{ i + 1 }}
                          </td>
                          <td>{{ onboardUser.name }}</td>
                          <td>
                            {{ onboardUser.email ? onboardUser.email : "N/A" }}
                          </td>
                          <td *ngIf="onboardingViaString != 'SLACK'">
                            {{ onboardUser.phone }}
                          </td>

                          <td
                            class="d-flex align-items-center justify-content-center gap-2"
                          >
                            <a
                              *ngIf="onboardingViaString != 'SLACK'"
                              (click)="openUserEditModal(onboardUser)"
                              ><i class="las la-pen text-primary font-16"></i
                            ></a>
                            <a (click)="deleteUser(onboardUser.id)"
                              ><i
                                class="las la-trash-alt text-danger font-16"
                              ></i
                            ></a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </ng-template>

              <ng-template #errorInOnboardUserListCondition>
                <div
                  class="errorboxmain"
                  *ngIf="networkConnectionErrorPlaceholder"
                >
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>

                    <h4>Something went wrong!</h4>

                    <p>An error occurred while processing your request!</p>
                  </div>
                </div>
                <!-- <div class="errorboxmaintop" style="box-shadow: none; padding: 5px; padding-left: 0px;"
                                *ngIf="networkConnectionErrorPlaceholder">
                                <div class="errorboxinner" style="display: flex; align-items: center; gap: 10px;">
                                    <div class="errorboxplaceholder mb-2">
                                        <img src="assets/images/signal.svg"/>
                                    </div>
                                    <div class="">
                                        <h6 style="font-size: 13px; margin-bottom: 0px;">Something went wrong!</h6>
                                    </div>
                                </div>
                            </div> -->
              </ng-template>
            </div>
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-8">
                <div
                  class="excel-file-error d-flex align-items-center justify-content-between"
                  style="background-image: url(../assets/images/vector-3.svg)"
                  *ngIf="
                  alreadyUsedPhoneNumberArray.length > 0 ||
                  alreadyUsedEmailArray.length > 0 ||
                  isErrorToggle"
                >
                  <div class="d-flex align-items-center gap-3 previous-btn">
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="36"
                        height="34"
                        viewBox="0 0 36 34"
                        fill="none"
                      >
                        <path
                          d="M35.252 25.9588L22.5349 2.58153C20.4917 -0.858226 15.511 -0.862796 13.4651 2.58153L0.748609 25.9588C-1.34009 29.4736 1.1887 33.9245 5.2825 33.9245H30.7171C34.8074 33.9245 37.3407 29.4772 35.252 25.9588ZM18 29.7058C16.8372 29.7058 15.8906 28.7592 15.8906 27.5964C15.8906 26.4336 16.8372 25.487 18 25.487C19.1628 25.487 20.1094 26.4336 20.1094 27.5964C20.1094 28.7592 19.1628 29.7058 18 29.7058ZM20.1094 21.2683C20.1094 22.4311 19.1628 23.3777 18 23.3777C16.8372 23.3777 15.8906 22.4311 15.8906 21.2683V10.7214C15.8906 9.55857 16.8372 8.61203 18 8.61203C19.1628 8.61203 20.1094 9.55857 20.1094 10.7214V21.2683Z"
                          fill="#FF2F2F"
                        />
                      </svg>
                    </div>
                    <div class="">
                      <h5 class="alert-heading text-danger font-12 mb-2">
                        Attention! It seems like some of the list are not
                        matching with the requirements. These list you can see
                        here.
                      </h5>
                      <div class="d-flex align-items-center gap-2">
                        <p class="mb-0 font-11" *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                          <b>Duplicate phone number</b>
                        </p>
                        <span class="error-spreter"></span>
                        <p class="mb-0 font-11" *ngIf="alreadyUsedEmailArray.length > 0">
                          <b>Duplicate email id :</b> You can check this error
                          log here.
                        </p>
                        <P class="mb-0 font-11" *ngIf="isErrorToggle">
                          <b>Error :</b> {{errorMessage}}
                        </P>
                      </div>
                    </div>
                  </div>
                  <div class="" *ngIf="excelLogLink">
                    <button
                      class="btn download-eroor"
                      style="margin-right: 15px"
                      (click)="downloadExcelLog()"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="27"
                        height="28"
                        viewBox="0 0 27 28"
                        fill="none"
                      >
                        <mask
                          id="mask0_2035_1932"
                          style="mask-type: alpha"
                          maskUnits="userSpaceOnUse"
                          x="0"
                          y="0"
                          width="27"
                          height="28"
                        >
                          <rect
                            x="0.335938"
                            y="0.761719"
                            width="26.521"
                            height="26.521"
                            fill="#D9D9D9"
                          />
                        </mask>
                        <g mask="url(#mask0_2035_1932)">
                          <path
                            d="M13.5981 18.4441L8.07294 12.9189L9.62 11.3166L12.4931 14.1897V5.18359H14.7032V14.1897L17.5763 11.3166L19.1234 12.9189L13.5981 18.4441ZM6.9679 22.8643C6.36012 22.8643 5.83983 22.6479 5.40702 22.2151C4.97422 21.7822 4.75781 21.262 4.75781 20.6542V17.3391H6.9679V20.6542H20.2284V17.3391H22.4385V20.6542C22.4385 21.262 22.2221 21.7822 21.7893 22.2151C21.3565 22.6479 20.8362 22.8643 20.2284 22.8643H6.9679Z"
                            fill="#FF2F2F"
                          />
                        </g>
                      </svg>
                      Download error log
                    </button>
                  </div>
                </div>
                <div
                  class="next-btn-box d-flex align-items-center justify-content-between"
                >
                  <button
                    class="btn previousBtn previous-btn"
                    type="button"
                    (click)="backPage()"
                  >
                    <span *ngIf="!isPreviousLoading">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="22"
                        viewBox="0 0 22 22"
                        fill="none"
                      >
                        <path
                          d="M19.75 10.6714C19.75 10.8588 19.6914 11.011 19.5743 11.1281C19.4572 11.2452 19.305 11.3038 19.1177 11.3038H3.59011L7.73547 15.4491C7.87599 15.5896 7.94625 15.7536 7.94625 15.9409C7.94625 16.1283 7.87599 16.2805 7.73547 16.3976C7.59495 16.5147 7.43101 16.5733 7.24365 16.5733C7.05628 16.5733 6.89234 16.5264 6.75182 16.4328L1.48229 11.1632C1.38861 11.0227 1.34177 10.8588 1.34177 10.6714C1.34177 10.484 1.38861 10.3201 1.48229 10.1796L6.75182 4.91005C6.89234 4.81637 7.05628 4.76953 7.24365 4.76953C7.43101 4.76953 7.59495 4.82808 7.73547 4.94518C7.87599 5.06228 7.94625 5.21451 7.94625 5.40188C7.94625 5.58924 7.87599 5.75318 7.73547 5.8937L3.59011 10.0391H19.1177C19.305 10.0391 19.4572 10.0976 19.5743 10.2147C19.6914 10.3318 19.75 10.484 19.75 10.6714Z"
                          fill="black"
                        />
                      </svg>
                      Previous</span
                    >

                    <div class="dot-opacity-loader" *ngIf="isPreviousLoading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                  <button type="submit" class="btn nextBtn" (click)="next()">
                    <span *ngIf="!isNextloading"
                      >Next
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                      >
                        <mask
                          id="mask0_2043_143"
                          style="mask-type: alpha"
                          maskUnits="userSpaceOnUse"
                          x="0"
                          y="0"
                          width="25"
                          height="25"
                        >
                          <rect
                            x="0.921875"
                            y="0.671875"
                            width="24"
                            height="24"
                            fill="#D9D9D9"
                          />
                        </mask>
                        <g mask="url(#mask0_2043_143)">
                          <path
                            d="M16.9359 13.5625H4V11.4375H16.9359L10.9859 5.4875L12.5 4L21 12.5L12.5 21L10.9859 19.5125L16.9359 13.5625Z"
                            fill="#6666F2"
                          />
                        </g>
                      </svg>
                    </span>
                    <div class="dot-opacity-loader" *ngIf="isNextloading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                </div>
                <!-- <div
                  class="next-btn-box d-flex align-items-center justify-content-between"
                >
                  <button
                    class="btn btn-outline-secondary btn-round previous-btn"
                    type="button"
                    (click)="backPage()"
                  >
                    <span *ngIf="!isPreviousLoading"
                      ><i class="bi bi-arrow-left"></i> Previous</span
                    >

                    <div class="dot-opacity-loader" *ngIf="isPreviousLoading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                  <button
                    type="submit"
                    class="btn btn-outline-primary btn-round"
                    (click)="next()"
                  >
                    <span *ngIf="!isNextloading"
                      >Next
                      <i class="bi bi-arrow-right" style="padding-left: 8px"></i
                    ></span>
                    <div class="dot-opacity-loader" *ngIf="isNextloading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- user edit modal -->
    <button
      #userEditModal
      class="d-none"
      data-bs-toggle="modal"
      data-bs-target="#editUser"
    ></button>
    <div
      class="modal fade"
      id="editUser"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit User</h5>
            <button
              type="button"
              #closeUserEditModal
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form #editUserForm="ngForm">
              <div class="form-group row mb-3">
                <div class="col-md-4">
                  <label class="mb-2"> Name</label>
                  <input
                    type="text"
                    name="Name"
                    [(ngModel)]="user.name"
                    class="form-control"
                    placeholder="Enter Name"
                    required
                  />
                </div>
                <div class="col-md-4">
                  <label class="mb-2">Phone Number</label>
                  <input
                    type="tel"
                    name="phone"
                    [(ngModel)]="user.phone"
                    placeholder="Phone Number"
                    minlength="10"
                    maxlength="10"
                    class="form-control"
                    oninput="this.value = this.value.replace(/^[^1-9]/g, '').replace(/(\..*)\./g, '$1');"
                    (keyup)="checkNumberExistance(-1, user.phone, user.uuid)"
                    required
                  />
                  <p *ngIf="isNumberExist" class="error text-danger">
                    This number already exist
                  </p>
                </div>
                <div class="col-md-4">
                  <label class="mb-2">Email </label>
                  <input
                    type="email"
                    name="email"
                    [(ngModel)]="user.email"
                    placeholder="Email"
                    class="form-control"
                    (keyup)="checkEmailExistance(-1, user.email, user.uuid)"
                  />
                  <p *ngIf="isEmailExist" class="error text-danger">
                    This email already exist
                  </p>
                </div>
              </div>
              <div class="d-flex justify-content-end">
                <button
                  type="submit"
                  class="btn btn-primary"
                  [disabled]="
                    editUserForm.invalid || isNumberExist || isEmailExist
                  "
                  (click)="editUser()"
                >
                  <span *ngIf="!editLoader">Submit</span>
                  <div class="dot-opacity-loader" *ngIf="editLoader">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- user edit modal -->
    <button
      class="d-none"
      data-bs-toggle="modal"
      data-bs-target="#munal-upload"
    ></button>
    <div
      class="modal fade"
      id="munal-upload"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered"
        style="max-width: 500px"
        role="document"
      >
        <div class="modal-content">
          <!-- <div class="modal-header">
            <h5 class="modal-title">Manual Upload</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
              #closeButton
              (click)="resetManualUploadModal()"
            ></button>
          </div>
          <div class="modal-body munal-deta-upload-modal">
            <div class="row" *ngFor="let user of userList; let i = index">
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2">
                    Name <span class="text-optional">*</span></label
                  >
                  <input
                    type="text"
                    name="userName{{ i }}"
                    [(ngModel)]="user.name"
                    class="form-control profile-input"
                    placeholder="Enter Employee Name"
                    #name="ngModel"
                    minlength="3"
                    required
                  />
                  <div *ngIf="name?.dirty || isFormInvalid">
                    <p class="errortxt mt-2 mb-2" *ngIf="name.errors?.required">
                      <i class="bi bi-exclamation-circle"></i> Name is required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="name.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid name.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2"
                    >Phone Number <span class="text-optional">*</span></label
                  >
                  <input
                    type="tel"
                    name="userPhone{{ i }}"
                    [(ngModel)]="user.phone"
                    placeholder="Enter Whatsapp Number"
                    minlength="10"
                    maxlength="10"
                    class="form-control profile-input"
                    (keyup)="checkNumberExistance(i, user.phone, user.uuid)"
                    #phone="ngModel"
                    required
                  />
                  <p *ngIf="userList[i].isPhoneExist" class="error text-muted">
                    <i class="bi bi-exclamation-circle"></i> Phone number is
                    already exist.
                  </p>
                  <div *ngIf="phone?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Phone numer is
                      required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid phone no.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2"
                    >Email <span class="text-optional">(Optional)</span></label
                  >
                  <input
                    type="email"
                    name="userEmail{{ i }}"
                    [(ngModel)]="user.email"
                    #email="ngModel"
                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"
                    placeholder="Enter Email"
                    class="form-control profile-input"
                    (keyup)="checkEmailExistance(i, user.email, user.uuid)"
                  />
                  <p *ngIf="userList[i].isEmailExist" class="error text-muted">
                    This email already exist.
                  </p>
                  <div *ngIf="email?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="email.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Email Id is
                      required.
                    </p>
                    <p class="errortxt mt-2 mb-2" *ngIf="email.errors?.email">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                    <p class="errortxt mb-2" *ngIf="email.errors?.pattern">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                  </div>
                  <div
                    class="leave-delet-btn pointer position-absolute"
                    (click)="removeUser(i)"
                    *ngIf="i > 0"
                  >
                    <i class="bi bi-trash"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="" style="margin-top: -10px">
                <a
                  (click)="addUser()"
                  class="munal-add-more-btn"
                  [class.disabled]="!allUsersValid()"
                  ><i class="bi bi-plus" style="font-size: 20px"></i> Add new
                  user</a
                >
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              class="btn btn-primary"
              type="button"
              (click)="submit()"
              [disabled]="!allUsersValid()"
            >
              <span *ngIf="!isManualUploadSubmitLoader">Submit</span>
              <div class="submit-loader" *ngIf="isManualUploadSubmitLoader">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </button>
          </div> -->

          <div
            class="modal-body manualUpload p-0"
            style="
              background-image: url(../assets/images/manual-upload-back-img.svg);
            "
          >
            <div
              class="d-flex align-items-center justify-content-end pt-2"
              style="padding-right: 10px"
            >
              <button
                type="button"
                class="close-btn"
                data-bs-dismiss="modal"
                aria-label="Close"
                #closeButton
                (click)="resetManualUploadModal()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="30"
                  height="30"
                  viewBox="0 0 30 30"
                  fill="none"
                >
                  <mask
                    id="mask0_1531_457"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="30"
                    height="30"
                  >
                    <rect width="30" height="30" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_1531_457)">
                    <path
                      d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                      fill="white"
                    />
                  </g>
                </svg>
              </button>
            </div>
            <div class="row p-3 pb-0 pt-0">
              <div class="col-md-8">
                <div class="manualUploadDetail persnol-details p-0">
                  <h5 class="alert-heading text-white font-18 mb-2">
                    Manual Employee Entry
                  </h5>
                  <p class="mb-0 text-white">
                    Enter employee details one at a time to create a
                    personalized and accurate employee list
                  </p>

                  <div class="total-people mt-4 d-flex align-items-center justify-content-between">
                    <h5 class="mb-0 alert-heading text-white font-18">{{ userList.length - 1 }} People</h5>
                    <span *ngIf="!showUserList  && userList.length > 1" class="font-16 pointer" style="font-weight: 500" ngIg="viewMore" (click)="viewUserList()">
                      View <i class="bi bi-caret-down-fill"></i>
                    </span>
                  </div>

                  <!-- <div
                    class="total-people mt-4 d-flex align-items-center justify-content-between"
                  >
                    <h5 class="mb-0 alert-heading text-white font-18">
                      12 People
                    </h5>
                    <span
                      *ngIf="!showUserList"
                      class="font-16 pointer"
                      style="font-weight: 500"
                      ngIg="viewMore"
                      (click)="viewUserList()"
                      >View <i class="bi bi-caret-down-fill"></i
                    ></span>
                  </div> -->
                </div>
              </div>
              <div class="col-md-4">
                <div
                  class="side-img"
                  style="background-image: url(../assets/images/side-img.svg)"
                ></div>
              </div>
            </div>
            <!-- {{showUserList}} -->
            <div
              class="p-3"
              style="border-top: 1px solid #ffffff3d !important"  *ngIf="showUserList"
             
            >
              <div class="manualemployList">
                <div
                  class="d-flex align-items-center justify-content-between persnol-details userList p-0 pt-3 pb-1"
                  *ngFor="let user of userList | slice:0:-1; let i = index"
                >
                  <div class="d-flex align-items-center gap-3">
                    <div>
                      <span class="userName">{{ user.name.charAt(0).toUpperCase() }}</span>
                    </div>
                    <div>
                      <h5 class="alert-heading text-white font-13 mb-1">{{ user.name }}</h5>
                      <div class="d-flex align-items-center gap-2">
                        <p class="mb-0 text-white font-11">{{ user.email || 'N/A'}}</p>
                        <span class="error-spreter"></span>
                        <p class="mb-0 text-white font-11">{{ user.phone }}</p>
                      </div>
                    </div>
                  </div>
                  <div>
                    <button class="btn p-0 addUserRemvo" (click)="removeUser(i)">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="23"
                        viewBox="0 0 22 23"
                        fill="none"
                      >
                        <mask
                          id="mask0_1549_739"
                          style="mask-type: alpha"
                          maskUnits="userSpaceOnUse"
                          x="0"
                          y="0"
                          width="22"
                          height="23"
                        >
                          <rect
                            y="0.550781"
                            width="21.8948"
                            height="21.8948"
                            fill="white"
                          />
                        </mask>
                        <g mask="url(#mask0_1549_739)">
                          <path
                            d="M6.38529 19.7102C5.88353 19.7102 5.454 19.5315 5.09669 19.1742C4.73938 18.8169 4.56072 18.3874 4.56072 17.8856V6.02591H3.64844V4.20135H8.20985V3.28906H13.6836V4.20135H18.245V6.02591H17.3327V17.8856C17.3327 18.3874 17.154 18.8169 16.7967 19.1742C16.4394 19.5315 16.0099 19.7102 15.5081 19.7102H6.38529ZM15.5081 6.02591H6.38529V17.8856H15.5081V6.02591ZM8.20985 16.061H10.0344V7.85048H8.20985V16.061ZM11.859 16.061H13.6836V7.85048H11.859V16.061Z"
                            fill="white"
                          />
                        </g>
                      </svg>
                      Remove
                    </button>
                  </div>
                </div>

              <div class="d-flex align-items-center justify-content-end mt-2">
                <span
                  *ngIf="showUserList"
                  class="font-14 pointer text-white"
                  style="font-weight: 500"
                  ngIg="viewMore"
                  (click)="viewUserList()"
                  >View Less
                  <i class="bi bi-caret-up-fill" style="padding-left: 5px"></i
                ></span>
              </div>
            </div>
          
           
          </div>
          <div class="manualUploadForm p-3" *ngIf="!showUserList">
            <div class="row" *ngFor="let user of userList| slice:-1; let i = index">
              <div class="col-md-12">
                <div class="mb-3">
                  <label class="mb-2">
                    Employee Name <span class="text-optional">*</span></label
                  >
                  <input
                    type="text"
                    name="userName{{ i }}"
                    [(ngModel)]="user.name"
                    class="form-control profile-input"
                    placeholder="Enter Employee Name"
                    #name="ngModel"
                    minlength="3"
                    required
                  />
                  <div *ngIf="name?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="name.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Name is
                      required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="name.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid name.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="mb-3">
                  <label class="mb-2"
                    >Phone Number <span class="text-optional">*</span></label
                  >
                  <input
                    type="tel"
                    name="userPhone{{ i }}"
                    [(ngModel)]="user.phone"
                    placeholder="Enter Whatsapp Number"
                    minlength="10"
                    maxlength="10"
                    class="form-control profile-input"
                    (keyup)="checkNumberExistance(i, user.phone, user.uuid)"
                    #phone="ngModel"
                    required
                  />
                  <p
                    *ngIf="userList[i].isPhoneExist"
                    class="error text-muted"
                  >
                    <i class="bi bi-exclamation-circle"></i> Phone number is
                    already exist.
                  </p>
                  <div *ngIf="phone?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Phone number is
                      required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid phone no.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="mb-3">
                  <label class="mb-2"
                    >Email Id</label
                  >
                  <input
                    type="email"
                    name="userEmail{{ i }}"
                    [(ngModel)]="user.email"
                    #email="ngModel"
                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"
                    placeholder="Enter Email"
                    class="form-control profile-input"
                    (keyup)="checkEmailExistance(i, user.email, user.uuid)"
                  />
                  <p
                    *ngIf="userList[i].isEmailExist"
                    class="error text-muted"
                  >
                    This email already exist.
                  </p>
                  <div *ngIf="email?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="email.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Email Id is
                      required.
                    </p>
                    <p class="errortxt mt-2 mb-2" *ngIf="email.errors?.email">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                    <p class="errortxt mb-2" *ngIf="email.errors?.pattern">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                  </div>
                  <!-- <div
                    class="leave-delet-btn pointer position-absolute"
                    (click)="removeUser(i)"
                    *ngIf="i > 0"
                  >
                    <i class="bi bi-trash"></i>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
          <div
            class="modal-footer border-top d-flex align-items-center justify-content-between p-3 bg-white"
          >
            <!-- <button (click)="addUser()" class="munal-add-more-btn">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="31"
                viewBox="0 0 30 31"
                fill="none"
              >
                <mask
                  id="mask0_1549_495"
                  style="mask-type: alpha"
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="30"
                  height="31"
                >
                  <rect
                    y="0.730469"
                    width="29.5385"
                    height="29.5385"
                    fill="#D9D9D9"
                  />
                </mask>
                <g mask="url(#mask0_1549_495)">
                  <path
                    d="M13.5409 16.729H6.15625V14.2674H13.5409V6.88281H16.0024V14.2674H23.387V16.729H16.0024V24.1136H13.5409V16.729Z"
                    fill="#6666F2"
                  />
                </g>
              </svg>
              Add new user
            </button> -->

            <button
              class="btn mannualSubmit"
              (click)="submit()"
              [disabled]="this.userList.length < 2"
            >
              Submit
            </button>
            <button
              class="btn mannualSubmit"
              (click)="addUser()"
              [disabled]="!currentUsersValid()"
            >
              Save And Add New
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
