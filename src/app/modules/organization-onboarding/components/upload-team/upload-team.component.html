<div class="page-wrapper">
  <div class="page-content-tab-onbording">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="persnol-details">
            <div
              class="d-flex justify-content-between mb-2"
              *ngIf="selectedMethod == ''"
            >
              <div class="d-flex align-items-center" style="gap: 15px">
                <div class="">
                  <h5 class="mb-0">Employee Details</h5>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="card-header p-0 pb-3 bg-white">
                  <h4 class="card-title-headding mb-1">
                    Provide Your Employee Information
                  </h4>
                  <p class="mb-0">
                    Please ensure that all required fields are accurately filled
                    out when creating employee profiles in our HR system. This
                    will help us maintain up-to-date records and provide better
                    support to our employees.
                  </p>
                </div>
              </div>

              <ng-container
                *ngIf="
                  !isShimmer &&
                  onboardUserList.length == 0 &&
                  !networkConnectionErrorPlaceholder
                "
              >
                <div class="col-md-12">
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 sampleExcelFileBox">
                      <h4 class="alert-heading font-14">
                        Download the Sample Excel File!
                      </h4>
                      <p class="mb-0">
                        Look Tor the sample Tlle titlea sample vala.xisx ana
                        click on the aownioaa button to save it to vour
                        computer. Take a moment to review the existing data in
                        the Excel file. This will help you understand the
                        structure and content of the data before making any
                        updates.
                        <a
                          class="text-primary textDecrotion"
                          href="{{ sampleFileUrl }}"
                          >Download a sample Excel file.</a
                        >
                        update its data, and upload it back with the updated
                        content on our platform
                      </p>
                    </div>
                  </div>
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 excel-uplode-file-box">
                      <!-- <input
                        id="fileSelect"
                        type="file"
                        name="img[]"
                        accept=".xlsx"
                        class="input"
                        (change)="selectFile($event)"
                      />
                      <img
                        src="assets/images/excel.svg"
                        style="width: 50px"
                        class="pb-3"
                      />
                      <p class="">
                        Drag file here to upload<br />
                        or,
                        <u
                          ><a class="text-primary" href="#!">
                            choose file
                          </a></u
                        >
                      </p>
                      <div
                        *ngIf="isProgressToggle"
                        class="spinner-border text-success"
                        role="status"
                      ></div> -->

                      <div
                        class="d-flex align-items-center justify-content-between gap-3"
                      >
                        <div style="width: 15%">
                          <img
                            src="assets/images/excel-img.svg"
                            style="width: 100%"
                          />
                        </div>
                        <div
                          class="d-flex align-items-center justify-content-between"
                          style="width: 85%"
                        >
                          <div>
                            <h5 class="alert-heading font-15 mb-2">
                              Generate Your Employee List via Excel
                            </h5>
                            <p class="mb-0">
                              Effortlessly create and manage your employee list
                              by uploading an <br />
                              organised Excel sheet.
                            </p>
                          </div>
                          <div class="">
                            <button
                              class="btn excelUploadBtn"
                              onclick="document.getElementById('fileSelect').click();"
                            >
                              Excel Upload
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                              >
                                <mask
                                  id="mask0_1530_1347"
                                  style="mask-type: alpha"
                                  maskUnits="userSpaceOnUse"
                                  x="0"
                                  y="0"
                                  width="22"
                                  height="22"
                                >
                                  <rect
                                    x="0.117188"
                                    y="0.515625"
                                    width="20.9709"
                                    height="20.9709"
                                    fill="#D9D9D9"
                                  />
                                </mask>
                                <g mask="url(#mask0_1530_1347)">
                                  <path
                                    d="M14.2477 11.8758H3.60938V10.1282H14.2477L9.35452 5.23502L10.5997 4.01172L17.59 11.002L10.5997 17.9923L9.35452 16.769L14.2477 11.8758Z"
                                    fill="white"
                                  />
                                </g>
                              </svg>
                            </button>
                            <input
                              id="fileSelect"
                              type="file"
                              name="img[]"
                              accept=".xlsx"
                              class="input"
                              style="display: none"
                              (change)="selectFile($event)"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-body mt-3 p-0">
                    <div class="alert alert-light mb-0 excel-uplode-file-box">
                      <div
                        class="d-flex align-items-center justify-content-between gap-3"
                      >
                        <div style="width: 15%">
                          <img
                            src="assets/images/manually-img.svg"
                            style="width: 100%"
                          />
                        </div>
                        <div
                          class="d-flex align-items-center justify-content-between"
                          style="width: 85%"
                        >
                          <div>
                            <h5 class="alert-heading font-15 mb-2">
                              Manually Build Your Employee List
                            </h5>
                            <p class="mb-0">
                              Enter employee details one by one to create a
                              personalized list <br />
                              tailored to your needs.
                            </p>
                          </div>
                          <div class="">
                            <button
                              class="btn excelUploadBtn"
                              data-bs-toggle="modal"
                              data-bs-target="#munal-upload"
                            >
                              Manually Upload
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                              >
                                <mask
                                  id="mask0_1530_1347"
                                  style="mask-type: alpha"
                                  maskUnits="userSpaceOnUse"
                                  x="0"
                                  y="0"
                                  width="22"
                                  height="22"
                                >
                                  <rect
                                    x="0.117188"
                                    y="0.515625"
                                    width="20.9709"
                                    height="20.9709"
                                    fill="#D9D9D9"
                                  />
                                </mask>
                                <g mask="url(#mask0_1530_1347)">
                                  <path
                                    d="M14.2477 11.8758H3.60938V10.1282H14.2477L9.35452 5.23502L10.5997 4.01172L17.59 11.002L10.5997 17.9923L9.35452 16.769L14.2477 11.8758Z"
                                    fill="white"
                                  />
                                </g>
                              </svg>
                            </button>
                          </div>
                        </div>
                      </div>

                      <!-- <input
                        id="fileSelect"
                        type="file"
                        name="img[]"
                        accept=".xlsx"
                        class="input"
                        (change)="selectFile($event)"
                      />
                      <img
                        src="assets/images/excel.svg"
                        style="width: 50px"
                        class="pb-3"
                      />
                      <p class="">
                        Drag file here to upload<br />
                        or,
                        <u
                          ><a class="text-primary" href="#!">
                            choose file
                          </a></u
                        >
                      </p>
                      <div
                        *ngIf="isProgressToggle"
                        class="spinner-border text-success"
                        role="status"
                      ></div> -->
                    </div>
                  </div>
                </div>

                <!-- <div class="col-md-4">
                  <div class="card-body mt-0 bg-soft-warning">
                    <div class="pt-3">
                      <img
                        src="assets/images/small/business.png"
                        alt=""
                        class="img-fluid px-3 mb-2"
                      />
                      <footer class="blockquote-footer font-14">
                        Efficiency Redefined:
                        <cite title="Source Title"
                          >Seamlessly Create Employees in Your Hajiri System
                        </cite>
                      </footer>
                      <div class="py-2">
                        <button
                          class="btn btn-outline-primary btn-square"
                          data-bs-toggle="modal"
                          data-bs-target="#munal-upload"
                          type="button"
                        >
                          Click Here To Create
                        </button>
                      </div>
                    </div>
                  </div>
                </div> -->
                <div
                  class="alert alert-light mb-0 mt-4 bg-soft-warning create-password-warning text-start"
                  role="alert"
                  *ngIf="
                    alreadyUsedPhoneNumberArray.length > 0 ||
                    alreadyUsedEmailArray.length > 0 ||
                    isErrorToggle
                  "
                >
                  <h4 class="alert-heading font-18">Attention!</h4>
                  <p *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                    Phone Numbers:
                    {{ formatAsCommaSeparated(alreadyUsedPhoneNumberArray) }}
                  </p>
                  <p *ngIf="alreadyUsedEmailArray.length > 0">
                    Emails: {{ formatAsCommaSeparated(alreadyUsedEmailArray) }}
                  </p>
                  <p *ngIf="isErrorToggle">Error: {{ errorMessage }}</p>
                  <!-- <div *ngFor="let pn of alreadyUsedPhoneNumberArray">
                    {{ pn }}
                  </div>
                  <div *ngFor="let ea of alreadyUsedEmailArray">
                    {{ ea }}
                  </div> -->
                  <p *ngIf="!isErrorToggle">
                    These credentials are already registered with us!
                  </p>
                </div>
              </ng-container>

              <ng-container
                *ngIf="
                  isShimmer &&
                    onboardUserList.length == 0 &&
                    !networkConnectionErrorPlaceholder;
                  else onboardUserListCondition
                "
              >
                <div class="">
                  <div class="text-end">
                    <ngx-shimmer-loading
                      [width]="'30%'"
                      [height]="'40px'"
                      style="border-radius: 50%"
                    ></ngx-shimmer-loading>
                  </div>
                </div>
                <div
                  class="mt-3 mb-2"
                  style="
                    border: 1px solid #f5f5f5;
                    padding: 5px;
                    border-radius: 6px;
                  "
                  *ngFor="let number of [1, 2, 3, 4, 5]"
                >
                  <div class="row mt-3">
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="">
                        <ngx-shimmer-loading
                          [width]="'100%'"
                          [height]="'30px'"
                          style="border-radius: 50%"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>

              <ng-template #onboardUserListCondition>
                <ng-container
                  *ngIf="
                    !isShimmer &&
                      onboardUserList.length != 0 &&
                      !networkConnectionErrorPlaceholder;
                    else errorInOnboardUserListCondition
                  "
                >
                  <div class="row mt-3">
                    <div
                      class="d-flex align-items-center justify-content-between mb-3 p-0"
                      *ngIf="onboardingViaString != 'SLACK'"
                    >
                      <div>
                        <h5 class="alert-heading font-14 mb-0">
                          Employee List
                        </h5>
                      </div>

                      <div class="d-flex gap-3">
                        <input
                          #fileInput
                          id="fileSelect"
                          type="file"
                          name="img[]"
                          accept=".xlsx"
                          class="input"
                          style="display: none"
                          (change)="selectFile($event)"
                        />
                        <button
                          type="button"
                          class="btn add-excel"
                          (click)="fileInput.click()"
                        >
                          <!-- <i
                          *ngIf="!isProgressToggle"
                          class="bi bi-file-earmark-excel"
                          style="padding-right: 6px"
                        ></i> -->

                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                          >
                            <mask
                              id="mask0_1549_4381"
                              style="mask-type: alpha"
                              maskUnits="userSpaceOnUse"
                              x="0"
                              y="0"
                              width="24"
                              height="24"
                            >
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_1549_4381)">
                              <path
                                d="M8 18H16V16H8V18ZM8 14H16V12H8V14ZM6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V4C4 3.45 4.19583 2.97917 4.5875 2.5875C4.97917 2.19583 5.45 2 6 2H14L20 8V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM13 9V4H6V20H18V9H13Z"
                                fill="#6666F2"
                              />
                            </g>
                          </svg>
                          <div
                            *ngIf="isProgressToggle"
                            class="spinner-border text-primary excel-spinner"
                            role="status"
                          ></div>
                          Excel Upload
                        </button>

                        <span class="spreter"></span>
                        <button
                          type="button"
                          class="btn add-excel"
                          data-bs-toggle="modal"
                          data-bs-target="#munal-upload"
                          (click)="selectMethod('mannual')"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                          >
                            <mask
                              id="mask0_1549_4386"
                              style="mask-type: alpha"
                              maskUnits="userSpaceOnUse"
                              x="0"
                              y="0"
                              width="24"
                              height="24"
                            >
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_1549_4386)">
                              <path
                                d="M9.94844 21C9.49844 21 9.06927 20.9042 8.66094 20.7125C8.2526 20.5208 7.90677 20.25 7.62344 19.9L1.14844 11.925L1.79844 11.3C2.1151 10.9833 2.4901 10.8 2.92344 10.75C3.35677 10.7 3.74844 10.8 4.09844 11.05L6.99844 13.075V3C6.99844 2.71667 7.09427 2.47917 7.28594 2.2875C7.4776 2.09583 7.7151 2 7.99844 2C8.28177 2 8.51927 2.09583 8.71094 2.2875C8.9026 2.47917 8.99844 2.71667 8.99844 3V16.925L6.22344 14.975L9.17344 18.625C9.27344 18.7417 9.3901 18.8333 9.52344 18.9C9.65677 18.9667 9.79844 19 9.94844 19H16.9984C17.5484 19 18.0193 18.8042 18.4109 18.4125C18.8026 18.0208 18.9984 17.55 18.9984 17V10C18.9984 9.71667 19.0943 9.47917 19.2859 9.2875C19.4776 9.09583 19.7151 9 19.9984 9C20.2818 9 20.5193 9.09583 20.7109 9.2875C20.9026 9.47917 20.9984 9.71667 20.9984 10V17C20.9984 18.1 20.6068 19.0417 19.8234 19.825C19.0401 20.6083 18.0984 21 16.9984 21H9.94844ZM10.9984 13V7C10.9984 6.71667 11.0943 6.47917 11.2859 6.2875C11.4776 6.09583 11.7151 6 11.9984 6C12.2818 6 12.5193 6.09583 12.7109 6.2875C12.9026 6.47917 12.9984 6.71667 12.9984 7V13H10.9984ZM14.9984 13V8C14.9984 7.71667 15.0943 7.47917 15.2859 7.2875C15.4776 7.09583 15.7151 7 15.9984 7C16.2818 7 16.5193 7.09583 16.7109 7.2875C16.9026 7.47917 16.9984 7.71667 16.9984 8V13H14.9984Z"
                                fill="#6666F2"
                              />
                            </g>
                          </svg>
                          Manual Upload
                        </button>
                      </div>
                    </div>
                    <div
                      class="alert alert-light mb-0 mt-4 bg-soft-warning create-password-warning text-start"
                      role="alert"
                      *ngIf="
                        alreadyUsedPhoneNumberArray.length > 0 ||
                        alreadyUsedEmailArray.length > 0 ||
                        isErrorToggle
                      "
                    >
                      <h4 class="alert-heading font-18">Attention!</h4>
                      <!-- <div *ngFor="let pn of alreadyUsedPhoneNumberArray">
                        {{ pn }}
                      </div>
                      <div *ngFor="let ea of alreadyUsedEmailArray">
                        {{ ea }}
                      </div> -->
                      <p *ngIf="isErrorToggle">Error: {{ errorMessage }}</p>
                      <p *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                        Phone Numbers:
                        {{
                          formatAsCommaSeparated(alreadyUsedPhoneNumberArray)
                        }}
                      </p>
                      <p *ngIf="alreadyUsedEmailArray.length > 0">
                        Emails:
                        {{ formatAsCommaSeparated(alreadyUsedEmailArray) }}
                      </p>
                      <p *ngIf="!isErrorToggle">
                        These credentials are already registered with us!
                      </p>
                    </div>
                    <table class="table table-striped">
                      <thead class="thead-light">
                        <tr>
                          <th style="width: 5%" class="text-center">Count</th>
                          <th style="width: 25%" class="text-left">Name</th>
                          <th style="width: 25%" class="text-left">
                            Email Address
                          </th>
                          <th
                            style="width: 20%"
                            class="text-left"
                            *ngIf="onboardingViaString != 'SLACK'"
                          >
                            Phone Number
                          </th>

                          <th style="width: 20%" class="text-center">Action</th>
                        </tr>
                      </thead>
                      <tbody class="">
                        <tr
                          *ngFor="
                            let onboardUser of onboardUserList;
                            let i = index
                          "
                        >
                          <td class="text-center">
                            {{ i + 1 }}
                          </td>
                          <td>{{ onboardUser.name }}</td>
                          <td>
                            {{ onboardUser.email ? onboardUser.email : "N/A" }}
                          </td>
                          <td *ngIf="onboardingViaString != 'SLACK'">
                            {{ onboardUser.phone }}
                          </td>

                          <td
                            class="d-flex align-items-center justify-content-center gap-2"
                          >
                            <a
                              *ngIf="onboardingViaString != 'SLACK'"
                              (click)="openUserEditModal(onboardUser)"
                              ><i class="las la-pen text-primary font-16"></i
                            ></a>
                            <a (click)="deleteUser(onboardUser.id)"
                              ><i
                                class="las la-trash-alt text-danger font-16"
                              ></i
                            ></a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </ng-template>

              <ng-template #errorInOnboardUserListCondition>
                <div
                  class="errorboxmain"
                  *ngIf="networkConnectionErrorPlaceholder"
                >
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>

                    <h4>Something went wrong!</h4>

                    <p>An error occurred while processing your request!</p>
                  </div>
                </div>
                <!-- <div class="errorboxmaintop" style="box-shadow: none; padding: 5px; padding-left: 0px;"
                                *ngIf="networkConnectionErrorPlaceholder">
                                <div class="errorboxinner" style="display: flex; align-items: center; gap: 10px;">
                                    <div class="errorboxplaceholder mb-2">
                                        <img src="assets/images/signal.svg"/>
                                    </div>
                                    <div class="">
                                        <h6 style="font-size: 13px; margin-bottom: 0px;">Something went wrong!</h6>
                                    </div>
                                </div>
                            </div> -->
              </ng-template>
            </div>
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-8">
                <div
                  class="next-btn-box d-flex align-items-center justify-content-between"
                >
                  <button
                    class="btn btn-outline-secondary btn-round previous-btn"
                    type="button"
                    (click)="backPage()"
                  >
                    <span *ngIf="!isPreviousLoading"
                      ><i class="bi bi-arrow-left"></i> Previous</span
                    >

                    <div class="dot-opacity-loader" *ngIf="isPreviousLoading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                  <button
                    type="submit"
                    class="btn btn-outline-primary btn-round"
                    (click)="next()"
                  >
                    <span *ngIf="!isNextloading"
                      >Next
                      <i class="bi bi-arrow-right" style="padding-left: 8px"></i
                    ></span>
                    <div class="dot-opacity-loader" *ngIf="isNextloading">
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- user edit modal -->
    <button
      #userEditModal
      class="d-none"
      data-bs-toggle="modal"
      data-bs-target="#editUser"
    ></button>
    <div
      class="modal fade"
      id="editUser"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit User</h5>
            <button
              type="button"
              #closeUserEditModal
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form #editUserForm="ngForm">
              <div class="form-group row mb-3">
                <div class="col-md-4">
                  <label class="mb-2"> Name</label>
                  <input
                    type="text"
                    name="Name"
                    [(ngModel)]="user.name"
                    class="form-control"
                    placeholder="Enter Name"
                    required
                  />
                </div>
                <div class="col-md-4">
                  <label class="mb-2">Phone Number</label>
                  <input
                    type="tel"
                    name="phone"
                    [(ngModel)]="user.phone"
                    placeholder="Phone Number"
                    minlength="10"
                    maxlength="10"
                    class="form-control"
                    oninput="this.value = this.value.replace(/^[^1-9]/g, '').replace(/(\..*)\./g, '$1');"
                    (keyup)="checkNumberExistance(-1, user.phone, user.uuid)"
                    required
                  />
                  <p *ngIf="isNumberExist" class="error text-danger">
                    This number already exist
                  </p>
                </div>
                <div class="col-md-4">
                  <label class="mb-2">Email </label>
                  <input
                    type="email"
                    name="email"
                    [(ngModel)]="user.email"
                    placeholder="Email"
                    class="form-control"
                    (keyup)="checkEmailExistance(-1, user.email, user.uuid)"
                  />
                  <p *ngIf="isEmailExist" class="error text-danger">
                    This email already exist
                  </p>
                </div>
              </div>
              <div class="d-flex justify-content-end">
                <button
                  type="submit"
                  class="btn btn-primary"
                  [disabled]="
                    editUserForm.invalid || isNumberExist || isEmailExist
                  "
                  (click)="editUser()"
                >
                  <span *ngIf="!editLoader">Submit</span>
                  <div class="dot-opacity-loader" *ngIf="editLoader">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- user edit modal -->
    <button
      class="d-none"
      data-bs-toggle="modal"
      data-bs-target="#munal-upload"
    ></button>
    <div
      class="modal fade"
      id="munal-upload"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered"
        style="max-width: 700px"
        role="document"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Manual Upload</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
              #closeButton
              (click)="resetManualUploadModal()"
            ></button>
          </div>
          <div class="modal-body munal-deta-upload-modal">
            <div class="row" *ngFor="let user of userList; let i = index">
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2">
                    Name <span class="text-optional">*</span></label
                  >
                  <input
                    type="text"
                    name="userName{{ i }}"
                    [(ngModel)]="user.name"
                    class="form-control profile-input"
                    placeholder="Enter Employee Name"
                    #name="ngModel"
                    minlength="3"
                    required
                  />
                  <div *ngIf="name?.dirty || isFormInvalid">
                    <p class="errortxt mt-2 mb-2" *ngIf="name.errors?.required">
                      <i class="bi bi-exclamation-circle"></i> Name is required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="name.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid name.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2"
                    >Phone Number <span class="text-optional">*</span></label
                  >
                  <input
                    type="tel"
                    name="userPhone{{ i }}"
                    [(ngModel)]="user.phone"
                    placeholder="Enter Whatsapp Number"
                    minlength="10"
                    maxlength="10"
                    class="form-control profile-input"
                    (keyup)="checkNumberExistance(i, user.phone, user.uuid)"
                    #phone="ngModel"
                    required
                  />
                  <p *ngIf="userList[i].isPhoneExist" class="error text-muted">
                    <i class="bi bi-exclamation-circle"></i> Phone number is
                    already exist.
                  </p>
                  <div *ngIf="phone?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Phone numer is
                      required.
                    </p>
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="phone.errors?.minlength"
                    >
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid phone no.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="mb-2"
                    >Email <span class="text-optional">(Optional)</span></label
                  >
                  <input
                    type="email"
                    name="userEmail{{ i }}"
                    [(ngModel)]="user.email"
                    #email="ngModel"
                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"
                    placeholder="Enter Email"
                    class="form-control profile-input"
                    (keyup)="checkEmailExistance(i, user.email, user.uuid)"
                  />
                  <p *ngIf="userList[i].isEmailExist" class="error text-muted">
                    This email already exist.
                  </p>
                  <div *ngIf="email?.dirty || isFormInvalid">
                    <p
                      class="errortxt mt-2 mb-2"
                      *ngIf="email.errors?.required"
                    >
                      <i class="bi bi-exclamation-circle"></i> Email Id is
                      required.
                    </p>
                    <p class="errortxt mt-2 mb-2" *ngIf="email.errors?.email">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                    <p class="errortxt mb-2" *ngIf="email.errors?.pattern">
                      <i class="bi bi-exclamation-circle"></i> Please enter a
                      valid email.
                    </p>
                  </div>
                  <div
                    class="leave-delet-btn pointer position-absolute"
                    (click)="removeUser(i)"
                    *ngIf="i > 0"
                  >
                    <i class="bi bi-trash"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="" style="margin-top: -10px">
                <a
                  (click)="addUser()"
                  class="munal-add-more-btn"
                  [class.disabled]="!allUsersValid()"
                  ><i class="bi bi-plus" style="font-size: 20px"></i> Add new
                  user</a
                >
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              class="btn btn-primary"
              type="button"
              (click)="submit()"
              [disabled]="!allUsersValid()"
            >
              <span *ngIf="!isManualUploadSubmitLoader">Submit</span>
              <div class="submit-loader" *ngIf="isManualUploadSubmitLoader">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
