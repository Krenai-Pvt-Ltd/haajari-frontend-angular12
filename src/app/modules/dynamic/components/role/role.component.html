<div class="page-wrapper">
  <div class="page-content-tab">
    <div class="container-fluid">
      <div class="mt-3 pb-3">
        <div class="">
          <ul id="myTab" role="tablist" class="nav nav-tabs">
            <li role="presentation" class="nav-item">
              <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#user-controls" type="button" role="tab"
                aria-controls="profile" aria-selected="false" class="nav-link active"
                (click)="getUserAndControlRolesByFilterMethodCall()">
                Users And Controls
              </button>
            </li>
            <li role="presentation" class="nav-item">
              <button id="home-tab" data-bs-toggle="tab" data-bs-target="#role-security" type="button" role="tab"
                aria-controls="home" aria-selected="true" class="nav-link" (click)="getAllRolesMethodCall()"
                #rolesAndSecurity>
                Roles And Security
              </button>
            </li>
          </ul>

          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active mt-3" id="user-controls" role="tabpanel">
              <div class="">
                <div class="row leave-management-settings p-3 align-items-center" style="margin-top: -8px"
                  *ngIf="isPlaceholder">
                  <div class="col-md-6">
                    <div class="leave-management-detail pt-5 pb-5">
                      <h3 class="mb-3">
                        You haven't defined <br />
                        the employee roles yet
                      </h3>
                      <p class="mb-0 font-14">
                        Easily customize your leave management preferences,
                        define leave <br />
                        types, set approval workflows, and streamline employee
                        leave tracking.
                      </p>
                      <button class="btn add-leave-btn mt-4 mb-2" data-bs-toggle="modal" data-bs-target="#assignrole"
                        type="btn" (click)="getUsersByFilterMethodCall()">
                        Assign role to user
                      </button>
                      <hr />

                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="leave-management-detail-img text-end">
                      <img src="assets/images/employee-roles.svg" style="width: 400px" />
                    </div>
                  </div>
                </div>

                <div class="search-section row p-0 m-0 align-items-center" *ngIf="!isPlaceholder">
                  <div class="col-md-10">
                    <form novalidate="" role="search" (submit)="searchUsers()"
                      class="searching ng-untouched ng-pristine ng-valid">
                      <div class="form-group" style="width: 100%; position: relative">
                        <input type="text" id="searchText" placeholder="Search by name and role"
                          class="form-control me-2 ng-untouched ng-pristine ng-valid attendance-details-search"
                          (keyup)="searchUsers()" [(ngModel)]="searchText" [ngModelOptions]="{ standalone: true }"
                          style="padding: 10px 30px" />
                        <button type="button" class="btn close-btn" (click)="clearSearchUsers()" *ngIf="crossFlag">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none">
                            <mask id="mask0_4339_1778" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                              width="24" height="24">
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_4339_1778)">
                              <path
                                d="M6.4 17.7867L5 16.4291L10.6 10.9988L5 5.56851L6.4 4.21094L12 9.64124L17.6 4.21094L19 5.56851L13.4 10.9988L19 16.4291L17.6 17.7867L12 12.3564L6.4 17.7867Z"
                                fill="#1C1B1F" />
                            </g>
                          </svg>
                        </button>
                        <i class="bi bi-search search-icon" style="margin: auto; margin-left: 10px"></i>
                      </div>
                    </form>
                  </div>
                  <div class="col-md-2 text-end" *ngIf="rbacService.hasWriteAccess(Routes.ROLE)">
                    <button class="btn p-0 text-primary fw-semibold" data-bs-toggle="modal" data-bs-target="#assignrole"
                      type="btn" (click)="
                        getUsersByFilterMethodCall();
                        emptyAssignRoleToUserInUserAndControlMethodCall()
                      ">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <mask id="mask0_4339_1450" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                          width="24" height="24">
                          <rect width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_4339_1450)">
                          <path
                            d="M11 17H13V13H17V11H13V7H11V11H7V13H11V17ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z"
                            fill="#6666F2" />
                        </g>
                      </svg>
                      Assign Role To User
                    </button>
                  </div>
                </div>
                <ng-container *ngIf="
                    isShimmerForUserAndControl &&
                      userAndControlRoles.length === 0 &&
                      !dataNotFoundPlaceholderForUserAndControl &&
                      !networkConnectionErrorPlaceHolderForUserAndControl &&
                      !isPlaceholder;
                    else userAndControlRolesData
                  ">
                  <div class="row mt-3">
                    <table class="table">
                      <tr *ngFor="let item of [].constructor(6)">
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'60%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'60%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td class="text-center">
                          <ngx-shimmer-loading [width]="'50%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                      </tr>
                    </table>
                  </div>

                </ng-container>

                <ng-template #userAndControlRolesData>
                  <ng-container *ngIf="
                      userAndControlRoles.length !== 0 &&
                        !dataNotFoundPlaceholderForUserAndControl &&
                        !networkConnectionErrorPlaceHolderForUserAndControl &&
                        !isPlaceholder;
                      else errorInFetchingUserAndControlData
                    ">
                    <div class="row mt-3">
                      <div class="table-responsive bg-white">
                        <table class="table">
                          <thead>
                            <tr>
                              <th class="text-left" style="width: 10%">
                                Employee Name
                              </th>
                              <th class="text-left" style="width: 10%">
                                Email Address
                              </th>
                              <th class="text-left" style="width: 10%">
                                Phone number
                              </th>
                              <th class="text-left" style="width: 10%">
                                Role
                              </th>
                              <th class="text-left" style="width: 10%">
                                Assigned Date
                              </th>

                              <th class="text-center" style="width: 10%">
                                Action
                              </th>
                            </tr>
                          </thead>

                          <tbody>
                            <tr *ngFor="
                                let userAndControl of userAndControlRoles
                                  | paginate
                                    : {
                                        itemsPerPage: itemPerPage,
                                        currentPage: pageNumber,
                                        totalItems: total
                                      }
                              ">
                              <td class="text-left">
                                <span class="teme-maneger mb-0 table-font-weight">
                                  {{ userAndControl.user.name }}
                                </span>
                              </td>
                              <td class="text-left">
                                <span class="teme-maneger mb-0 table-font-weight">
                                  {{ userAndControl.user.email }}
                                </span>
                              </td>
                              <td class="text-left">
                                <span class="teme-maneger mb-0 table-font-weight">
                                  {{
                                  userAndControl.user.phoneNumber || "N/A"
                                  }}</span>
                              </td>
                              <td class="text-left">
                                <div class="font-13 fw-semibold" [ngClass]="{
                                    'text-primary':
                                      userAndControl.role.name === 'ADMIN',
                                    'text-success':
                                      userAndControl.role.name === 'USER',
                                    'text-warning':
                                      userAndControl.role.name === 'MANAGER',
                                    'text-danger':
                                      userAndControl.role.name !== 'ADMIN' &&
                                      userAndControl.role.name !== 'USER' &&
                                      userAndControl.role.name !== 'MANAGER'
                                  }">
                                  <span> {{ userAndControl.role.name }}</span>
                                </div>
                              </td>
                              <td class="text-left">
                                <span class="teme-maneger mb-0 table-font-weight">
                                  {{ userAndControl.updatedDate | date: 'dd-MM-yyyy' }}</span>
                              </td>

                              <td class="text-center">
                                <ng-container *ngIf="rbacService.hasWriteAccess(Routes.ROLE)">
                                <div class="d-flex align-items-center justify-content-center gap-2">
                                  <button type="button" class="btn btnAction p-0" data-bs-toggle="modal"
                                    data-bs-target="#assignrole" (click)="
                                      selectUserAndControl(userAndControl)
                                    ">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19"
                                      fill="none">
                                      <mask id="mask0_4127_1895" style="mask-type: alpha" maskUnits="userSpaceOnUse"
                                        x="0" y="0" width="19" height="19">
                                        <rect width="18.8342" height="18.8342" fill="#444444" />
                                      </mask>
                                      <g mask="url(#mask0_4127_1895)">
                                        <path
                                          d="M3.92372 14.9177H4.91369L12.9469 6.88448L11.9569 5.89451L3.92372 13.9277V14.9177ZM2.74658 16.0948V13.4388L13.0979 3.09194C13.2166 2.98417 13.3476 2.90092 13.4909 2.84219C13.6344 2.78333 13.7848 2.75391 13.9421 2.75391C14.0995 2.75391 14.2519 2.78183 14.3993 2.83768C14.5468 2.89353 14.6774 2.98234 14.791 3.1041L15.7494 4.07446C15.8712 4.18812 15.958 4.31891 16.0098 4.46684C16.0616 4.61476 16.0875 4.76269 16.0875 4.91062C16.0875 5.06848 16.0605 5.21909 16.0066 5.36244C15.9528 5.50592 15.867 5.63698 15.7494 5.75561L5.4026 16.0948H2.74658ZM12.4432 6.39813L11.9569 5.89451L12.9469 6.88448L12.4432 6.39813Z"
                                          fill="#444444" />
                                      </g>
                                    </svg>
                                  </button>

                                  <button type="button" class="btn btnAction p-0"
                                    (click)="deleteUser(userAndControl.id)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19"
                                      fill="none">
                                      <mask id="mask0_4127_1892" style="mask-type: alpha" maskUnits="userSpaceOnUse"
                                        x="0" y="0" width="19" height="19">
                                        <rect x="0.165527" y="0.140625" width="18.8342" height="18.8342"
                                          fill="#D9D9D9" />
                                      </mask>
                                      <g mask="url(#mask0_4127_1892)">
                                        <path
                                          d="M5.90067 16.2346C5.50934 16.2346 5.17503 16.096 4.89775 15.8189C4.6206 15.5416 4.48202 15.2073 4.48202 14.816V4.85563H3.69727V3.67849H7.22868V2.98438H11.9372V3.67849H15.4686V4.85563H14.6839V14.816C14.6839 15.2124 14.5465 15.548 14.2719 15.8226C13.9972 16.0973 13.6617 16.2346 13.2652 16.2346H5.90067ZM13.5067 4.85563H5.65916V14.816C5.65916 14.8865 5.68179 14.9443 5.72704 14.9896C5.7723 15.0349 5.83017 15.0575 5.90067 15.0575H13.2652C13.3257 15.0575 13.381 15.0323 13.4312 14.982C13.4816 14.9317 13.5067 14.8764 13.5067 14.816V4.85563ZM7.54572 13.488H8.72266V6.42515H7.54572V13.488ZM10.4432 13.488H11.6202V6.42515H10.4432V13.488Z"
                                          fill="#FF0000" />
                                      </g>
                                    </svg>
                                  </button>
                                </div>
                              </ng-container>
                              <ng-container *ngIf="!rbacService.hasWriteAccess(Routes.ROLE)">
                                <div class="font-13 text-warning fw-semibold"> Unauthorized</div>
                              </ng-container>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </ng-container>
                </ng-template>

                <ng-template #errorInFetchingUserAndControlData>
                  <div class="empty-file row mt-3" *ngIf="
                      networkConnectionErrorPlaceHolderForUserAndControl &&
                      !isPlaceholder
                    ">
                    <nz-empty nzNotFoundImage="assets/images/no-data-found-img-2.svg" [nzNotFoundContent]="contentTpl">
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">
                          Something went wrong!
                        </p>
                      </ng-template>
                    </nz-empty>
                  </div>
                  <div class="empty-file" style="margin-top: 15%" *ngIf="
                      dataNotFoundPlaceholderForUserAndControl && !isPlaceholder
                    ">
                    <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">Data not found!</p>
                      </ng-template>
                    </nz-empty>
                  </div>
                </ng-template>
              </div>

              <div class="pagination pl-3" *ngIf="total > 8">
                <p class="mb-0" style="padding-left: 15px">
                  Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                  {{ total }} roles
                </p>
                <div class="row">
                  <div class="col-md-12">
                    <nav aria-label="Page navigation example">
                      <ul class="pagination justify-content-end">
                        <li class="page-item" [class.disabled]="pageNumber == 1">
                          <a class="page-link" href="javascript:void(0);" aria-label="Previous"
                            (click)="changePage('prev')">
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                        <li class="page-item" *ngFor="let page of getPages()" [class.active]="pageNumber == page">
                          <a class="page-link" href="javascript:void(0);" (click)="changePage(page)">{{ page }}</a>
                        </li>
                        <li class="page-item" [class.disabled]="pageNumber == totalPages">
                          <a class="page-link" href="javascript:void(0);" aria-label="Next"
                            (click)="changePage('next')">
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>

            <!-- role-security modal -->
            <div class="tab-pane fade mt-3" id="role-security" role="tabpanel">
              <div class="">
                <div class="mt-3">
                  <div class="table-responsive bg-white">
                    <div class="row">
                      <ng-container *ngIf="
                          isShimmerForRolesAndSecurity &&
                            roles.length === 0 &&
                            !dataNotFoundPlaceholderForRolesAndSecurity &&
                            !networkConnectionErrorPlaceHolderForRolesAndSecurity;
                          else rolesData
                        ">
                        <div class="row mt-3">
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex gap-3">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex" style="gap: 10px">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex" style="gap: 10px">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex" style="gap: 10px">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex" style="gap: 10px">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="roldefine-box">
                              <div class="d-flex" style="gap: 10px">
                                <div class="" style="width: 15%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                                <div class="" style="width: 60%">
                                  <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                  <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"
                                    style="border-radius: 50%"></ngx-shimmer-loading>
                                </div>
                              </div>
                              <div class="mt-1">
                                <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                                <ngx-shimmer-loading [width]="'90%'" [height]="'10px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                              <div class="mt-3">
                                <ngx-shimmer-loading [width]="'50%'" [height]="'15px'"
                                  style="border-radius: 50%"></ngx-shimmer-loading>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                      <ng-template #rolesData>
                        <ng-container *ngIf="
                            roles.length !== 0 &&
                              !dataNotFoundPlaceholderForRolesAndSecurity &&
                              !networkConnectionErrorPlaceHolderForRolesAndSecurity;
                            else errorInFetchingRolesData
                          ">
                          <div class="row">
                            <div class="col-xxl-3 col-xl-4 col-md-4 cols-sm-12 mb-3">
                              <div class="add-role-security p-3" *ngIf="rbacService.hasWriteAccess(Routes.ROLE)">
                                <div class="d-flex align-items-center gap-3">
                                  <span class="user-icon d-flex align-items-center justify-content-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                      fill="none">
                                      <mask id="mask0_4355_346" style="mask-type: alpha" maskUnits="userSpaceOnUse"
                                        x="0" y="0" width="24" height="24">
                                        <rect width="24" height="24" fill="#D9D9D9" />
                                      </mask>
                                      <g mask="url(#mask0_4355_346)">
                                        <path
                                          d="M12 12C13.35 12 14.7583 11.8625 16.225 11.5875C17.6917 11.3125 18.95 10.95 20 10.5V20.5C19 20.95 17.7833 21.3125 16.35 21.5875C14.9167 21.8625 13.4667 22 12 22C10.5333 22 9.08333 21.8625 7.65 21.5875C6.21667 21.3125 5 20.95 4 20.5V10.5C5.05 10.95 6.30833 11.3125 7.775 11.5875C9.24167 11.8625 10.65 12 12 12ZM18 19V13.25C17.1667 13.4833 16.2042 13.6667 15.1125 13.8C14.0208 13.9333 12.9833 14 12 14C11.0167 14 9.97917 13.9333 8.8875 13.8C7.79583 13.6667 6.83333 13.4833 6 13.25V19C6.83333 19.3 7.79167 19.5417 8.875 19.725C9.95833 19.9083 11 20 12 20C13 20 14.0417 19.9083 15.125 19.725C16.2083 19.5417 17.1667 19.3 18 19ZM12 2C13.1 2 14.0417 2.39167 14.825 3.175C15.6083 3.95833 16 4.9 16 6C16 7.1 15.6083 8.04167 14.825 8.825C14.0417 9.60833 13.1 10 12 10C10.9 10 9.95833 9.60833 9.175 8.825C8.39167 8.04167 8 7.1 8 6C8 4.9 8.39167 3.95833 9.175 3.175C9.95833 2.39167 10.9 2 12 2ZM12 8C12.55 8 13.0208 7.80417 13.4125 7.4125C13.8042 7.02083 14 6.55 14 6C14 5.45 13.8042 4.97917 13.4125 4.5875C13.0208 4.19583 12.55 4 12 4C11.45 4 10.9792 4.19583 10.5875 4.5875C10.1958 4.97917 10 5.45 10 6C10 6.55 10.1958 7.02083 10.5875 7.4125C10.9792 7.80417 11.45 8 12 8Z"
                                          fill="white" />
                                      </g>
                                    </svg>
                                  </span>
                                  <div>
                                    <h5 class="mb-0">
                                      Add New
                                      Users
                                    </h5>
                                    <span class="mb-0 font-12">
                                      You can define more roles
                                    </span>
                                  </div>
                                </div>
                                <p class="mb-0 font-12 mt-3 mb-3">
                                  Easily add new users to the system and assign<br />
                                  roles based on their responsibilities. Customize <br />
                                  and define additional roles to suit your
                                  needs for efficient access management.
                                </p>
                                <button class="btn p-0 text-primary font-14" [routerLink]="Routes.ADDROLE">
                                  <i class="bi bi-plus-lg position-relative" style="top:-2px;"></i> Add new roles
                                </button>
                              </div>
                            </div>
                            <div class="col-xxl-3 col-xl-4 col-md-4 cols-sm-12 mb-3" *ngFor="
                                let role of roles
                                  | paginate
                                    : {
                                        itemsPerPage: itemPerPage,
                                        currentPage: pageNumber,
                                        totalItems: total
                                      }
                              ">
                              <div class="role-security p-3">
                                <div class="d-flex align-items-start justify-content-between">
                                  <div class="d-flex align-items-center gap-3">
                                    <span class="admin-icon d-flex align-items-center justify-content-center">
                                      {{ role.name[0] }}
                                    </span>

                                    <div>
                                      <h5 class="mb-0">{{ role.name }}</h5>
                                      <span class="mb-0 font-12">
                                        {{ role.updatedDate | dateFormat }}
                                      </span>
                                    </div>
                                  </div>

                                  <ng-container *ngIf="rbacService.hasWriteAccess(Routes.ROLE)">
                                  <span id="dLabel1" data-bs-toggle="dropdown" role="button" aria-haspopup="false" aria-expanded="false" 
                                   class="dropdown-toggle poinnter btnAction border-rounded-2 d-flex p-0 align-items-center justify-content-center bg-white" *ngIf="role.id != 1 && role.id != 2 && role.id != 3 " >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20"
                                      fill="none">
                                      <mask id="mask0_4355_385" style="mask-type: alpha" maskUnits="userSpaceOnUse"
                                        x="0" y="0" width="19" height="20">
                                        <rect y="0.5" width="19" height="19" fill="#D9D9D9" />
                                      </mask>
                                      <g  mask="url(#mask0_4355_385)">
                                        <path
                                          d="M9.49935 16.3307C9.06393 16.3307 8.69119 16.1757 8.38112 15.8656C8.07105 15.5556 7.91602 15.1828 7.91602 14.7474C7.91602 14.312 8.07105 13.9392 8.38112 13.6292C8.69119 13.3191 9.06393 13.1641 9.49935 13.1641C9.93477 13.1641 10.3075 13.3191 10.6176 13.6292C10.9276 13.9392 11.0827 14.312 11.0827 14.7474C11.0827 15.1828 10.9276 15.5556 10.6176 15.8656C10.3075 16.1757 9.93477 16.3307 9.49935 16.3307ZM9.49935 11.5807C9.06393 11.5807 8.69119 11.4257 8.38112 11.1156C8.07105 10.8056 7.91602 10.4328 7.91602 9.9974C7.91602 9.56198 8.07105 9.18924 8.38112 8.87917C8.69119 8.5691 9.06393 8.41406 9.49935 8.41406C9.93477 8.41406 10.3075 8.5691 10.6176 8.87917C10.9276 9.18924 11.0827 9.56198 11.0827 9.9974C11.0827 10.4328 10.9276 10.8056 10.6176 11.1156C10.3075 11.4257 9.93477 11.5807 9.49935 11.5807ZM9.49935 6.83073C9.06393 6.83073 8.69119 6.67569 8.38112 6.36562C8.07105 6.05556 7.91602 5.68281 7.91602 5.2474C7.91602 4.81198 8.07105 4.43924 8.38112 4.12917C8.69119 3.8191 9.06393 3.66406 9.49935 3.66406C9.93477 3.66406 10.3075 3.8191 10.6176 4.12917C10.9276 4.43924 11.0827 4.81198 11.0827 5.2474C11.0827 5.68281 10.9276 6.05556 10.6176 6.36562C10.3075 6.67569 9.93477 6.83073 9.49935 6.83073Z"
                                          fill="#1C1B1F" />
                                      </g>
                                    </svg>
                                  </span>

                                  <div *ngIf="
                                  role.name != 'ADMIN' &&
                                  role.name != 'USER' &&
                                  role.name != 'MANAGER' "
                                 aria-labelledby="dLabel1" class="dropdown-menu dropdown-menu-end actionMenuList">
                                    <a class="dropdown-item" (click)="routeToEditRole(role)"><i class="bi bi-pencil"></i> Edit</a>
                                    <span *ngIf="
                                        role.name != 'ADMIN' &&
                                        role.name != 'USER' &&
                                        role.name != 'MANAGER'
                                      ">
                                      <a class="dropdown-item" (click)="deleteRolesWithUsers(role.id)"><i class="bi bi-trash3"></i> Delete</a>
                                    </span>
                                  </div>
                                </ng-container>
                                </div>
                                <p class="mb-0 font-13 mt-3 mb-3">
                                  {{ role.description }}
                                </p>
                                <span class="badge badge-people">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17"
                                    fill="none">
                                    <mask id="mask0_4355_391" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0"
                                      y="0" width="16" height="17">
                                      <rect y="0.5" width="16" height="16" fill="#D9D9D9" />
                                    </mask>
                                    <g mask="url(#mask0_4355_391)">
                                      <path
                                        d="M0.666016 13.8307V11.9641C0.666016 11.5863 0.763238 11.2391 0.957682 10.9224C1.15213 10.6057 1.41046 10.3641 1.73268 10.1974C2.42157 9.85295 3.12157 9.59462 3.83268 9.4224C4.54379 9.25017 5.26602 9.16406 5.99935 9.16406C6.73268 9.16406 7.4549 9.25017 8.16602 9.4224C8.87713 9.59462 9.57713 9.85295 10.266 10.1974C10.5882 10.3641 10.8466 10.6057 11.041 10.9224C11.2355 11.2391 11.3327 11.5863 11.3327 11.9641V13.8307H0.666016ZM12.666 13.8307V11.8307C12.666 11.3418 12.5299 10.8724 12.2577 10.4224C11.9855 9.9724 11.5993 9.58628 11.0993 9.26406C11.666 9.33073 12.1994 9.44462 12.6994 9.60573C13.1994 9.76684 13.666 9.96406 14.0993 10.1974C14.4993 10.4196 14.8049 10.6668 15.016 10.9391C15.2271 11.2113 15.3327 11.5085 15.3327 11.8307V13.8307H12.666ZM5.99935 8.4974C5.26602 8.4974 4.63824 8.23628 4.11602 7.71406C3.59379 7.19184 3.33268 6.56406 3.33268 5.83073C3.33268 5.0974 3.59379 4.46962 4.11602 3.9474C4.63824 3.42517 5.26602 3.16406 5.99935 3.16406C6.73268 3.16406 7.36046 3.42517 7.88268 3.9474C8.4049 4.46962 8.66602 5.0974 8.66602 5.83073C8.66602 6.56406 8.4049 7.19184 7.88268 7.71406C7.36046 8.23628 6.73268 8.4974 5.99935 8.4974ZM12.666 5.83073C12.666 6.56406 12.4049 7.19184 11.8827 7.71406C11.3605 8.23628 10.7327 8.4974 9.99935 8.4974C9.87713 8.4974 9.72157 8.48351 9.53268 8.45573C9.34379 8.42795 9.18824 8.3974 9.06602 8.36406C9.36602 8.00851 9.59657 7.61406 9.75768 7.18073C9.91879 6.7474 9.99935 6.2974 9.99935 5.83073C9.99935 5.36406 9.91879 4.91406 9.75768 4.48073C9.59657 4.0474 9.36602 3.65295 9.06602 3.2974C9.22157 3.24184 9.37713 3.20573 9.53268 3.18906C9.68824 3.1724 9.84379 3.16406 9.99935 3.16406C10.7327 3.16406 11.3605 3.42517 11.8827 3.9474C12.4049 4.46962 12.666 5.0974 12.666 5.83073ZM1.99935 12.4974H9.99935V11.9641C9.99935 11.8418 9.96879 11.7307 9.90768 11.6307C9.84657 11.5307 9.76602 11.453 9.66602 11.3974C9.06602 11.0974 8.46046 10.8724 7.84935 10.7224C7.23824 10.5724 6.62157 10.4974 5.99935 10.4974C5.37713 10.4974 4.76046 10.5724 4.14935 10.7224C3.53824 10.8724 2.93268 11.0974 2.33268 11.3974C2.23268 11.453 2.15213 11.5307 2.09102 11.6307C2.0299 11.7307 1.99935 11.8418 1.99935 11.9641V12.4974ZM5.99935 7.16406C6.36602 7.16406 6.6799 7.03351 6.94102 6.7724C7.20213 6.51128 7.33268 6.1974 7.33268 5.83073C7.33268 5.46406 7.20213 5.15017 6.94102 4.88906C6.6799 4.62795 6.36602 4.4974 5.99935 4.4974C5.63268 4.4974 5.31879 4.62795 5.05768 4.88906C4.79657 5.15017 4.66602 5.46406 4.66602 5.83073C4.66602 6.1974 4.79657 6.51128 5.05768 6.7724C5.31879 7.03351 5.63268 7.16406 5.99935 7.16406Z"
                                        fill="#383838" />
                                    </g>
                                  </svg>
                                  {{ role.count }} People
                                </span>
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </ng-template>
                      <ng-template #errorInFetchingRolesData>
                        <!-- <div class="errorboxmain" *ngIf="dataNotFoundPlaceholderForRolesAndSecurity">
                          <div class="errorboxinner text-center">
                            <div class="errorboxplaceholder mb-2">
                              <img src="assets/images/addnewproduct.svg" style="width: 80px" />
                            </div>

                            <h4>No Data Found</h4>

                            <p>
                              We're unable to locate a record associated with
                              the information you entered.
                            </p>
                            <div class="placeholder-add" style="margin-top: 14px">
                              <a data-bs-toggle="modal" data-bs-target="#assignrole" type="btn"
                                (click)="getUsersByFilterMethodCall()">
                                <i class="bi bi-plus" style="font-size: 16px"></i>
                                Assign role to user</a>
                            </div>
                          </div>
                        </div> -->

                        <div class="empty-file d-flex align-items-centar justify-content-center w-100 mt-5 mb-5" *ngIf="dataNotFoundPlaceholderForRolesAndSecurity" >
                            <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                [nzNotFoundContent]="contentTpl">
                                <ng-template #contentTpl>
                                  <p class="mb-1 empty-detail font-16">
                                      No data for now
                                  </p>
                                  <a data-bs-toggle="modal" data-bs-target="#assignrole" type="btn"
                                (click)="getUsersByFilterMethodCall()">
                                <i class="bi bi-plus" style="font-size: 16px"></i>
                                Assign role to user</a>
                                </ng-template>
                            </nz-empty>
                         </div>

                        <div class="errorboxmain" *ngIf="
                            networkConnectionErrorPlaceHolderForRolesAndSecurity
                          ">
                          <div class="errorboxinner text-center">
                            <div class="errorboxplaceholder mb-2">
                              <img src="assets/images/signal.svg" style="width: 80px" />
                            </div>

                            <h4>Something went wrong!</h4>

                            <p>Please try again after sometimes!</p>
                          </div>
                        </div>
                      </ng-template>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pagination pl-3 d-flex align-items-center justify-content-between" *ngIf="totalUser > 8">
                <p class="mb-0">
                  Showing {{ getStartIndexUser() }} - {{ getEndIndexUser() }} of
                  {{ totalUser }} roles
                </p>

                <nav aria-label="Page navigation example" style="padding-right: 15px">
                  <ul class="pagination justify-content-end">
                    <li class="page-item" [class.disabled]="pageNumberUser == 1">
                      <a class="page-link" href="javascript:void(0);" aria-label="Previous"
                        (click)="changePageUser('prev')">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>
                    <li class="page-item" *ngFor="let page of getPagesUser()" [class.active]="pageNumberUser == page">
                      <a class="page-link" href="javascript:void(0);" (click)="changePageUser(page)">{{ page }}</a>
                    </li>
                    <li class="page-item" [class.disabled]="pageNumberUser == totalPages">
                      <a class="page-link" href="javascript:void(0);" aria-label="Next"
                        (click)="changePageUser('next')">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<div class="modal fade" id="update-role" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          Update Role
        </h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="pb-2">Name</label>
              <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="Role Name" [(ngModel)]="roleRequest.name" />
            </div>

            <div class="mb-3">
              <label for="exampleInputEmail1" class="pb-2">Description</label>
              <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="Description" [(ngModel)]="roleRequest.description" />
            </div>
          </div>

          <div class="rolemodalinner border-top-0">
            <h5>Access Control</h5>

            <div class="accordion" id="accordionExample">
              <div class="accordion-item" *ngFor="let module of moduleResponse; let i = index">
                <h2 class="accordion-header" id="headingOne">
                  <div class="accordion-button" type="button">
                    <div clss="accesstitle">
                      <p class="mb-0">{{ module.name }}</p>
                    </div>

                    <div class="accesspermission">
                      <div class="accesspermissioninner d-flex">
                        <div class="custom-radiocheck">
                          <input type="radio" class="form-check-input d-none" [checked]="module.privilegeId == 1"
                            name="viewModule{{ i }}" id="viewModule{{ i }}"
                            (click)="handleRadioClickForModule(1, module)" />
                          <label class="form-check-label d-flex align-items-center gap-2" for="viewModule{{ i }}">
                            <span><i class="bi bi-check2"></i></span>View
                          </label>
                        </div>
                        <div class="custom-radiocheck">
                          <input type="radio" class="form-check-input d-none" [checked]="module.privilegeId == 2"
                            name="manageModule{{ i }}" id="manageModule{{ i }}"
                            (click)="handleRadioClickForModule(2, module)" />
                          <label class="form-check-label d-flex align-items-center gap-2" for="manageModule{{ i }}">
                            <span><i class="bi bi-check2"></i></span>Manage
                          </label>
                        </div>

                        <div class="expand-accord">
                          <i data-bs-toggle="collapse" aria-expanded="true" class="bi bi-chevron-down collapsed"
                            [attr.href]="'#collapse' + i" [attr.aria-controls]="'collapse' + i"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </h2>

                <div [attr.id]="'collapse' + i" class="accordion-collapse collapse" aria-labelledby="headingOne"
                  data-bs-parent="#accordionExample" *ngFor="let submodule of module.subModules; let j = index">
                  <div class="accordion-button p-3" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <div class="accesstitle">
                      <p class="mb-0">{{ submodule.name }}</p>
                    </div>

                    <div class="accesspermission">
                      <div class="accesspermissioninner d-flex">
                        <div class="custom-radiocheck">
                          <input type="radio" class="form-check-input d-none" [checked]="submodule.privilegeId == 1"
                            name="viewSubModule{{ i }}{{ j }}" id="viewSubModule{{ i }}{{ j }}"
                            (click)="handleRadioClickForSubModule(1, submodule)" />
                          <label class="form-check-label d-flex align-items-center gap-2"
                            for="viewSubModule{{ i }}{{ j }}">
                            <span><i class="bi bi-check2"></i></span>View
                          </label>
                        </div>
                        <div class="custom-radiocheck">
                          <input type="radio" class="form-check-input d-none" [checked]="submodule.privilegeId == 2"
                            name="manageSubModule{{ i }}{{ j }}" id="manageSubModule{{ i }}{{ j }}"
                            (click)="handleRadioClickForSubModule(2, submodule)" />
                          <label class="form-check-label d-flex align-items-center gap-2"
                            for="manageSubModule{{ i }}{{ j }}">
                            <span><i class="bi bi-check2"></i></span>Manage
                          </label>
                        </div>

                        <div class="expand-accord"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close">
          Cancel
        </button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close"
          (click)="updateRoleWithPermissionsMethodCall()">
          Update
        </button>
      </div>
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->

<div class="modal fade" id="role-details" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          Role Details
        </h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="">
            <div class="table-responsive bg-white">
              <table class="table mb-0">
                <thead class="thead-light">
                  <tr>
                    <th>Role Name</th>
                    <th>Role Description</th>
                    <th>Created Date</th>
                    <th>Created By</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td scope="row">Corporate Manager</td>
                    <td>this is a corporate manager profile</td>
                    <td>
                      <span class="badge-grey">20-Nov-23 09:10 PM (EST)</span>
                    </td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <!--end /table-->
            </div>

            <div class="table-responsive bg-white mt-3">
              <table class="table mb-0">
                <thead class="thead-light">
                  <tr>
                    <th>Modules</th>
                    <th>Status</th>
                    <th>Default Access</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td scope="row">Corporate</td>
                    <td>
                      <span _ngcontent-len-c58="" class="statusactive">Active</span>
                    </td>
                    <td>View</td>
                  </tr>
                </tbody>
              </table>
              <!--end /table-->
            </div>
          </div>
        </div>
        <!--end row-->
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close">
          Cancel
        </button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->

<div class="modal fade" id="assignrole" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title m-0" id="exampleModalDefaultLabel">
          Select user and role
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
          #assignroleModalClose></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12" >
            <div class="mb-3">
              <label for="exampleInputEmail1" class="pb-2">User</label>
              <nz-select [(ngModel)]="selectedUser" [nzPlaceHolder]="'Select a user'" class="w-100 form-control placeholder-line"
                 >
                <nz-option *ngFor="let user of users" [nzValue]="user" [nzLabel]="user.name + ' (' + (user.email || 'N/A') + ')'">
                  {{ user.name }} ({{ user.email || "N/A" }})
                </nz-option>
              </nz-select>
            </div>
          </div>

          <div class="col-md-12">
            <label for="exampleInputEmail1" class="pb-2">Role</label>
            <nz-select 
            [(ngModel)]="selectedRole" 
            nzPlaceHolder="Select a role" 
            class="w-100 form-control placeholder-line" 
            >
            <ng-container *ngFor="let role of roles">
              <nz-option 
                *ngIf="role.name !== 'USER'" 
                [nzValue]="role" 
                [nzLabel]="role.name">
              </nz-option>
            </ng-container>
          </nz-select>
          </div>

        </div>
      </div>
      <div class="modal-footer d-flex align-items-center justify-content-end gap-2">
        <button type="button" class="btn cancel-btn mt-0" data-bs-dismiss="modal">
          Cancel
        </button>

        <button type="button" class="btn submitActionBtn" (click)="assignRoleToUserInUserAndControlMethodCall()">
          <ng-container *ngIf="buttonLoaderToAssignRole; else assignButton">
            <div *ngIf="buttonLoaderToAssignRole" class="dot-opacity-loader">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </ng-container>
          <ng-template #assignButton>
            <span style="padding: 15px">Assign</span>
          </ng-template>
        </button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->

<div class="modal fade" id="newuser" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          Create a New User
        </h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="pb-2">Role Name</label>
              <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="First name" [(ngModel)]="roleRequest.name" />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="pb-2">Description</label>
              <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="Description" [(ngModel)]="roleRequest.description" />
            </div>
          </div>
        </div>
        <!--end row-->
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close"
          #createRoleModalClose>
          Cancel
        </button>

        <button type="button" class="btn btn-primary" (click)="createRoleMethodCall()">
          Create
        </button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->

<div class="modal fade" id="information" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
          {{ userAndControlDetailVariable?.user?.name }}
        </h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!--end modal-header-->
      <div class="modal-body">
        <div class="userdetails">
          <div class="d-flex align-items-center">
            <p class="text-end">First Name :</p>
            <p class="text-start">
              <span>{{ userAndControlDetailVariable?.user?.name }}</span>
            </p>
          </div>
        </div>
        <div class="userdetails">
          <div class="d-flex align-items-center">
            <p class="text-end">Email :</p>
            <p class="text-start">
              <span>{{ userAndControlDetailVariable?.user?.email }}</span>
            </p>
          </div>
        </div>
        <div class="userdetails">
          <div class="d-flex align-items-center">
            <p class="text-end">Role :</p>
            <p class="text-start">
              <span>{{ userAndControlDetailVariable?.role?.name }}</span>
            </p>
          </div>
        </div>
        <div class="userdetails">
          <div class="d-flex align-items-center">
            <p class="text-end">Status :</p>
            <p class="text-start">
              <span>{{
                userAndControlDetailVariable?.presenceStatus
                ? "Active"
                : "Inactive"
                }}</span>
            </p>
          </div>
        </div>

        <div class="userdetails">
          <div class="d-flex align-items-center">
            <p class="text-end">Updated Date :</p>
            <p class="text-start">
              <span>{{
                userAndControlDetailVariable.updatedDate | dateFormat
                }}</span>
            </p>
          </div>
        </div>
      </div>
      <!--end modal-body-->
      <div class="modal-footer d-flex align-items-center justify-content-end">
        <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close">
          Cancel
        </button>
      </div>
      <!--end modal-footer-->
    </div>
    <!--end modal-content-->
  </div>
  <!--end modal-dialog-->
</div>
<!--end modal-->