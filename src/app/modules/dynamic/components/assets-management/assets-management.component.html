<div class="page-wrapper">
    <div class="page-content-tab">
       <div class="container-fluid ">
          <div class="row">
             <div class="col-md-12 mt-3">
                <ul id="pills-tab" role="tablist" class="nav nav-pills ">
                   <li class="nav-item">
                      <a id="pills-announcement-tab" data-bs-toggle="pill" href="#dashboard" role="tab"
                         aria-controls="pills-dashboard" aria-selected="false" (click)="dashboard()"
                         class="nav-link active">Dashboard</a>
                   </li>
                   <li class="nav-item d-flex align-items-center">
                      <a id="pills-notification-tab" data-bs-toggle="pill" href="#assigned-assets" role="tab"
                         aria-controls="pills-request" aria-selected="false" (click)="assignedAssets()"
                         class="nav-link"> Assets </a>
                   </li>
                   <li class="nav-item d-flex align-items-center">
                      <a id="pills-notification-tab" data-bs-toggle="pill" href="#request" role="tab"
                         aria-controls="pills-request" aria-selected="false" (click)="assetRequestTab()"
                         class="nav-link">Request Assets</a>
                      <span class="request-count d-flex align-items-center justify-content-center" *ngIf="pendingRequestsCounter>0">{{pendingRequestsCounter}}</span>
                   </li>
                </ul>
                <div id="pills-tabContent" class="tab-content">
                   <div class="tab-pane active show" id="dashboard" role="tabpanel" aria-labelledby="employee-tab">
                      <div class="row mt-3">
                         <div class="col-md-3">
                            <div class="assets-report">
                               <div class="date-range d-flex align-items-center justify-content-between p-2 d-none">
                                  <h5 class="mb-0 font-16 fw-normal">Date Range</h5>
                                  <div class="d-flex align-items-center attendance-date">
                                     <span class="d-flex align-items-center justify-content-center pointer calendar-back-btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                           <mask id="mask0_4719_1625" maskUnits="userSpaceOnUse" x="0" y="0" width="21" height="21" style="mask-type: alpha;">
                                              <rect x="0.5" y="0.5" width="20" height="20" fill="#D9D9D9"></rect>
                                           </mask>
                                           <g mask="url(#mask0_4719_1625)">
                                              <path d="M8.83203 15.5L3.83203 10.5L8.83203 5.5L9.9987 6.70833L7.04036 9.66667H17.1654V11.3333H7.04036L9.9987 14.2917L8.83203 15.5Z" fill="#060606"></path>
                                           </g>
                                        </svg>
                                     </span>
                                     <span class="calendar-separator"></span>
                                     <div class="dropdown">
                                        <nz-date-picker class="ant-picker ant-picker-small ng-valid ng-touched ng-dirty" nzBorderless ng-reflect-nz-mode="month" ng-reflect-nz-format="MMM, yyyy" ng-reflect-nz-size="small" >
                                           <div class="ant-picker-input">
                                              <input autocomplete="off" class="ng-tns-c182-14 ng-pristine ng-valid ng-touched" placeholder="Select month" ng-reflect-is-disabled="false" ng-reflect-model="Jan, 2025" size="12">
                                              <div class="ng-tns-c182-14 ant-picker-active-bar" ng-reflect-ng-style="[object Object]" style="position: absolute; width: 0px; left: 0px;"></div>
                                              <span class="ng-tns-c182-14 ant-picker-clear">
                                                 <i nz-icon="" nztype="close-circle" nztheme="fill" class="anticon ng-tns-c182-14 anticon-close-circle" ng-reflect-nz-type="close-circle" ng-reflect-nz-theme="fill">
                                                    <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em" class="ng-tns-c182-14" data-icon="close-circle" aria-hidden="true">
                                                       <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path>
                                                    </svg>
                                                 </i>
                                              </span>
                                              <span class="ng-tns-c182-14 ant-picker-suffix">
                                                 <i nz-icon="" class="anticon ng-tns-c182-14 anticon-calendar" ng-reflect-nz-type="calendar">
                                                    <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em" class="ng-tns-c182-14" data-icon="calendar" aria-hidden="true">
                                                       <path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"></path>
                                                    </svg>
                                                 </i>
                                              </span>
                                           </div>
                                        </nz-date-picker>
                                     </div>
                                     <span class="calendar-separator"></span>
                                     <span class="d-flex align-items-center justify-content-center pointer calendar-back-btn disabled">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                           <mask id="mask0_4719_1639" maskUnits="userSpaceOnUse" x="0" y="0" width="21" height="21" style="mask-type: alpha;">
                                              <rect width="20" height="20" transform="matrix(-1 0 0 1 20.5 0.5)" fill="#D9D9D9"></rect>
                                           </mask>
                                           <g mask="url(#mask0_4719_1639)">
                                              <path d="M12.168 15.5L17.168 10.5L12.168 5.5L11.0013 6.70833L13.9596 9.66667H3.83464V11.3333H13.9596L11.0013 14.2917L12.168 15.5Z" fill="#060606"></path>
                                           </g>
                                        </svg>
                                     </span>
                                  </div>
                               </div>
                               <div class="assets-chart">
                                  <!-- <div class="chart-header p-3 d-flex align-items-center justify-content-between">
                                     <h5 class="mb-0 font-14 fw-semibold">Budget Overview</h5>
                                     <div>
                                         <nz-select class="week-filter" ngModel="Week 1" style="width: 100px;">
                                             <nz-option nzValue="Week 1" nzLabel="Week 1"></nz-option>
                                             <nz-option nzValue="Week 2" nzLabel="Week 2"></nz-option>
                                             <nz-option nzValue="Week 3" nzLabel="Week 3"></nz-option>
                                             <nz-option nzValue="Week 4" nzLabel="Week 4"></nz-option>
                                           </nz-select>
                                     </div>
                                     </div> -->
                                  <div *ngIf="getCurrentMonthStats().currentMonthCount > 0" class="d-flex align-items-center justify-content-between gap-3 p-3 earned-funds">
                                     <div>
                                        <p class="mb-2 font-13">Monthly Assigned </p>
                                        <h5  class="mb-0 font-16 fw-normal">
                                           {{getCurrentMonthStats().currentMonthCount}}
                                           <span class="font-12 fw-semibold">
                                              {{getCurrentMonthStats().percentageChange}}%
                                              <svg xmlns="http://www.w3.org/2000/svg" width="7" height="11" viewBox="0 0 7 11" fill="none">
                                                 <path fill-rule="evenodd" clip-rule="evenodd" d="M4.52807 10.0159H2.54674V5.8172H0.111328L3.53725 0.984065L6.96318 5.8172H4.52807V10.0159Z" fill="#388E3C"></path>
                                              </svg>
                                           </span>
                                        </h5>
                                     </div>
                                     <span class="use-funds-separator"></span>
                                     <div class="text-end">
                                        <p class="mb-2 font-13">Total Available </p>
                                        <h5 class="mb-0 font-16 fw-normal">{{getCountByStatusId(64)}}</h5>
                                     </div>
                                  </div>
                                  <div *ngIf="isChartInitialized" class="p-3">
                                     <apx-chart
                                     [series]="series"
                                     [chart]="chart"
                                     [xaxis]="xaxis"
                                     [yaxis]="yaxis"
                                     [dataLabels]="dataLabels"
                                     [tooltip]="tooltip"
                                     [grid]="grid"
                                     [fill]="fill"
                                     >
                                     </apx-chart>
                                     <p class="mb-0 font-13 pt-3">This report provides an overview of the total assigned expenditure.</p>
                                  </div>
                                  <div class="empty-notification d-flex align-items-center justify-content-center bg-white m-3 mt-0" *ngIf="!isChartInitialized" >
                                     <p class="mb-1 empty-detail">No data for now</p>
                                  </div>
                                  <div class="p-3 pt-0 categories-view">
                                     <div *ngFor="let category of categorySummary" class="d-flex align-items-center justify-content-between assets-count p-3 bg-white mb-2">
                                        <h5 class="mb-0 font-13 fw-semibold">
                                           {{ category.categoryName }} ({{ category.assetCount }})
                                        </h5>
                                        <div class="d-flex align-items-center gap-2">
                                           <h6 class="mb-0 font-14 fw-semibold">₹{{ category.price | number:'1.0-0' }}</h6>
                                        </div>
                                     </div>
                                  </div>
                               </div>
                            </div>
                         </div>
                         <div class="col-md-9">
                            <div class="assets-info">
                               <div class="total-assets p-3 d-flex align-items-center justify-content-between gap-3 pt-4 pb-4">
                                  <div>
                                     <div class="d-flex align-items-center justify-content-between mb-3">
                                        <div>
                                           <p class="mb-2 font-13">Total Assets</p>
                                           <h5 class="mb-0 font-15 fw-bold">{{getTotalAssetCount()}}</h5>
                                        </div>
                                        <span class="total-assets-icon d-flex align-items-center justify-content-center">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23" fill="none">
                                              <mask id="mask0_8104_3342" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="23">
                                                 <rect x="0.670898" y="0.0898438" width="22.8206" height="22.8206" fill="#D9D9D9"/>
                                              </mask>
                                              <g mask="url(#mask0_8104_3342)">
                                                 <path d="M5.71763 20.5331C5.24347 20.5331 4.8384 20.3652 4.50243 20.0294C4.16662 19.6934 3.99871 19.2884 3.99871 18.8142V8.16649C3.71963 8.02259 3.49135 7.81808 3.31385 7.55295C3.13652 7.28782 3.04785 6.98211 3.04785 6.63584V4.18571C3.04785 3.71155 3.21576 3.30649 3.55157 2.97052C3.88754 2.6347 4.29261 2.4668 4.76677 2.4668H19.3953C19.8694 2.4668 20.2745 2.6347 20.6105 2.97052C20.9463 3.30649 21.1142 3.71155 21.1142 4.18571V6.63584C21.1142 6.98211 21.0255 7.28782 20.8482 7.55295C20.6707 7.81808 20.4424 8.02259 20.1633 8.16649V18.8142C20.1633 19.2884 19.9954 19.6934 19.6596 20.0294C19.3236 20.3652 18.9186 20.5331 18.4444 20.5331H5.71763ZM5.425 8.35476V18.7686C5.425 18.866 5.46002 18.9468 5.53007 19.0108C5.60028 19.0748 5.6872 19.1068 5.79084 19.1068H18.4444C18.5298 19.1068 18.6 19.0794 18.6548 19.0246C18.7096 18.9698 18.737 18.8996 18.737 18.8142V8.35476H5.425ZM4.76677 6.92847H19.3953C19.4807 6.92847 19.5508 6.90105 19.6057 6.84622C19.6605 6.79139 19.6879 6.72126 19.6879 6.63584V4.18571C19.6879 4.1003 19.6605 4.03017 19.6057 3.97534C19.5508 3.9205 19.4807 3.89309 19.3953 3.89309H4.76677C4.68135 3.89309 4.61122 3.9205 4.55639 3.97534C4.50156 4.03017 4.47414 4.1003 4.47414 4.18571V6.63584C4.47414 6.72126 4.50156 6.79139 4.55639 6.84622C4.61122 6.90105 4.68135 6.92847 4.76677 6.92847ZM9.41124 12.8623H14.7508V11.5H9.41124V12.8623Z" fill="#1D1D78"/>
                                              </g>
                                           </svg>
                                        </span>
                                     </div>
                                     <p class="mb-0 font-12 week-count">
                                        <ng-container *ngIf="checkPercentageChange(-1).isPositive; else negativeIcon">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                              <path d="M13.1918 4.94434L15.0661 6.81861L11.072 10.8127L7.79819 7.53886L1.7334 13.6118L2.88743 14.7659L7.79819 9.8551L11.072 13.1289L16.2283 7.98082L18.1026 9.8551V4.94434H13.1918Z" fill="#22b783"/>
                                           </svg>
                                        </ng-container>
                                        <ng-template #negativeIcon>
                                           <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                                              <path d="M14.0644 14.7659L15.9387 12.8916L11.9446 8.8975L8.67075 12.1713L2.60596 6.09837L3.75999 4.94434L8.67075 9.8551L11.9446 6.58126L17.1009 11.7294L18.9752 9.8551V14.7659H14.0644Z" fill="#F93C65"/>
                                           </svg>
                                        </ng-template>
                                        &nbsp;
                                        <span [ngClass]="checkPercentageChange(-1).isPositive ? 'text-success' : 'text-danger'">
                                        {{ checkPercentageChange(-1).percentageChange.toFixed(2) }}%
                                        </span>
                                        <!-- {{ checkPercentageChange(-1).isPositive ? 'Up' : 'Down' }} from past week -->
                                        from past week
                                     </p>
                                  </div>
                                  <span class="use-funds-separator"></span>
                                  <div>
                                     <div class="d-flex align-items-center justify-content-between mb-3">
                                        <div>
                                           <p class="mb-2 font-13">Assigned Assets</p>
                                           <h5 class="mb-0 font-15 fw-bold">{{getCountByStatusId(62)}}</h5>
                                        </div>
                                        <span class="total-assets-icon d-flex align-items-center justify-content-center">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                              <mask id="mask0_8104_3355" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="23">
                                                 <rect x="0.107422" y="0.0898438" width="22.8206" height="22.8206" fill="#D9D9D9"/>
                                              </mask>
                                              <g mask="url(#mask0_8104_3355)">
                                                 <path d="M10.1683 15.0402L16.561 8.64756L15.559 7.64559L10.1683 13.0363L7.4584 10.3263L6.45643 11.3283L10.1683 15.0402ZM5.15446 19.5825C4.6803 19.5825 4.27524 19.4145 3.93927 19.0787C3.60345 18.7428 3.43555 18.3377 3.43555 17.8635V5.13675C3.43555 4.66259 3.60345 4.25752 3.93927 3.92155C4.27524 3.58574 4.6803 3.41783 5.15446 3.41783H9.38579C9.44554 2.88995 9.67596 2.44106 10.0771 2.07118C10.478 1.70113 10.9583 1.51611 11.5179 1.51611C12.0835 1.51611 12.5668 1.70113 12.9679 2.07118C13.369 2.44106 13.5964 2.88995 13.6499 3.41783H17.8812C18.3554 3.41783 18.7605 3.58574 19.0964 3.92155C19.4323 4.25752 19.6002 4.66259 19.6002 5.13675V17.8635C19.6002 18.3377 19.4323 18.7428 19.0964 19.0787C18.7605 19.4145 18.3554 19.5825 17.8812 19.5825H5.15446ZM5.15446 18.1562H17.8812C17.9545 18.1562 18.0215 18.1257 18.0824 18.0646C18.1434 18.0038 18.1739 17.9368 18.1739 17.8635V5.13675C18.1739 5.06353 18.1434 4.9965 18.0824 4.93564C18.0215 4.87463 17.9545 4.84412 17.8812 4.84412H5.15446C5.08125 4.84412 5.01421 4.87463 4.95336 4.93564C4.89234 4.9965 4.86184 5.06353 4.86184 5.13675V17.8635C4.86184 17.9368 4.89234 18.0038 4.95336 18.0646C5.01421 18.1257 5.08125 18.1562 5.15446 18.1562ZM11.5179 4.2225C11.7239 4.2225 11.8942 4.15515 12.0289 4.02044C12.1636 3.88574 12.231 3.71537 12.231 3.50935C12.231 3.30333 12.1636 3.13297 12.0289 2.99827C11.8942 2.86356 11.7239 2.79621 11.5179 2.79621C11.3118 2.79621 11.1415 2.86356 11.0068 2.99827C10.8721 3.13297 10.8047 3.30333 10.8047 3.50935C10.8047 3.71537 10.8721 3.88574 11.0068 4.02044C11.1415 4.15515 11.3118 4.2225 11.5179 4.2225Z" fill="#1D1D78"/>
                                              </g>
                                           </svg>
                                        </span>
                                     </div>
                                     <p class="mb-0 font-12 week-count">
                                        <ng-container *ngIf="checkPercentageChange(62).isPositive; else negativeIcon">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                              <path d="M13.1918 4.94434L15.0661 6.81861L11.072 10.8127L7.79819 7.53886L1.7334 13.6118L2.88743 14.7659L7.79819 9.8551L11.072 13.1289L16.2283 7.98082L18.1026 9.8551V4.94434H13.1918Z" fill="#22b783"/>
                                           </svg>
                                        </ng-container>
                                        <ng-template #negativeIcon>
                                           <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                                              <path d="M14.0644 14.7659L15.9387 12.8916L11.9446 8.8975L8.67075 12.1713L2.60596 6.09837L3.75999 4.94434L8.67075 9.8551L11.9446 6.58126L17.1009 11.7294L18.9752 9.8551V14.7659H14.0644Z" fill="#F93C65"/>
                                           </svg>
                                        </ng-template>
                                        &nbsp;
                                        <span [ngClass]="checkPercentageChange(62).isPositive ? 'text-success' : 'text-danger'">
                                        {{ checkPercentageChange(62).percentageChange.toFixed(2) }}%
                                        </span>
                                        <!-- {{ checkPercentageChange(62).isPositive ? 'Up' : 'Down' }}  -->
                                        from past week
                                     </p>
                                  </div>
                                  <span class="use-funds-separator"></span>
                                  <div>
                                     <div class="d-flex align-items-center justify-content-between mb-3">
                                        <div>
                                           <p class="mb-2 font-13">Not Assigned</p>
                                           <h5 class="mb-0 font-15 fw-bold">{{getCountByStatusId(64)}}</h5>
                                        </div>
                                        <span class="total-assets-icon d-flex align-items-center justify-content-center">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23" fill="none">
                                              <mask id="mask0_8104_3370" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="23">
                                                 <rect x="0.544434" y="0.0898438" width="22.8206" height="22.8206" fill="#D9D9D9"/>
                                              </mask>
                                              <g mask="url(#mask0_8104_3370)">
                                                 <path d="M11.8087 3.97559L6.08331 7.2872L11.9549 10.6811L17.8264 7.2872L12.1011 3.97559C12.0524 3.94517 12.0037 3.92995 11.9549 3.92995C11.9061 3.92995 11.8573 3.94517 11.8087 3.97559ZM3.87256 15.1061V7.89433C3.87256 7.58229 3.94776 7.29647 4.09815 7.03689C4.24854 6.7773 4.45987 6.56819 4.73214 6.40956L11.0955 2.74685C11.2418 2.66761 11.3825 2.60881 11.5175 2.57046C11.6525 2.53195 11.7981 2.5127 11.9544 2.5127C12.1108 2.5127 12.2606 2.53195 12.4037 2.57046C12.5469 2.60881 12.6838 2.66761 12.8142 2.74685L19.1776 6.40956C19.4499 6.56819 19.6612 6.7773 19.8116 7.03689C19.962 7.29647 20.0372 7.58229 20.0372 7.89433V11.427H18.6109V8.46841L11.9311 12.3194L5.29885 8.46841V15.0916C5.29885 15.1403 5.31105 15.186 5.33546 15.2288C5.35986 15.2714 5.39639 15.3079 5.44504 15.3384L11.2966 18.7341V20.3632L4.73214 16.5909C4.45987 16.4323 4.24854 16.2231 4.09815 15.9636C3.94776 15.704 3.87256 15.4182 3.87256 15.1061ZM17.66 20.6889C17.7868 20.6889 17.8947 20.6443 17.9838 20.5553C18.0727 20.4664 18.1172 20.3585 18.1172 20.2317C18.1172 20.105 18.0727 19.997 17.9838 19.908C17.8947 19.8191 17.7868 19.7746 17.66 19.7746C17.5332 19.7746 17.4253 19.8191 17.3363 19.908C17.2474 19.997 17.2029 20.105 17.2029 20.2317C17.2029 20.3585 17.2474 20.4664 17.3363 20.5553C17.4253 20.6443 17.5332 20.6889 17.66 20.6889ZM17.2395 18.8237H18.0805V15.3859H17.2395V18.8237ZM17.66 22.3163C16.4727 22.3163 15.4627 21.8999 14.6301 21.0673C13.7975 20.2347 13.3812 19.2247 13.3812 18.0374C13.3812 16.8501 13.7975 15.8401 14.6301 15.0075C15.4627 14.1748 16.4727 13.7585 17.66 13.7585C18.8473 13.7585 19.8573 14.1748 20.6899 15.0075C21.5226 15.8401 21.9389 16.8501 21.9389 18.0374C21.9389 19.2247 21.5226 20.2347 20.6899 21.0673C19.8573 21.8999 18.8473 22.3163 17.66 22.3163Z" fill="#1D1D78"/>
                                              </g>
                                           </svg>
                                        </span>
                                     </div>
                                     <p class="mb-0 font-12 week-count">
                                        <ng-container *ngIf="checkPercentageChange(64).isPositive; else negativeIcon">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                              <path d="M13.1918 4.94434L15.0661 6.81861L11.072 10.8127L7.79819 7.53886L1.7334 13.6118L2.88743 14.7659L7.79819 9.8551L11.072 13.1289L16.2283 7.98082L18.1026 9.8551V4.94434H13.1918Z" fill="#22b783"/>
                                           </svg>
                                        </ng-container>
                                        <ng-template #negativeIcon>
                                           <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                                              <path d="M14.0644 14.7659L15.9387 12.8916L11.9446 8.8975L8.67075 12.1713L2.60596 6.09837L3.75999 4.94434L8.67075 9.8551L11.9446 6.58126L17.1009 11.7294L18.9752 9.8551V14.7659H14.0644Z" fill="#F93C65"/>
                                           </svg>
                                        </ng-template>
                                        &nbsp;
                                        <span [ngClass]="checkPercentageChange(64).isPositive ? 'text-success' : 'text-danger'">
                                        {{ checkPercentageChange(64).percentageChange.toFixed(2) }}%
                                        </span>
                                        <!-- {{ checkPercentageChange(64).isPositive ? 'Up' : 'Down' }} from past week -->
                                        from past week
                                     </p>
                                  </div>
                                  <span class="use-funds-separator"></span>
                                  <div>
                                     <div class="d-flex align-items-center justify-content-between mb-3">
                                        <div>
                                           <p class="mb-2 font-13">Maintenance</p>
                                           <h5 class="mb-0 font-15 fw-bold">{{getCountByStatusId(65)}}</h5>
                                        </div>
                                        <span class="total-assets-icon d-flex align-items-center justify-content-center">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23" fill="none">
                                              <mask id="mask0_8104_3383" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="23">
                                                 <rect x="0.980957" y="0.0898438" width="22.8206" height="22.8206" fill="#D9D9D9"/>
                                              </mask>
                                              <g mask="url(#mask0_8104_3383)">
                                                 <path d="M6.78104 10.9699L6.5873 9.83623C6.3423 9.76301 6.11219 9.66911 5.89698 9.55453C5.68177 9.43996 5.47789 9.29487 5.28534 9.11928L4.18995 9.51079L3.4585 8.29654L4.36015 7.52849C4.29185 7.27382 4.25769 7.01296 4.25769 6.74593C4.25769 6.4789 4.29185 6.21804 4.36015 5.96337L3.4585 5.19532L4.18995 3.98107L5.28534 4.37258C5.47789 4.19699 5.68177 4.05191 5.89698 3.93733C6.11219 3.82275 6.3423 3.72885 6.5873 3.65564L6.78104 2.52197H8.20733L8.40107 3.65564C8.64607 3.72885 8.87618 3.82275 9.09139 3.93733C9.3066 4.05191 9.51048 4.19699 9.70303 4.37258L10.7984 3.98107L11.5299 5.19532L10.6282 5.96337C10.6965 6.21804 10.7307 6.4789 10.7307 6.74593C10.7307 7.01296 10.6965 7.27382 10.6282 7.52849L11.5299 8.29654L10.7984 9.51079L9.70303 9.11928C9.51048 9.29487 9.3066 9.43996 9.09139 9.55453C8.87618 9.66911 8.64607 9.76301 8.40107 9.83623L8.20733 10.9699H6.78104ZM7.49418 8.72087C8.04156 8.72087 8.50756 8.52855 8.89219 8.14393C9.27681 7.75931 9.46912 7.29331 9.46912 6.74593C9.46912 6.19855 9.27681 5.73255 8.89219 5.34793C8.50756 4.96331 8.04156 4.77099 7.49418 4.77099C6.94681 4.77099 6.4808 4.96331 6.09618 5.34793C5.71156 5.73255 5.51925 6.19855 5.51925 6.74593C5.51925 7.29331 5.71156 7.75931 6.09618 8.14393C6.4808 8.52855 6.94681 8.72087 7.49418 8.72087ZM15.4377 21.0179L15.1377 19.5148C14.789 19.4441 14.4648 19.3216 14.1649 19.1473C13.8649 18.973 13.5949 18.756 13.3548 18.4964L11.9378 18.9864L10.9815 17.3625L12.137 16.3789C12.0321 16.0266 11.9796 15.6682 11.9796 15.3037C11.9796 14.9392 12.0321 14.5808 12.137 14.2285L10.9815 13.2448L11.9378 11.621L13.3548 12.1109C13.5949 11.8513 13.8649 11.6344 14.1649 11.4601C14.4648 11.2857 14.789 11.1632 15.1377 11.0925L15.4377 9.58948H17.3318L17.6318 11.0925C17.9804 11.1632 18.3047 11.2857 18.6045 11.4601C18.9045 11.6344 19.1745 11.8513 19.4146 12.1109L20.8317 11.621L21.788 13.2448L20.6325 14.2285C20.7374 14.5808 20.7898 14.9392 20.7898 15.3037C20.7898 15.6682 20.7374 16.0266 20.6325 16.3789L21.788 17.3625L20.8317 18.9864L19.4146 18.4964C19.1745 18.756 18.9045 18.973 18.6045 19.1473C18.3047 19.3216 17.9804 19.4441 17.6318 19.5148L17.3318 21.0179H15.4377ZM16.3847 18.1563C17.1771 18.1563 17.8506 17.8789 18.4053 17.3242C18.96 16.7696 19.2373 16.0961 19.2373 15.3037C19.2373 14.5113 18.96 13.8378 18.4053 13.2831C17.8506 12.7284 17.1771 12.4511 16.3847 12.4511C15.5923 12.4511 14.9188 12.7284 14.3641 13.2831C13.8095 13.8378 13.5321 14.5113 13.5321 15.3037C13.5321 16.0961 13.8095 16.7696 14.3641 17.3242C14.9188 17.8789 15.5923 18.1563 16.3847 18.1563Z" fill="#1D1D78"/>
                                              </g>
                                           </svg>
                                        </span>
                                     </div>
                                     <p class="mb-0 font-12 week-count">
                                        <ng-container *ngIf="checkPercentageChange(65).isPositive; else negativeIcon">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                              <path d="M13.1918 4.94434L15.0661 6.81861L11.072 10.8127L7.79819 7.53886L1.7334 13.6118L2.88743 14.7659L7.79819 9.8551L11.072 13.1289L16.2283 7.98082L18.1026 9.8551V4.94434H13.1918Z" fill="#22b783"/>
                                           </svg>
                                        </ng-container>
                                        <ng-template #negativeIcon>
                                           <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                                              <path d="M14.0644 14.7659L15.9387 12.8916L11.9446 8.8975L8.67075 12.1713L2.60596 6.09837L3.75999 4.94434L8.67075 9.8551L11.9446 6.58126L17.1009 11.7294L18.9752 9.8551V14.7659H14.0644Z" fill="#F93C65"/>
                                           </svg>
                                        </ng-template>
                                        &nbsp;
                                        <span [ngClass]="checkPercentageChange(65).isPositive ? 'text-success' : 'text-danger'">
                                        {{ checkPercentageChange(65).percentageChange.toFixed(2) }}%
                                        </span>
                                        <!-- {{ checkPercentageChange(65).isPositive ? 'Up' : 'Down' }} from past week -->
                                        from past week
                                     </p>
                                  </div>
                                  <span class="use-funds-separator"></span>
                                  <div>
                                     <div class="d-flex align-items-center justify-content-between mb-3">
                                        <div>
                                           <p class="mb-2 font-13">Request </p>
                                           <h5 class="mb-0 font-15 fw-bold">{{pendingRequestsCounter}}</h5>
                                        </div>
                                        <span class="total-assets-icon d-flex align-items-center justify-content-center">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23" fill="none">
                                              <mask id="mask0_8104_3396" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="23">
                                                 <rect x="0.41748" y="0.0898438" width="22.8206" height="22.8206" fill="#D9D9D9"/>
                                              </mask>
                                              <g mask="url(#mask0_8104_3396)">
                                                 <path d="M11.8279 21.2829L9.17644 18.6314H5.46452C4.98418 18.6314 4.57761 18.465 4.24481 18.1322C3.91201 17.7994 3.74561 17.3928 3.74561 16.9125V4.18571C3.74561 3.70537 3.91201 3.2988 4.24481 2.966C4.57761 2.6332 4.98418 2.4668 5.46452 2.4668H18.1913C18.6717 2.4668 19.0782 2.6332 19.411 2.966C19.7438 3.2988 19.9102 3.70537 19.9102 4.18571V16.9125C19.9102 17.3928 19.7438 17.7994 19.411 18.1322C19.0782 18.465 18.6717 18.6314 18.1913 18.6314H14.4794L11.8279 21.2829ZM5.1719 16.2944C6.02767 15.4545 7.02211 14.7929 8.15522 14.3095C9.28833 13.8262 10.5126 13.5845 11.8279 13.5845C13.1433 13.5845 14.3675 13.8262 15.5006 14.3095C16.6337 14.7929 17.6282 15.4545 18.4839 16.2944V4.18571C18.4839 4.1125 18.4534 4.04546 18.3924 3.98461C18.3316 3.92359 18.2645 3.89309 18.1913 3.89309H5.46452C5.39131 3.89309 5.32427 3.92359 5.26342 3.98461C5.2024 4.04546 5.1719 4.1125 5.1719 4.18571V16.2944ZM11.8279 11.5366C12.6861 11.5366 13.4157 11.2361 14.0168 10.6352C14.6177 10.0341 14.9182 9.30443 14.9182 8.44628C14.9182 7.58813 14.6177 6.8585 14.0168 6.2574C13.4157 5.65646 12.6861 5.35598 11.8279 5.35598C10.9698 5.35598 10.2401 5.65646 9.63904 6.2574C9.03809 6.8585 8.73762 7.58813 8.73762 8.44628C8.73762 9.30443 9.03809 10.0341 9.63904 10.6352C10.2401 11.2361 10.9698 11.5366 11.8279 11.5366ZM6.54327 17.2051H17.1126V17.004C16.3615 16.3335 15.5378 15.8337 14.6413 15.5045C13.7446 15.1754 12.8068 15.0108 11.8279 15.0108C10.8612 15.0108 9.92802 15.1739 9.02835 15.5C8.12867 15.8261 7.30032 16.3214 6.54327 16.9857V17.2051ZM11.8279 10.1103C11.3707 10.1103 10.9791 9.94721 10.6531 9.62107C10.327 9.29508 10.1639 8.90348 10.1639 8.44628C10.1639 7.98907 10.327 7.59748 10.6531 7.27149C10.9791 6.94535 11.3707 6.78227 11.8279 6.78227C12.2851 6.78227 12.6767 6.94535 13.0027 7.27149C13.3288 7.59748 13.4919 7.98907 13.4919 8.44628C13.4919 8.90348 13.3288 9.29508 13.0027 9.62107C12.6767 9.94721 12.2851 10.1103 11.8279 10.1103Z" fill="#1D1D78"/>
                                              </g>
                                           </svg>
                                        </span>
                                     </div>
                                     <p class="mb-0 week-count font-12">
                                        <ng-container *ngIf="checkPercentageChange(-2).isPositive; else negativeIcon">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                              <path d="M13.1918 4.94434L15.0661 6.81861L11.072 10.8127L7.79819 7.53886L1.7334 13.6118L2.88743 14.7659L7.79819 9.8551L11.072 13.1289L16.2283 7.98082L18.1026 9.8551V4.94434H13.1918Z" fill="#22b783"/>
                                           </svg>
                                        </ng-container>
                                        <ng-template #negativeIcon>
                                           <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                                              <path d="M14.0644 14.7659L15.9387 12.8916L11.9446 8.8975L8.67075 12.1713L2.60596 6.09837L3.75999 4.94434L8.67075 9.8551L11.9446 6.58126L17.1009 11.7294L18.9752 9.8551V14.7659H14.0644Z" fill="#F93C65"/>
                                           </svg>
                                        </ng-template>
                                        &nbsp;
                                        <span [ngClass]="checkPercentageChange(-2).isPositive ? 'text-success' : 'text-danger'">
                                        {{ checkPercentageChange(-2).percentageChange.toFixed(2) }}%
                                        </span>
                                        <!-- {{ checkPercentageChange(-2).isPositive ? 'Up' : 'Down' }} from past week -->
                                        from past week
                                     </p>
                                  </div>
                               </div>
                               <div class="mt-3 assets-categories">
                                  <div class="categories-header p-3 d-flex align-items-center justify-content-between">
                                     <h5 class="mb-0 font-15 fw-semibold">Categories</h5>
                                     <!-- <button class="btn p-0 font-14 text-primary fw-semibold" data-bs-toggle="modal" data-bs-target="#createAssetsModal" AssetsDetailModal><i class="bi bi-plus-lg"></i>  Add Assets</button> -->
                                  </div>
                                  <div class="row" *ngIf="categorySummary.length>0">
                                     <div class="col-md-3 pr-0">
                                        <div class="overview-sidebar-menu">
                                           <div id="v-pills-tab" role="tablist" aria-orientation="vertical" class="nav flex-column nav-pills pt-3 pb-5">
                                              <button *ngFor="let category of categorySummary; let i = index" type="button" role="tab" data-bs-toggle="pill"
                                              data-bs-toggle="pill" data-bs-target="#v-pills-laptops" type="button" role="tab" aria-controls="v-pills-laptops" (click)="assetSummaryCategoryId= category.categoryId; fetchAssetSummary();"
                                              [attr.aria-selected]="i === 0 ? 'true' : 'false'" [id]="'v-pills-tab-' + i" class="nav-link d-flex align-items-centar justify-content-between" [class.active]="i === 0">
                                              {{ category.categoryName }} ({{ category.assetCount }})
                                              <i *ngIf="category.categoryId>0" class="bi bi-pencil" data-bs-toggle="modal" data-bs-target="#createCategoryModal"
                                              (click)="assignCategoryId(category.categoryId)"></i>
                                              </button>
                                           </div>
                                        </div>
                                     </div>
                                     <div class="col-md-9 pl-0">
                                        <div class="leave-templete">
                                           <div class="tab-content" id="v-pills-tabContent">
                                              <div class="tab-pane fade active show" id="v-pills-laptops" rol="tabpanel">
                                                 <div class="assets-overview">
                                                    <table class="table">
                                                       <thead>
                                                          <tr>
                                                             <th class="fw-semibold">Name</th>
                                                             <th class="fw-normal">Cost</th>
                                                             <th class="text-center fw-semibold">Total</th>
                                                             <th class="text-center fw-semibold">Assigned</th>
                                                             <th class="text-center fw-semibold">Not Assigned</th>
                                                             <th class="text-center fw-semibold">Repairing</th>
                                                             <th class="fw-semibold">Stock</th>
                                                          </tr>
                                                       </thead>
                                                       <tbody *ngIf="assetSummary.length>0">
                                                          <tr *ngFor="let asset of assetSummary">
                                                             <td class="fw-normal">{{ asset.assetName }}</td>
                                                             <!-- Using Angular's currency pipe to format the price -->
                                                             <td class="fw-normal">{{ asset.totalPrice | currency:'INR':'symbol':'1.0-0' }}</td>
                                                             <td class="text-center fw-normal">{{ asset.totalCount }}</td>
                                                             <td class="text-center fw-normal">{{ asset.assignedCount }}</td>
                                                             <td class="text-center fw-normal">{{ asset.availableCount }}</td>
                                                             <td class="text-center fw-normal">{{ asset.maintenanceCount }}</td>
                                                             <td>
                                                                <!-- Conditionally display the stock status -->
                                                                <span
                                                                   class="fw-semibold"
                                                                   [ngClass]="{
                                                                   'text-danger': asset.availableCount === 0,
                                                                   'text-primary': asset.availableCount > 0
                                                                   }"
                                                                   >
                                                                {{ asset.availableCount === 0 ? 'Unavailable' : 'Available' }}
                                                                </span>
                                                             </td>
                                                          </tr>
                                                       </tbody>
                                                    </table>
                                                    <div class=" d-flex align-items-centar justify-content-center w-100" style="margin-top: 12%; margin-bottom: 12%;" *ngIf="assetSummary.length==0">
                                                       <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                                          [nzNotFoundContent]="contentTpl">
                                                          <ng-template #contentTpl>
                                                             <p class="mb-1 empty-detail font-16">
                                                                No data for now
                                                             </p>
                                                          </ng-template>
                                                       </nz-empty>
                                                    </div>
                                                 </div>
                                              </div>
                                           </div>
                                        </div>
                                     </div>
                                  </div>
                                  <div class="empty-file d-flex align-items-centar justify-content-center w-100" *ngIf="categorySummary.length==0" style="    margin-top: 11%;
                                     margin-bottom: 11%;">
                                     <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                        [nzNotFoundContent]="contentTpl">
                                        <ng-template #contentTpl>
                                           <p class="mb-1 empty-detail font-16">
                                              No data for now
                                           </p>
                                        </ng-template>
                                     </nz-empty>
                                  </div>
                               </div>
                               <div class="assets-categories mt-3">
                                  <div class="row">
                                     <div class="col-md-9 pr-0  border-right">
                                        <div>
                                           <div class="categories-header p-3 d-flex align-items-center justify-content-between">
                                              <h5 class="mb-0 font-15 fw-semibold">Asset Support Request</h5>
                                           </div>
                                           <div class="d-flex align-items-center justify-content-between p-3 pt-5 gap-3">
                                              <div class="d-flex align-items-center justify-content-between w-100">
                                                 <div class="d-flex align-items-center gap-2">
                                                    <span class="new-request"></span>
                                                    <p class="mb-0 font-13">New Requests</p>
                                                 </div>
                                                 <h5 class="font-14 text-black mb-0 fw-semibold">{{requestedTypeCount?.NewAssetAllocation ? requestedTypeCount.NewAssetAllocation : 0}}</h5>
                                              </div>
                                              <span class="calendar-separator"></span>
                                              <div class="d-flex align-items-center justify-content-between w-100">
                                                 <div class="d-flex align-items-center gap-2">
                                                    <span class="replacement-requests"></span>
                                                    <p class="mb-0 font-13">Replacement Requests</p>
                                                 </div>
                                                 <h5 class="font-14 text-black mb-0 fw-semibold">{{requestedTypeCount?.AssetReplacement ? requestedTypeCount.AssetReplacement : 0}}</h5>
                                              </div>
                                              <span class="calendar-separator"></span>
                                              <div class="d-flex align-items-center justify-content-between w-100">
                                                 <div class="d-flex align-items-center gap-2">
                                                    <span class="repair-requests"></span>
                                                    <p class="mb-0 font-13">Repair Requests</p>
                                                 </div>
                                                 <h5 class="font-14 text-black mb-0 fw-semibold">{{requestedTypeCount?.RepairRequest ? requestedTypeCount.RepairRequest : 0}}</h5>
                                              </div>
                                           </div>
                                        </div>
                                     </div>
                                     <div *ngIf="isChartLoaded" class="col-md-3 text-center p-4 ">
                                        <apx-chart
                                        #chart
                                        [series]="chartOptions?.series"
                                        [chart]="chartOptions?.chart"
                                        [colors]="chartOptions?.colors"
                                        [labels]="chartOptions?.labels"
                                        [responsive]="chartOptions?.responsive"
                                        [fill]="chartOptions?.fill"
                                        [legend]="chartOptions?.legend"
                                        [dataLabels]="chartOptions?.dataLabels">
                                        </apx-chart>
                                        <span *ngIf="!(requestedTypeCount?.NewAssetAllocation || requestedTypeCount?.AssetReplacement)"  class="resignation-request font-13 fw-normal">No Request</span>
                                     </div>
                                  </div>
                               </div>
                            </div>
                         </div>
                      </div>
                   </div>
                   <div class="tab-pane fade" id="assigned-assets" role="tabpanel" aria-labelledby="employee-tab">
                      <div class="assigned-assets mt-3">
                         <!-- TODO added d-none to hide it for now -->
                         <div class="row d-none">
                            <!-- Left Column: Assigned Assets Summary -->
                            <div class="col-md-2">
                               <div class="assigned-assets p-3">
                                  <div class="d-flex align-items-center gap-3">
                                     <p class="mb-2 font-12 week-count">Assigned Assets</p>
                                     <span class="assigned fw-semibold font-13">
                                        <!-- SVG Icon -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
                                           <path d="M5.29834 1.93342L3.50282 3.72952L3.5028 3.72953C3.42537 3.80696 3.32035 3.85047 3.21084 3.85047C3.10134 3.85047 2.99632 3.80696 2.91888 3.72953C2.84145 3.6521 2.79795 3.54708 2.79795 3.43757C2.79795 3.38335 2.80863 3.32966 2.82938 3.27956C2.85013 3.22947 2.88054 3.18395 2.91888 3.14561L2.98944 3.21617L2.91888 3.14561L5.41879 0.645699C5.41881 0.645679 5.41883 0.645658 5.41885 0.645638L5.29834 1.93342ZM5.29834 1.93342V9.06257C5.29834 9.17197 5.3418 9.27689 5.41916 9.35425C5.49652 9.43161 5.60144 9.47507 5.71084 9.47507C5.82025 9.47507 5.92517 9.43161 6.00253 9.35425C6.07988 9.27689 6.12334 9.17197 6.12334 9.06257V1.93342L7.91887 3.72952L7.91888 3.72953C7.99632 3.80696 8.10134 3.85047 8.21084 3.85047C8.32035 3.85047 8.42537 3.80696 8.5028 3.72953C8.58024 3.6521 8.62374 3.54708 8.62374 3.43757C8.62374 3.32806 8.58024 3.22304 8.5028 3.14561L6.00289 0.645699C6.00287 0.645679 6.00285 0.645659 6.00283 0.645639L5.29834 1.93342Z" fill="#388E3C" stroke="#388E3C" stroke-width="0.2"/>
                                        </svg>
                                        <!-- Dynamically display percentage -->
                                        {{ 0 }}
                                     </span>
                                  </div>
                                  <!-- Display the total assigned assets dynamically -->
                                  <h5 class="mb-1 mt-2 font-16 text-black fw-bold">{{ totalAssignedAssets }}</h5>
                                  <p class="mb-0 font-12">Quantity</p>
                               </div>
                            </div>
                            <!-- Right Column: Loop Through Each Team and Render Details -->
                            <div class="col-md-10 d-none">
                               <div class="total-assets p-3 d-flex flex-wrap align-items-center justify-content-between gap-3">
                                  <!-- Use *ngFor to iterate over the teamAssets array -->
                                  <div *ngFor="let team of teamSummary" class="team-card mb-3 p-2 border rounded">
                                     <div class="d-flex align-items-center justify-content-between mb-2">
                                        <div>
                                           <!-- Display each team’s asset count and name dynamically -->
                                           <h5 class="mb-2 font-16 fw-bold">{{ team.assetCount }}</h5>
                                           <p class="mb-0 font-12">{{ team.teamName }}</p>
                                        </div>
                                     </div>
                                     <p class="mb-0 font-12 week-count">
                                        <!-- SVG Icon for weekly stats (if needed) -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                           <path d="M7.21375 4.79651C7.06297 4.94728 6.97061 5.15681 6.97091 5.38692L6.97091 5.48819C6.97091 5.94899 7.34394 6.32203 7.80415 6.32144L12.3571 6.32144L4.65532 14.0232C4.33005 14.3485 4.33005 14.8764 4.65532 15.2017C4.98059 15.527 5.50856 15.527 5.83383 15.2017L13.5356 7.49995V12.0529C13.5356 12.5137 13.9086 12.8867 14.3688 12.8861H14.4701C14.9309 12.8861 15.3039 12.5131 15.3034 12.0529V5.38692C15.3034 4.92612 14.9303 4.55308 14.4701 4.55367L7.80415 4.55367C7.57375 4.55367 7.36452 4.64573 7.21375 4.79651Z" fill="#22b783"/>
                                        </svg>
                                        &nbsp;
                                        <!-- If you have additional weekly data for the team, you can display it here.
                                           For now, we’ll show a default value (or you can extend your JSON to include weekly stats). -->
                                        {{ team.weeklyAssetCount || 0 }} this week
                                     </p>
                                  </div>
                               </div>
                            </div>
                         </div>
                         <div class="mt-3">
                            <div class="asset-assigned-search">
                               <div class="d-flex justify-content-start align-items-center">
                                  <div class="search-filter">
                                     <button type="button" id="statusDropdown" class="btn btn-secondary new-dropdown d-flex align-items-center justify-content-between" (click)="changeShowFilter(true)">
                                        Filters
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                           <mask id="mask0_7808_40" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="23">
                                              <rect x="0.262695" y="0.283112" width="22.4338" height="22.4338" fill="#1C1B1F"/>
                                           </mask>
                                           <g mask="url(#mask0_7808_40)">
                                              <path d="M9.61057 17.1084V15.239H13.3495V17.1084H9.61057ZM5.87161 12.4347V10.5653H17.0885V12.4347H5.87161ZM3.06738 7.76104V5.89156H19.8927V7.76104H3.06738Z" fill="#1C1B1F"/>
                                           </g>
                                        </svg>
                                     </button>
                                  </div>
                                  <div class="search-date d-flex align-items-center justify-content-between position-relative w-100">
                                     <div class="form-group w-100 position-relative">
                                        <input
                                           type="text"
                                           [formControl]="searchControl"
                                           placeholder="Search by asset name or serial number.."
                                           class="form-control me-2 w-100"
                                           style="padding: 10px 45px;"
                                           />
                                        <!-- <i class="bi bi-search search-icon d-flex align-items-center h-100"></i> -->
                                        <i class="bi bi-search search-icon d-flex align-items-center h-100" *ngIf="searchText==''"></i>
                                        <i class="bi bi-x search-icon text-primary d-flex align-items-center h-100 font-20" *ngIf="searchText!=''" (click)="resetAssetsFilter(0);"></i>
                                     </div>
                                  </div>
                                  <div>
                                     <!-- <button *ngIf="selectedStatusId!=64" type="button" class="btn primaryBtnLink filter-btn d-block text-cennter" (click)="resetAssetsFilter(64); updateActiveFilters()">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                        <mask id="mask0_8109_4666" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                           <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                        </mask>
                                        <g mask="url(#mask0_8109_4666)">
                                           <path d="M2.0835 17.1666V11.141H8.10912V17.1666H2.0835ZM3.3335 15.9166H6.85912V12.391H3.3335V15.9166ZM5.25662 8.41661L9.26308 1.84619L13.2693 8.41661H5.25662ZM7.46162 7.16661H11.0643L9.26308 4.26911L7.46162 7.16661ZM17.9954 19.1602L15.8031 16.9679C15.5274 17.1676 15.2247 17.3201 14.8952 17.4254C14.5656 17.5306 14.216 17.5833 13.8464 17.5833C12.8902 17.5833 12.0795 17.2507 11.4145 16.5856C10.7494 15.9206 10.4168 15.1099 10.4168 14.1537C10.4168 13.1976 10.7494 12.387 11.4145 11.7218C12.0795 11.0568 12.8902 10.7243 13.8464 10.7243C14.8025 10.7243 15.6131 11.0568 16.2783 11.7218C16.9433 12.387 17.2758 13.1976 17.2758 14.1537C17.2758 14.5148 17.2232 14.8588 17.1179 15.1858C17.0127 15.5127 16.8672 15.814 16.6812 16.0897L18.8735 18.282L17.9954 19.1602ZM13.846 16.3333C14.4563 16.3333 14.9722 16.1226 15.3937 15.7012C15.8151 15.2799 16.0258 14.7642 16.0258 14.1541C16.0258 13.5438 15.8152 13.0279 15.3939 12.6064C14.9725 12.185 14.4568 11.9743 13.8466 11.9743C13.2363 11.9743 12.7205 12.1849 12.2991 12.6062C11.8776 13.0276 11.6668 13.5433 11.6668 14.1535C11.6668 14.7638 11.8775 15.2796 12.2989 15.701C12.7202 16.1225 13.2359 16.3333 13.846 16.3333Z" fill="#6666F2"/>
                                        </g>
                                     </svg>
                                     Not Assigned
                                     </button> -->
                                     <button class="btn p-0 font-14 text-primary fw-semibold filter-btn" data-bs-toggle="modal" data-bs-target="#createAssetsModal" AssetsDetailModal><i class="bi bi-plus-lg"></i>  Add Assets</button>
                                     <!-- TO DO: Filter-reset btn -->
                                     <!-- <button *ngIf="selectedStatusId==64" type="button" class="btn primaryBtnLink filter-btn d-block text-cennter reset-filter-btn" (click)="resetAssetsFilter(0); updateActiveFilters()">
                                     Go Back
                                     <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                        <mask id="mask0_8129_6489" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="21" height="21">
                                           <rect x="0.5" y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                        </mask>
                                        <g mask="url(#mask0_8129_6489)">
                                           <path d="M5.83366 16.3332L4.66699 15.1665L9.33366 10.4998L4.66699 5.83317L5.83366 4.6665L10.5003 9.33317L15.167 4.6665L16.3337 5.83317L11.667 10.4998L16.3337 15.1665L15.167 16.3332L10.5003 11.6665L5.83366 16.3332Z" fill="#6666F2"/>
                                        </g>
                                     </svg>
                                     </button> -->
                                     <!-- Filter-reset btn end -->
                                  </div>
                               </div>
                            </div>
                            <div class="actionMenuList filter-box p-0 position-absolute bg-white border" [ngClass]="{'d-none': !showFilter}">
                               <div class="d-flex align-items-center justify-content-between border-bottom p-3">
                                  <h5 class="mb-0 font-14 fw-semibold"> Filter</h5>
                                  <span class="pointer lh-1" (click)="changeShowFilter(false)">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                                        <g opacity="0.8">
                                           <mask id="mask0_7729_258" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="19">
                                              <rect y="0.5" width="18" height="18" fill="#D9D9D9"/>
                                           </mask>
                                           <g mask="url(#mask0_7729_258)">
                                              <path d="M4.8 14.75L3.75 13.7L7.95 9.5L3.75 5.3L4.8 4.25L9 8.45L13.2 4.25L14.25 5.3L10.05 9.5L14.25 13.7L13.2 14.75L9 10.55L4.8 14.75Z" fill="#1C1B1F"/>
                                           </g>
                                        </g>
                                     </svg>
                                  </span>
                               </div>
                               <div class="row p-3">
                                  <div class="col-md-12 mb-3">
                                     <label for="type" class="pb-2">Team/ Department</label>
                                     <nz-select nzShowSearch [(ngModel)]="selectedTeam" class="w-100 form-control placeholder-lines"
                                     nzPlaceHolder="Select a Team" [nzFilterOption]="filterOption" (ngModelChange)="getTeamMemberById($event)">
                                     <nz-option [nzValue]="0" nzLabel="ALL"></nz-option>
                                     <nz-option *ngFor="let team of teamSummary" [nzValue]="team.teamUuid" [nzLabel]="team.teamName">
                                     </nz-option>
                                     </nz-select>
                                  </div>
                                  <div class="col-md-12 mb-3">
                                     <label for="status" class="pb-2">Employee Name</label>
                                     <nz-select nzShowSearch [(ngModel)]="selectedUserId" class="w-100 form-control placeholder-lines"
                                     nzPlaceHolder="Select a User" [nzFilterOption]="filterOption" (ngModelChange)="updateActiveFilters()">
                                     <nz-option [nzValue]="0" nzLabel="ALL"></nz-option>
                                     <nz-option *ngFor="let user of users" [nzValue]="user.id" [nzLabel]="user?.userName ? user?.userName : user?.name">
                                     </nz-option>
                                     </nz-select>
                                  </div>
                                  <div class="col-md-12 mb-3">
                                     <label for="status" class="pb-2">Status</label>
                                     <nz-select nzShowSearch [(ngModel)]="selectedStatusId" nzPlaceHolder="Select a Status" class="w-100 form-control placeholder-lines" (ngModelChange)="updateActiveFilters()">
                                     <nz-option [nzValue]="0" nzLabel="ALL"></nz-option>
                                     <nz-option *ngFor="let status of assetStatuses" [nzValue]="status.id" [nzLabel]="status.name"></nz-option>
                                     </nz-select>
                                  </div>
                                  <div class="col-md-12 mb-3">
                                     <label for="status" class="pb-2">Assets Categories</label>
                                     <nz-select nzShowSearch [(ngModel)]="selectedCategoryId" nzPlaceHolder="Select a Category" class="w-100 form-control placeholder-lines" (ngModelChange)="updateActiveFilters()">
                                     <nz-option [nzValue]="0" nzLabel="ALL"></nz-option>
                                     <nz-option *ngFor="let category of categorySummary" [nzValue]="category.categoryId" [nzLabel]="category.categoryName"></nz-option>
                                     </nz-select>
                                  </div>
                               </div>
                               <div class="p-3 border-top d-flex gap-2 align-items-center justify-content-end">
                                  <button class="btn cancel-btn mt-0"  (click)="resetAssetsFilter(0);">Reset it</button>
                                  <button class="btn submitActionBtn"  (click)="loadAssets()">Apply</button>
                               </div>
                            </div>
                         </div>
                         <div class="filter-bdg d-flex align-items-center gap-2 mt-3 mb-3" *ngIf="activeFilterTemp.length>0">
                            <p *ngFor="let filter of activeFilterTemp"
                               class="filter-pills d-flex align-items-center gap-2 pointer font-12 fw-semibold">
                               {{ filter.label }}
                               <i class="bi bi-x-lg pointer" (click)="removeFilters(filter)"></i>
                            </p>
                         </div>
                         <div>
                            <table class="table mb-5 mt-3">
                               <thead>
                                  <tr>
                                     <th>Assets Name</th>
                                     <th>ID Number</th>
                                     <th>Assigned To</th>
                                     <th>Purchased Date</th>
                                     <th>Warranty Date</th>
                                     <th>Category</th>
                                     <th>Price</th>
                                     <th>Location</th>
                                     <th>Vendor Name</th>
                                     <th>Status</th>
                                     <th>Action</th>
                                  </tr>
                               </thead>
                               <!-- TO DO: Shimmer Loading Ui -->
                               <tbody *ngIf="isAssetLoading">
                                  <tr *ngFor="let item of [].constructor(10)">
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                     <td>
                                        <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                     </td>
                                  </tr>
                               </tbody>
                               <!-- Shimmer Loading Ui End-->
                               <!-- TO DO: empty notification  -->
                               <tbody *ngIf="!isAssetLoading && assets.length==0 ">
                                  <tr>
                                     <td colspan="11">
                                        <div class="empty-file d-flex align-items-centar justify-content-center" style="margin-top: 7%; margin-bottom: 7%" >
                                           <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                              [nzNotFoundContent]="contentTpl">
                                              <ng-template #contentTpl>
                                                 <p class="mb-1 empty-detail font-16">
                                                    No data for now
                                                 </p>
                                              </ng-template>
                                           </nz-empty>
                                        </div>
                                     </td>
                                  </tr>
                               </tbody>
                               <!-- empty notification end -->
                               <tbody *ngIf="!isAssetLoading">
                                  <tr *ngFor="let asset of assets">
                                     <td class="fw-normal">{{ asset.assetName }}</td>
                                     <td class="fw-normal">{{ asset.serialNumber }}</td>
                                     <td class="fw-normal">{{ asset.assignedToName || 'N/A' }}</td>
                                     <!-- Purchased Date -->
                                     <td>
                                        <span>
                                           <h5 class="mb-1 font-13">{{ asset.purchasedDate | date:'dd-MMM-yy' }}</h5>
                                           <p class="mb-0 font-12">{{ asset.purchasedDate | date:'EEEE' }}</p>
                                        </span>
                                     </td>
                                     <!-- Expiry Date -->
                                     <td>
                                        <span>
                                           <h5 class="mb-1 font-13" *ngIf="asset.expiryDate; else naDate">
                                              {{ asset.expiryDate | date:'dd-MMM-yy' }}
                                           </h5>
                                           <p class="mb-0 font-12">{{ asset.expiryDate | date:'EEEE' }}</p>
                                           <ng-template #naDate>
                                              <h5 class="mb-1 font-13">N/A</h5>
                                           </ng-template>
                                        </span>
                                     </td>
                                     <td class="fw-normal">{{ asset.assetCategoryName }}</td>
                                     <td class="fw-normal">₹{{ asset.price | number:'1.0-0' }}</td>
                                     <td class="fw-normal">{{ asset.location }}</td>
                                     <td class="fw-normal">{{ asset.vendorName }}</td>
                                     <!-- Status -->
                                     <td>
                                        <span [ngClass]="statusClassMapping[(asset.statusId)]" class="fw-semibold">
                                        {{ asset.statusName }}
                                        </span>
                                     </td>
                                     <!-- Actions Dropdown (Keep your existing markup) -->
                                     <td>
                                        <div class="dropdown">
                                           <button type="button" data-bs-toggle="dropdown" aria-expanded="true" class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center">
                                           <i class="bi bi-three-dots-vertical"></i>
                                           </button>
                                           <div class="dropdown-menu actionMenuList">
                                              <li *ngIf="asset.statusId != 66">
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addDescriptionModal" (click)="changeStatusModal(asset.id, 62, asset.assignedToId, true)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                                       <mask id="mask0_8123_5744" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="21" height="21">
                                                          <rect x="0.384766" y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5744)">
                                                          <path d="M15.5091 9.5545C15.3905 8.95311 15.1803 8.39867 14.8785 7.89117C14.5767 7.38367 14.1309 6.85964 13.5412 6.31908V8.59304H12.2912V4.10596H16.7783V5.35596H14.3552C15.0967 6.01193 15.6544 6.68339 16.0283 7.37033C16.4023 8.05728 16.6502 8.78533 16.7718 9.5545H15.5091ZM12.5474 14.763H17.0508V12.6316H12.5474V14.763ZM12.3393 16.0128C12.0499 16.0128 11.8039 15.9116 11.6014 15.7091C11.3989 15.5066 11.2977 15.2606 11.2977 14.9712V12.4232C11.2977 12.1338 11.3989 11.8878 11.6014 11.6853C11.8039 11.4828 12.0499 11.3816 12.3393 11.3816H17.2591C17.5484 11.3816 17.7944 11.4828 17.997 11.6853C18.1995 11.8878 18.3008 12.1338 18.3008 12.4232V14.9712C18.3008 15.2606 18.1995 15.5066 17.997 15.7091C17.7944 15.9116 17.5484 16.0128 17.2591 16.0128H12.3393ZM3.98995 16.8943V15.6443H6.41307C5.56043 14.905 4.93273 14.1101 4.52995 13.2597C4.12717 12.4093 3.92578 11.5001 3.92578 10.5322C3.92578 9.07276 4.35661 7.77471 5.21828 6.63804C6.07995 5.50123 7.17689 4.732 8.50911 4.33033V5.64762C7.5262 6.02679 6.72488 6.66082 6.10516 7.54971C5.48557 8.4386 5.17578 9.43276 5.17578 10.5322C5.17578 11.33 5.33974 12.0649 5.66766 12.737C5.99571 13.4092 6.5155 14.06 7.22703 14.6893V12.4072H8.47703V16.8943H3.98995ZM10.4643 18.4168V17.1668H19.1341V18.4168H10.4643Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    <span *ngIf="asset.assignedToId > 0"> Re-Assign</span>
                                                    <span *ngIf="asset.assignedToId== 0"> Assign</span>
                                                 </a>
                                              </li>
                                              <li *ngIf="asset.statusId != 64 && asset.statusId != 66">
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addDescriptionModal" (click)="changeStatusModal(asset.id, 64, 0, false)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                       <mask id="mask0_8123_5738" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                          <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5738)">
                                                          <path d="M9.1045 12.1041L13.5372 7.69222L12.6462 6.80118L9.1045 10.3428L7.33367 8.57201L6.45555 9.45035L9.1045 12.1041ZM1.1543 17.3589V16.1089H18.8464V17.3589H1.1543ZM3.59013 15.2756C3.16916 15.2756 2.81284 15.1297 2.52117 14.8381C2.22951 14.5464 2.08367 14.1901 2.08367 13.7691V5.11535C2.08367 4.69437 2.22951 4.33805 2.52117 4.04639C2.81284 3.75472 3.16916 3.60889 3.59013 3.60889H16.4105C16.8315 3.60889 17.1878 3.75472 17.4795 4.04639C17.7712 4.33805 17.917 4.69437 17.917 5.11535V13.7691C17.917 14.1901 17.7712 14.5464 17.4795 14.8381C17.1878 15.1297 16.8315 15.2756 16.4105 15.2756H3.59013ZM3.59013 14.0256H16.4105C16.4747 14.0256 16.5335 13.9989 16.5868 13.9456C16.6403 13.8921 16.667 13.8333 16.667 13.7691V5.11535C16.667 5.05118 16.6403 4.99243 16.5868 4.9391C16.5335 4.88562 16.4747 4.85889 16.4105 4.85889H3.59013C3.52596 4.85889 3.46721 4.88562 3.41388 4.9391C3.36041 4.99243 3.33367 5.05118 3.33367 5.11535V13.7691C3.33367 13.8333 3.36041 13.8921 3.41388 13.9456C3.46721 13.9989 3.52596 14.0256 3.59013 14.0256Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    Available
                                                 </a>
                                              </li>
                                              <li *ngIf="asset.statusId != 63 && asset.statusId != 66">
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addDescriptionModal" (click)="changeStatusModal(asset.id,63, 0, false)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                        <mask id="mask0_8861_2575" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                        <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                        </mask>
                                                        <g mask="url(#mask0_8861_2575)">
                                                        <path d="M4.37458 18.0962C3.96972 18.0962 3.62542 17.9544 3.34167 17.6708C3.05806 17.3872 2.91625 17.0429 2.91625 16.6379V13.5371C2.91625 13.1321 3.05806 12.7877 3.34167 12.5041C3.62542 12.2205 3.96972 12.0787 4.37458 12.0787H15.6246C16.0294 12.0787 16.3738 12.2205 16.6575 12.5041C16.9411 12.7877 17.0829 13.1321 17.0829 13.5371V16.6379C17.0829 17.0429 16.9411 17.3872 16.6575 17.6708C16.3738 17.9544 16.0294 18.0962 15.6246 18.0962H4.37458ZM4.42271 16.8462H15.5765C15.6513 16.8462 15.7128 16.8222 15.7608 16.7741C15.8089 16.7261 15.8329 16.6647 15.8329 16.59V13.5852C15.8329 13.5103 15.8089 13.4489 15.7608 13.4008C15.7128 13.3527 15.6513 13.3287 15.5765 13.3287H4.42271C4.34785 13.3287 4.28639 13.3527 4.23833 13.4008C4.19028 13.4489 4.16625 13.5103 4.16625 13.5852V16.59C4.16625 16.6647 4.19028 16.7261 4.23833 16.7741C4.28639 16.8222 4.34785 16.8462 4.42271 16.8462ZM5.49313 10.8287L1.89062 8.76622L6.51396 7.98893L5.25604 3.43768L9.10542 6.17497L11.4371 2.0708L12.2144 6.71809L16.7656 5.46018L14.0365 9.30955L16.7223 10.8287H14.1806L12.2127 9.71497L13.7127 7.60122L11.2096 8.29351L10.7785 5.74059L9.51083 7.99059L7.39708 6.49059L8.08938 8.99372L5.56042 9.42476L7.90021 10.8287H5.49313Z" fill="#1C1B1F"/>
                                                        </g>
                                                        </svg>
                                                    Mark as Unavailable
                                                 </a>
                                              </li>
                                              <li *ngIf="asset.statusId != 66">
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addDescriptionModal" (click)="changeStatusModal(asset.id,66, 0, false)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                       <mask id="mask0_8123_5732" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                          <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5732)">
                                                          <path d="M11.8527 9.97799L10.1317 8.25695H10.9458V6.87882L12.9489 8.88195L11.8527 9.97799ZM17.0098 15.1351L15.8848 14.0101H16.4746C16.5333 13.9941 16.5801 13.9621 16.6148 13.914C16.6495 13.8658 16.6669 13.8177 16.6669 13.7697V5.1159C16.6669 5.04118 16.6428 4.97972 16.5948 4.93153C16.5467 4.88347 16.4853 4.85945 16.4104 4.85945H6.73415L5.48415 3.60945H16.4104C16.8314 3.60945 17.1877 3.75528 17.4794 4.04695C17.771 4.33861 17.9169 4.69493 17.9169 5.1159V13.7697C17.9169 14.0667 17.8376 14.3373 17.6789 14.5813C17.5202 14.8255 17.2971 15.0101 17.0098 15.1351ZM17.3721 19.6286L15.1027 17.3594H1.15415V16.1094H13.84L13.0067 15.2761H3.58999C3.16901 15.2761 2.8127 15.1303 2.52103 14.8386C2.22936 14.5469 2.08353 14.1906 2.08353 13.7697V5.03903C2.08353 4.9482 2.10756 4.86674 2.15561 4.79466C2.20381 4.72243 2.26526 4.665 2.33999 4.62236L0.87207 3.12861L1.7502 2.25049L18.2502 18.7505L17.3721 19.6286ZM8.36561 10.6478C8.32283 10.696 8.29075 10.7454 8.26936 10.7961C8.24797 10.8468 8.23728 10.9096 8.23728 10.9844V12.2153H6.98749V10.5486C6.98749 10.3424 7.01179 10.1538 7.0604 9.98278C7.10901 9.81195 7.17867 9.66403 7.26936 9.53903L3.53395 5.8034C3.46978 5.83007 3.42033 5.86347 3.38561 5.90361C3.35089 5.94361 3.33353 5.99299 3.33353 6.05174V13.7697C3.33353 13.8445 3.35756 13.906 3.40561 13.954C3.45367 14.0021 3.51513 14.0261 3.58999 14.0261H11.7439L8.36561 10.6478Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    Mark as Damaged
                                                 </a>
                                              </li>
                                              <li *ngIf="asset.statusId != 65">
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addDescriptionModal" (click)="changeStatusModal(asset.id,65, 0, false)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                       <mask id="mask0_8123_5726" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                          <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5726)">
                                                          <path d="M6.98763 12.2147H8.23742V10.5481C8.23742 10.2585 8.33867 10.0124 8.54117 9.80993C8.74367 9.60757 8.98971 9.50639 9.2793 9.50639H10.946V10.8845L12.9491 8.88139L10.946 6.87826V8.25639H9.2793C8.6436 8.25639 8.1027 8.47937 7.65659 8.92534C7.21062 9.37146 6.98763 9.91236 6.98763 10.5481V12.2147ZM3.59013 15.2756C3.16916 15.2756 2.81284 15.1297 2.52117 14.8381C2.22951 14.5464 2.08367 14.1901 2.08367 13.7691V5.11535C2.08367 4.69437 2.22951 4.33805 2.52117 4.04639C2.81284 3.75472 3.16916 3.60889 3.59013 3.60889H16.4105C16.8315 3.60889 17.1878 3.75472 17.4795 4.04639C17.7712 4.33805 17.917 4.69437 17.917 5.11535V13.7691C17.917 14.1901 17.7712 14.5464 17.4795 14.8381C17.1878 15.1297 16.8315 15.2756 16.4105 15.2756H3.59013ZM3.59013 14.0256H16.4105C16.4747 14.0256 16.5335 13.9989 16.5868 13.9456C16.6403 13.8921 16.667 13.8333 16.667 13.7691V5.11535C16.667 5.05118 16.6403 4.99243 16.5868 4.9391C16.5335 4.88562 16.4747 4.85889 16.4105 4.85889H3.59013C3.52596 4.85889 3.46721 4.88562 3.41388 4.9391C3.36041 4.99243 3.33367 5.05118 3.33367 5.11535V13.7691C3.33367 13.8333 3.36041 13.8921 3.41388 13.9456C3.46721 13.9989 3.52596 14.0256 3.59013 14.0256ZM1.1543 17.3589V16.1089H18.8464V17.3589H1.1543Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    maintenance
                                                 </a>
                                              </li>
                                              <li>
                                                 <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#createAssetsModal" (click)="updateAsset(asset)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                       <mask id="mask0_8123_5702" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                          <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5702)">
                                                          <path d="M5.49753 17.5837V16.1093L6.23461 15.3722H3.59044C3.16947 15.3722 2.81315 15.2264 2.52148 14.9347C2.22982 14.643 2.08398 14.2867 2.08398 13.8657V4.92345C2.08398 4.50248 2.22982 4.14616 2.52148 3.85449C2.81315 3.56283 3.16947 3.41699 3.59044 3.41699H10.185V4.66699H3.59044C3.52628 4.66699 3.46753 4.69373 3.41419 4.7472C3.36072 4.80053 3.33398 4.85928 3.33398 4.92345V13.8657C3.33398 13.9298 3.36072 13.9885 3.41419 14.042C3.46753 14.0955 3.52628 14.1222 3.59044 14.1222H16.4109C16.475 14.1222 16.5338 14.0955 16.5871 14.042C16.6406 13.9885 16.6673 13.9298 16.6673 13.8657V11.3337H17.9173V13.8657C17.9173 14.2867 17.7715 14.643 17.4798 14.9347C17.1882 15.2264 16.8318 15.3722 16.4109 15.3722H13.7667L14.5038 16.1093V17.5837H5.49753ZM12.7971 12.7039L8.9269 8.83366L9.80523 7.95553L12.1721 10.3176V3.41699H13.4221V10.3176L15.7892 7.95553L16.6673 8.83366L12.7971 12.7039Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    Update Asset
                                                 </a>
                                              </li>
                                              <li>
                                                 <!-- data-bs-toggle="modal" data-bs-target="#assetsHistory" -->
                                                 <a class="dropdown-item" (click)="loadAssetHistory(asset); open();">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                                       <mask id="mask0_8123_5714" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                                          <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                                       </mask>
                                                       <g mask="url(#mask0_8123_5714)">
                                                          <path d="M12.7493 8.96926L15.6227 6.08301L15.1035 5.56384L12.7493 7.91801L11.5618 6.73843L11.0427 7.27051L12.7493 8.96926ZM2.91602 16.958V15.708H12.4993V16.958H2.91602ZM13.3339 11.1247C12.2391 11.1247 11.3055 10.7388 10.5331 9.96717C9.7606 9.19551 9.37435 8.26231 9.37435 7.16759C9.37435 6.07273 9.76018 5.13912 10.5318 4.36676C11.3035 3.59426 12.2367 3.20801 13.3314 3.20801C14.4263 3.20801 15.3599 3.59384 16.1323 4.36551C16.9048 5.13717 17.291 6.07037 17.291 7.16509C17.291 8.25995 16.9052 9.19356 16.1335 9.96592C15.3618 10.7384 14.4287 11.1247 13.3339 11.1247ZM2.91602 10.2913V9.04134H7.78143C7.85727 9.27217 7.94296 9.49037 8.03852 9.69592C8.13421 9.90162 8.24831 10.1001 8.38081 10.2913H2.91602ZM2.91602 13.6247V12.3747H10.6933C10.9647 12.5211 11.2516 12.6455 11.5539 12.748C11.8563 12.8506 12.1714 12.9244 12.4993 12.9693V13.6247H2.91602Z" fill="#1C1B1F"/>
                                                       </g>
                                                    </svg>
                                                    History
                                                 </a>
                                              </li>
                                           </div>
                                        </div>
                                     </td>
                                  </tr>
                               </tbody>
                            </table>
                            <div *ngIf="totalItems > pageSize" class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top">
                               <p class="mb-0">
                                  Showing items {{ (currentPage - 1) * pageSize + 1 }} -
                                  {{ (currentPage * pageSize) < totalItems ? (currentPage * pageSize) : totalItems }}
                                  of {{ totalItems }} records
                               </p>
                               <ngb-pagination class="pagition-box" [collectionSize]="totalItems" [rotate]="true"
                               (pageChange)="assetsPageChange($event)" [pageSize]="pageSize" [(page)]="currentPage"
                               [maxSize]="5" [boundaryLinks]="true">
                               </ngb-pagination>
                            </div>
                         </div>
                      </div>
                   </div>
                   <div class="tab-pane fade" id="request" role="tabpanel" aria-labelledby="employee-tab">
                      <div class="mt-3">
                         <div class="asset-assigned-search">
                            <div class="d-flex justify-content-start align-items-center">
                               <div class="search-filter dropdown">
                                  <button type="button" id="statusDropdown" class="btn btn-secondary new-dropdown d-flex align-items-center justify-content-between" (click)="changeShowFilter(true)">
                                     Filters
                                     <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                        <mask id="mask0_7808_40" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="23">
                                           <rect x="0.262695" y="0.283112" width="22.4338" height="22.4338" fill="#1C1B1F"/>
                                        </mask>
                                        <g mask="url(#mask0_7808_40)">
                                           <path d="M9.61057 17.1084V15.239H13.3495V17.1084H9.61057ZM5.87161 12.4347V10.5653H17.0885V12.4347H5.87161ZM3.06738 7.76104V5.89156H19.8927V7.76104H3.06738Z" fill="#1C1B1F"/>
                                        </g>
                                     </svg>
                                  </button>
                               </div>
                               <div class="search-date d-flex align-items-center justify-content-between position-relative w-100">
                                  <div class="form-group w-100 position-relative">
                                     <input type="text" id="searchText" #searchInput placeholder="Search by asset name.." [ngModel]="assetRequestsSearch" (input)="searchAssetsRequest($event)" class="form-control me-2 w-100" style="padding: 10px 45px;" />
                                     <i class="bi bi-search search-icon d-flex align-items-center h-100" *ngIf="assetRequestsSearch==''"></i>
                                     <i class="bi bi-x search-icon text-primary d-flex align-items-center h-100 font-20" *ngIf="assetRequestsSearch!=''" (click)="assetRequestsSearch=''; assetRequestsPage = 1; getAssetRequests();"></i>
                                  </div>
                               </div>
                               <div>
                                  <button [disabled]="downloadFlag" type="button" class="btn primaryBtnLink filter-btn d-block text-cennter" (click)="downloadExcel()">
                                  <i *ngIf="!downloadFlag" class="bi bi-download"></i>&nbsp;
                                  <span *ngIf="!downloadFlag">Download</span>
                                  <div class="dot-opacity-loader" *ngIf="downloadFlag">
                                     <span></span>
                                     <span></span>
                                     <span></span>
                                  </div>
                                  </button>
                               </div>
                            </div>
                            <div class="actionMenuList not-assign-filter p-0 border position-absolute bg-white" [ngClass]="{'d-none': !showFilter}" >
                               <div class="d-flex align-items-center justify-content-between border-bottom p-3">
                                  <h5 class="mb-0 font-14 fw-semibold"> Filter</h5>
                                  <span class="pointer lh-1" (click)="changeShowFilter(false)">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                                        <g opacity="0.8">
                                           <mask id="mask0_7729_258" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="19">
                                              <rect y="0.5" width="18" height="18" fill="#D9D9D9"/>
                                           </mask>
                                           <g mask="url(#mask0_7729_258)">
                                              <path d="M4.8 14.75L3.75 13.7L7.95 9.5L3.75 5.3L4.8 4.25L9 8.45L13.2 4.25L14.25 5.3L10.05 9.5L14.25 13.7L13.2 14.75L9 10.55L4.8 14.75Z" fill="#1C1B1F"/>
                                           </g>
                                        </g>
                                     </svg>
                                  </span>
                               </div>
                               <div class="row p-3">
                                  <h5 class="mb-0 font-14 fw-semibold">Status Filter</h5>
                                  <div class="mt-3">
                                     <div class="categories-filter mb-3 form-check d-flex align-items-center gap-2 mb-2">
                                        <input type="checkbox" class="form-check-input" id="all" (change)="selectedFilters.clear()" [checked]="selectedFilters.size==0">
                                        <label class="form-check-label fw-normal" for="all">All</label>
                                     </div>
                                     <div class="categories-filter mb-3 form-check d-flex align-items-center gap-2 mb-2">
                                        <input type="checkbox" class="form-check-input" id="approved" (change)="statusChange($event, 'Approved')" [checked]="isChecked('Approved')">
                                        <label class="form-check-label fw-normal" for="approved">Approved </label>
                                     </div>
                                     <div class="categories-filter mb-3 form-check d-flex align-items-center gap-2 mb-2">
                                        <input type="checkbox" class="form-check-input" id="assigned" (change)="statusChange($event, 'Assigned')" [checked]="isChecked('Assigned')">
                                        <label class="form-check-label fw-normal" for="assigned">Assigned</label>
                                     </div>
                                     <div class="categories-filter mb-3 form-check d-flex align-items-center gap-2 mb-2">
                                        <input type="checkbox" class="form-check-input" id="rejected"(change)="statusChange($event, 'Rejected')" [checked]="isChecked('Rejected')">
                                        <label class="form-check-label fw-normal" for="rejected">Rejected</label>
                                     </div>
                                     <div class="categories-filter mb-3 form-check d-flex align-items-center gap-2 mb-2">
                                        <input type="checkbox" class="form-check-input" id="pending" (change)="statusChange($event, 'Pending')" [checked]="isChecked('Pending')">
                                        <label class="form-check-label fw-normal" for="pending">Pending </label>
                                     </div>
                                  </div>
                               </div>
                               <div class="p-3 border-top d-flex gap-2 align-items-center justify-content-end">
                                  <button class="btn cancel-btn mt-0" (click)="selectedFilters.clear(); assetRequestsPage = 1; getAssetRequests();">Reset it</button>
                                  <button class="btn submitActionBtn" (click)="assetRequestsPage = 1; getAssetRequests()">Apply</button>
                               </div>
                            </div>
                         </div>
                      </div>
                      <div class="filter-bdg d-flex align-items-center gap-2 mt-3 mb-3" *ngIf="selectedFilters.size > 0">
                         <!-- <ng-container > -->
                         <p class="filter-pills d-flex align-items-center gap-2 pointer font-12 fw-semibold"
                            *ngFor="let filter of selectedFiltersArray">
                            {{ filter }}
                            <i class="bi bi-x-lg pointer" (click)="removeFilter(filter)"></i>
                         </p>
                         <!-- </ng-container> -->
                      </div>
                      <div>
                         <table class="table mb-5 mt-3">
                            <thead>
                               <tr>
                                  <th>Requested on</th>
                                  <th>Asset Name</th>
                                  <th>Asset Type</th>
                                  <th>Asset Category</th>
                                  <th>Requested By</th>
                                  <th>Action Taken on</th>
                                  <th>Note</th>
                                  <th>Status</th>
                                  <th>Action</th>
                               </tr>
                            </thead>
                            <!-- TO DO: Shimmer Loading Ui -->
                            <tbody *ngIf="isLoading">
                               <tr *ngFor="let item of [].constructor(10)">
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                                  <td>
                                     <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                                  </td>
                               </tr>
                            </tbody>
                            <!-- Shimmer Loading Ui End-->
                            <!-- TO DO: empty notification  -->
                            <tbody *ngIf="!isLoading && assetRequests?.length === 0">
                               <tr>
                                  <td colspan="9">
                                     <div class="empty-file">
                                        <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                           [nzNotFoundContent]="contentTpl">
                                           <ng-template #contentTpl>
                                              <p class="mb-1 empty-detail font-16">
                                                 No data for now
                                              </p>
                                           </ng-template>
                                        </nz-empty>
                                     </div>
                                  </td>
                               </tr>
                            </tbody>
                            <!-- empty notification end -->
                            <tbody *ngIf="!isLoading">
                               <tr *ngFor="let asset of assetRequests">
                                  <td class="fw-normal">{{ (asset.requestedOn | date: 'EEE, MMM d yyyy') || '--' }}</td>
                                  <td class="fw-normal">{{ asset.assetName || '--' }}</td>
                                  <td class="fw-normal">{{ asset.assetType || '--' }}</td>
                                  <td class="fw-normal">{{ asset.assetCategoryName || '--' }}</td>
                                  <td>
                                     <a class="text-primary fw-semibold"[routerLink]="['/employee']" [queryParams]="{ userId: asset.userUuid }">
                                     {{ asset.requestedBy || '--'}}</a>
                                  </td>
                                  <td class="fw-normal">{{ (asset.actionTakenOn | date: 'dd-MM-yyyy') || '--' }}</td>
                                  <td>
                                     <span class="fw-normal white-space" nz-popover nzPopoverTitle="Note" [nzPopoverContent]="contentTemplate"
                                     [nzPopoverOverlayStyle]="{'width':'300px'}" nzPopoverPlacement="top">{{  asset.note || '--'}}</span>
                                     <!-- <span class="white-space table-font-weight" style="width: 40px !important;" nz-popover nzPopoverTitle="Note"
                                        [nzPopoverContent]="contentTemplate" [nzPopoverOverlayStyle]="{'width':'300px'}" nzPopoverPlacement="top"> {{
                                        asset.note || '--'}}
                                        </span> -->
                                     <ng-template #contentTemplate>
                                        <div>
                                           {{asset.note}}
                                        </div>
                                     </ng-template>
                                  </td>
                                  <td>
                                     <span class="fw-semibold"
                                        [ngClass]="{'text-primary': asset.status == 'PENDING', 'text-danger': asset.status == 'REJECTED', 'text-success': asset.status == 'APPROVED' || asset.status == 'ASSIGNED' }">
                                     {{ asset.status || '--' }}
                                     </span>
                                  </td>
                                  <td>
                                     <!-- (click)="openStatusChangeModal(asset, statusChangeModal)" -->
                                     <button class="btn p-0 text-primary font-14 fw-semibold" data-bs-toggle="modal" data-bs-target="#AssetsDetailModal" (click)="onAssetRequestOpen(asset)" ><i class="bi bi-eye"></i>  View</button>
                                  </td>
                               </tr>
                            </tbody>
                         </table>
                         <div *ngIf="this.assetRequestsTotalPage>1" class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top">
                            <p class="mb-0">
                               Showing items
                               {{ (assetRequestsPage - 1) * assetRequestsSize + 1 }} –
                               {{ Math.min(assetRequestsPage * assetRequestsSize, assetRequestsTotalCount) }}
                               of {{ assetRequestsTotalCount }} records
                            </p>
                            <ngb-pagination class="pagition-box" [collectionSize]="assetRequestsTotalCount" [rotate]="true"
                            (pageChange)="pageChangedRequest($event)" [pageSize]="assetRequestsSize" [(page)]="assetRequestsPage"
                            [maxSize]="5" [boundaryLinks]="true">
                            </ngb-pagination>
                         </div>
                      </div>
                   </div>
                </div>
             </div>
          </div>
       </div>
    </div>
 </div>
 <!-- Modal Create Assets Start -->
 <div class="modal fade" id="createAssetsModal" tabindex="-1" aria-labelledby="createAssetsModalLabel" data-bs-backdrop="static" data-bs-keyboard="false"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title">
                Assets
             </h5>
             <button type="button" #closeBtn class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="onCloseAddAssetModal(categoryForm)"></button>
          </div>
          <form #categoryForm="ngForm" (ngSubmit)="onSubmit(categoryForm)">
          <div class="modal-body assets-label">
             <div class="row">
                <!-- Asset Name (required) -->
                <div class="col-md-6 mb-3">
                   <label for="assetName" class="form-label">
                   Asset Name <span class="text-danger">*</span>
                   </label>
                   <input type="text" class="form-control input-zorro w-100" id="assetName" placeholder="Type asset name here..."
                   [(ngModel)]="assetData.assetName" name="assetName" #assetName="ngModel" required />
                   <!-- Error message for Asset Name -->
                   <div *ngIf="(assetName.invalid && assetName.touched) || (categoryForm.submitted && assetName.invalid)"
                      class="text-danger">
                      Asset Name is required.
                   </div>
                </div>
                <!-- Serial Number (required) -->
                <div class="col-md-6 mb-3">
                   <label for="serialNumber" class="form-label">
                   Serial Number <span class="text-danger">*</span>
                   </label>
                   <input type="text" class="form-control input-zorro w-100" id="serialNumber"
                   placeholder="Type serial number here..." [(ngModel)]="assetData.serialNumber" name="serialNumber"
                   #serialNumber="ngModel" required />
                   <!-- Error message for Serial Number -->
                   <div *ngIf="(serialNumber.invalid && serialNumber.touched) || (categoryForm.submitted && serialNumber.invalid)"
                      class="text-danger">
                      Serial Number is required.
                   </div>
                </div>
                <!-- Purchased Date (required) -->
                <div class="col-md-6 mb-3">
                   <label for="purchasedDate" class="form-label">
                   Purchased Date <span class="text-danger">*</span>
                   </label>
                   <nz-date-picker [nzFormat]="'dd/MM/YYYY'" nzBorderless [(ngModel)]="assetData.purchasedDate" name="purchasedDate"
                   #purchasedDate="ngModel" [nzDisabledDate]="disableFutureDates" required></nz-date-picker>
                   <!-- Error message for Purchased Date -->
                   <div
                      *ngIf="(purchasedDate.invalid && purchasedDate.touched) || (categoryForm.submitted && purchasedDate.invalid)"
                      class="text-danger">
                      Purchased Date is required.
                   </div>
                </div>
                <!-- Expiry Date (optional) -->
                <div class="col-md-6 mb-3">
                   <label for="expiryDate" class="form-label">
                   Expiry Date <span class="text-muted">(optional)</span>
                   </label>
                   <nz-date-picker [nzFormat]="'dd/MM/YYYY'" nzBorderless [(ngModel)]="assetData.expiryDate" name="expiryDate"></nz-date-picker>
                </div>
                <!-- Price (required) -->
                <div class="col-md-6 mb-3">
                   <label for="price" class="form-label">
                   Price <span class="text-danger">*</span>
                   </label>
                   <input type="text" class="form-control input-zorro w-100" id="price" placeholder="Type price here..."
                   [(ngModel)]="assetData.price" name="price" #price="ngModel" required />
                   <!-- Error message for Price -->
                   <div *ngIf="(price.invalid && price.touched) || (categoryForm.submitted && price.invalid)" class="text-danger">
                      Price is required.
                   </div>
                </div>
                <!-- Location (required) -->
                <div class="col-md-6 mb-3">
                   <label for="location" class="form-label">
                   Location <span class="text-danger">*</span>
                   </label>
                   <input type="text" class="form-control input-zorro w-100" id="location" placeholder="Type location here..."
                   [(ngModel)]="assetData.location" name="location" #location="ngModel" required />
                   <!-- Error message for Location -->
                   <div *ngIf="(location.invalid && location.touched) || (categoryForm.submitted && location.invalid)"
                      class="text-danger">
                      Location is required.
                   </div>
                </div>
                <!-- Vendor Name (optional) -->
                <div class="col-md-6 mb-3">
                   <label for="vendorName" class="form-label">
                   Vendor Name <span class="text-muted">(optional)</span>
                   </label>
                   <input type="text" class="form-control input-zorro w-100" id="vendorName" placeholder="Type vendor name here..."
                   [(ngModel)]="assetData.vendorName" name="vendorName" />
                </div>
                <!-- Select User (optional) -->
                <div class="col-md-6 mb-3">
                   <label for="userId" class="form-label">
                   Select User <span class="text-muted">(optional)</span>
                   </label>

                   <nz-select nzShowSearch nzPlaceHolder="Select User" class="w-100 form-control placeholder-lines"
                    [(ngModel)]="assetData.userId" name="userId" [nzFilterOption]="filterOption" [nzOptionFilterProp]="'label'">
                    <nz-option *ngFor="let user of allUser" [nzValue]="user.id" [nzLabel]="user?.userName">
                    </nz-option>
                    </nz-select>
                </div>
                <!-- Assigned Date (optional) -->
                <div class="col-md-6 mb-3">
                   <label for="assignedDate" class="form-label">
                   Assigned Date <span class="text-muted">(optional)</span>
                   </label>
                   <nz-date-picker [nzFormat]="'dd/MM/YYYY'" nzBorderless [(ngModel)]="assetData.assignedDate" name="assignedDate"></nz-date-picker>
                </div>
                <!-- Category (required) -->
                <div class="col-md-6 mb-3">
                   <label for="categoryId" class="form-label">
                   Select Category <span class="text-danger">*</span>
                   </label>
                   <nz-select nzPlaceHolder="Select Category" class="w-100 form-control placeholder-lines"
                   [(ngModel)]="assetData.categoryId" name="categoryId" #categoryId="ngModel" nzShowSearch
                   (nzOnSearch)="onSearch($event)" required>
                   <nz-option *ngFor="let category of filteredCategories" [nzValue]="category.categoryId"
                   [nzLabel]="category.categoryName"></nz-option>
                   <nz-option *ngIf="showCreateOption" [nzValue]="0" [nzLabel]="'Create: ' + searchCategoryText"></nz-option>
                   </nz-select>
                   <!-- Error message for Category -->
                   <div *ngIf="(categoryId.invalid && categoryId.touched) || (categoryForm.submitted && categoryId.invalid)"
                      class="text-danger">
                      Category is required.
                   </div>
                </div>
             </div>
          </div>
          <div class="modal-footer">
             <button [ngClass]="{'btn-border': !(assetCreateLoading || categoryForm.invalid)}" [disabled]="assetCreateLoading || categoryForm.invalid" type="submit" class="btn submitActionBtn">
                <span *ngIf="!assetCreateLoading">Submit</span>
                <div class="dot-opacity-loader" *ngIf="assetCreateLoading">
                   <span></span>
                   <span></span>
                   <span></span>
                </div>
             </button>
          </div>
          </form>
       </div>
    </div>
 </div>
 <!-- Modal Create Assets Start -->
 <!-- Modal Create Assets Start -->
 <!-- <ng-template #statusChangeModal let-modal> -->
 <div class="modal fade" id="AssetsDetailModal" tabindex="10000" aria-labelledby="AssetsDetailModalLabel" data-bs-backdrop="static" data-bs-keyboard="false"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title">
               Asset Details
            </h5>
            <button type="button" #assetRequestClose class="btn-close" data-bs-dismiss="modal" (click)="onAssetComponentClose()" aria-label="Close"></button>
         </div>
        </div>
      </div>
    <div class="modal-dialog">
      <div class="modal-content">

        <app-asset-request
          *ngIf="isAssetRequestModalOpen"
          [data]="assetModalData"
          (closeEvent)="onAssetComponentClose()">
        </app-asset-request>
      </div>
    </div>
 </div>
 <nz-drawer
 [nzOffsetX]="childrenVisible ? 180 : 0"
 [nzWidth]="400"
 [nzVisible]="visible"
 nzTitle="Assets History"
 [nzMaskClosable]="false"
 (nzOnClose)="close()">
 <ng-container *nzDrawerContent>
    <div class="assets-detail">
       <div class="d-flex align-items-start gap-2 w-100">
          <span class="assets-name d-flex align-items-center justify-content-center fw-semibold font-14">{{ capitalizeWords(currentAsset?.assetName).charAt(0) }}</span>
          <div class="w-100">
             <div class="d-flex align-items-center  justify-content-between w-100">
                <div class="d-flex align-items-center gap-3">
                   <h5 class="mb-0 font-16 fw-semibold ">{{ capitalizeWords(currentAsset?.assetName) }}</h5>
                   <span class="badge rounded-pill badge-soft-success font-11">{{ currentAsset?.statusName }}</span>
                </div>
                <!-- <p class="font-12 fw-light mb-0">ID - A-12</p> -->
             </div>
             <p class="mb-1 mt-3 font-14 fw-semibold" *ngIf="currentAsset?.assignedToId > 0">Assigned To : <span class="fw-bold ">{{ currentAsset.assignedToName }}</span> </p>
             <p class="mb-1 font-14 fw-normal" *ngIf="currentAsset?.assetCategoryName">Category: {{ currentAsset.assetCategoryName }}</p>
             <p class="mb-1 font-14 fw-normal" *ngIf="currentAsset?.price > 0">Price: ₹{{ currentAsset.price }}</p>
             <p class="mb-1 font-14 fw-normal" *ngIf="currentAsset?.location">Location: {{ currentAsset.location }}</p>
             <p class="mb-1 font-14 fw-normal" *ngIf="currentAsset?.vendorName">Vendor Name: {{ currentAsset.vendorName }}</p>
          </div>
       </div>
       <div class="tracking-body mt-5">
          <ul class="tracking-steps position-relative pl-0">
             <li class="tracking-item pb-3" *ngFor="let history of assetHistory; let i = index">
                <div class="d-flex align-items-centar mb-3 gap-3">
                   <div
                      class="tracing-icon font-14 fw-semibold text-black d-flex align-items-center justify-content-center"
                      [ngClass]="{ 'active-icon': i==assetHistory.length }">
                      {{assetHistory.length - i }}
                   </div>
                   <div class="tracking-data">
                      <h5 class="mb-2 font-16 fw-semibold">
                         {{ history?.status.response}}: {{ history?.actionDate | date: 'EEE, MMM d yyyy'}}
                      </h5>
                      <p *ngIf="history?.userName!= null" class="mb-0 font-13 fw-normal">
                         User: {{ history.userName }}
                      </p>
                      <p *ngIf="history?.actionBy!= null" class="mb-0 font-13 fw-normal">
                         Action By: {{ history.actionBy  | titlecase  }}
                      </p>
                   </div>
                </div>
             </li>
          </ul>
       </div>
    </div>
 </ng-container>
 </nz-drawer>
 <div class="modal fade" id="addDescriptionModal" tabindex="-1" aria-labelledby="addDescriptionModal" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-md">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title"> Change Status </h5>
             <button type="button" #closeBtnDes class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="onCloseChangeStatusModal()"></button>
          </div>
          <div class="modal-body">
            <div class="row">
                <div *ngIf="isUserEnable" class="col-md-12 mb-3">
                    <label for="userId" class="pb-2">Select User <span class="text-danger">*</span> </label>
                    <nz-select nzShowSearch nzPlaceHolder="Select User" class="w-100 form-control placeholder-lines"
                    [(ngModel)]="statusChangeUserId" name="userId" [nzFilterOption]="filterOption" [nzOptionFilterProp]="'label'">
                    <nz-option *ngFor="let user of allUser" [nzValue]="user.id" [nzLabel]="user?.userName">
                    </nz-option>
                    </nz-select>
                 </div>
                 <div class="col-md-12 mb-3">
                    <label for="userId" class="pb-2"> Description </label>
                    <textarea class="form-control nots-section no-resize hide-scrollbar w-100 font-14" [(ngModel)]="statusChangeDescription" placeholder="Enter description..." rows="1"></textarea>
                 </div>
            </div>


          </div>
          <div class="modal-footer d-flex align-items-center gap-2">
             <button type="button" class="btn cancel-btn" data-bs-dismiss="modal">Cancel</button>
             <button [ngClass]="{'btn-border':!(statusChangeLoading || isUserSame())}" [disabled]="statusChangeLoading || isUserSame()" type="button" class="btn submitActionBtn" (click)="updateAssetStatus()">
             <span *ngIf="!statusChangeLoading">Submit</span>
             <div class="dot-opacity-loader" *ngIf="statusChangeLoading">
                <span></span>
                <span></span>
                <span></span>
             </div>
             </button>
          </div>
       </div>
    </div>
 </div>
 <div class="modal fade" id="createCategoryModal" tabindex="-1" aria-labelledby="createCategoryModalLabel" data-bs-backdrop="static" data-bs-keyboard="false"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title" id="createCategoryModalLabel">
                Update Category
             </h5>
             <button type="button" #closeUpdateCategory class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form (ngSubmit)="saveOrUpdateCategory()" #categoryForm1="ngForm">
          <div class="modal-body assets-label">
             <div class="row">
                <div class="col-md-12 mb-3">
                   <label for="categoryName" class="pb-2">Category Name <span class="text-danger">*</span></label>
                   <input type="text" class="form-control input-zorro" id="categoryName" name="categoryName"
                   placeholder="Type category name here..." [(ngModel)]="newCategory.categoryName" required
                   #categoryName="ngModel" />
                   <div *ngIf="
                      categoryName.invalid &&
                      (categoryName.dirty || categoryName.touched)
                      " class="text-danger">
                      Category Name is required.
                   </div>
                </div>
             </div>
          </div>
          <div class="modal-footer ">
             <button type="submit" class="btn submitActionBtn" [disabled]="categoryForm1.invalid || isCategoryUpdateLoading"> Save</button>
          </div>
          </form>
       </div>
    </div>
 </div>
 <!-- Modal Create Assets Start -->
