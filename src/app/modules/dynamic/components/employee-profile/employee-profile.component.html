<div class="page-wrapper">
    <div class="page-content-tab">
        <div class="container-fluid">

            <div class="mb-4 mt-3 pb-3 border-buttom-setting d-flex align-items-center" style="gap:20px">
                <div class="back-btns-box" routerLink="/employee-onboarding"> <i class="bi bi-chevron-left" ></i></div>
                <h5 class="mt-0" style="margin-top: 10px !important;">{{user?.name}}</h5>
                  
               </div>

            <div class="row mt-3">
                <div class="col-md-9">
                    <div class="employee-profile-deta">
                          <div class="d-flex" style="gap:10px">
                            <div class="profile-image-name position-relative">
                                <span class="profile-image-name-span" *ngIf="(user!.employeeOnboardingStatus?.response=='APPROVED')">
                                    <i class="bi bi-check2"></i>
                                </span>
                                <span class="profile-image-name-span-reject" *ngIf="(user!.employeeOnboardingStatus?.response=='REJECTED')">
                                    <i class="bi bi-exclamation-circle"></i>
                                </span>

                                
                               
                             
                            <span *ngIf="user?.image !== null">
                                <img src="{{user?.image}}" style="width:100px; border-radius: 50%;">
                            </span>
                            <span class="members-name" *ngIf="user?.image == null">{{ user?.name[0] }}</span>
                                <span class="edit-profile" routerLink="/employee-onboarding-form" *ngIf="(user!.employeeOnboardingStatus?.response!='APPROVED')"><i class="bi bi-pencil"></i></span>
                                <div class="pt-2 pb-2">
                                <h5>{{user?.name}}</h5>
                                <p class="mb-0">{{user?.email}}</p>
                            </div>

                            <div class="mt-3">
                                <table class="table profile-deta">
                                    <tbody>
                                        <tr>
                                            <th class="text-left">Phone No - </th>
                                            <td class="text-right">{{user?.phoneNumber || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left">DOB - </th>
                                            <td class="text-right">{{user?.dob || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left">Gender - </th>
                                            <td class="text-right">{{user.gender || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left">Father Name - </th>
                                            <td class="text-right">{{user.fatherName || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left">Marital Status - </th>
                                            <td class="text-right">{{user.maritalStatus || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left"> Department - </th>
                                            <td class="text-right">{{user.department || 'N/A'}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-left">  Nationality - </th>
                                            <td class="text-right">{{user.nationality || 'N/A'}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                                <div class="project-num d-flex mt- align-items-center justify-content-center" style="gap:20px;">
                                    <!-- <div class="text-center" style="width:50%; ">
                                        <h5>15</h5>
                                        <p class="mb-0">Project</p>
                                    </div>
                                    <div class="text-center" style="width:50%">
                                        <h5>15</h5>
                                        <p class="mb-0">Project</p>
                                    </div> -->
                                </div>
                                <!-- <div class="mt-3">
                                    <button class="btn sand-request" type="button" routerLink="/employee-onboarding-form">Edit Profile</button>
                                </div> -->

                                <div class="mt-1">
                                    <div class="d-flex" style="gap:10px" *ngIf="(user!.employeeOnboardingStatus?.response=='PENDING')">
                                        <button class="btn sand-request approved" type="button" (click)="updateStatusUserByUuid('APPROVED')">Approved</button>
                                        <button class="btn sand-request rejected" type="button" (click)="updateStatusUserByUuid('REJECTED')">Rejected</button>
                                    </div>
                                    <!-- <div class="d-flex" style="gap:10px" *ngIf="(user!.employeeOnboardingStatus?.response!='PENDING')">
                                        <button class="btn sand-request approved" type="button" *ngIf="(user!.employeeOnboardingStatus?.response=='APPROVED')">{{user!.employeeOnboardingStatus?.response}}</button>
                                        <button class="btn sand-request rejected" type="button" *ngIf="(user!.employeeOnboardingStatus?.response=='REJECTED')">{{user!.employeeOnboardingStatus?.response}}</button>
                                    </div> -->

                                </div>
                            </div>
                           
                                <!-- <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Gender</h6>
                                            <h4>Male</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Birthday</h6>
                                            <h4>Feb 24 1998</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Phone Number</h6>
                                            <h4>9549-901-868</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>City</h6>
                                            <h4>Delhi</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>ZIP Code</h6>
                                            <h4>Male</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Member Status</h6>
                                            <h4>Active Member</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Registered Date</h6>
                                            <h4>Feb 24 2023</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-deta">
                                            <h6>Address</h6>
                                            <h4>New Delhi</h4>
                                        </div>
                                    </div>
                                </div> -->

                            <div class="profile-histery">
                                <!-- <div class="d-flex justify-content-between align-items-center">
                                    <div class="">
                                        <h5 class="m-0">DEC  <span>2023</span></h5>
                                    </div>
                                    <div class="">
                                        <div class="date-all-approved d-flex align-items-center" style="gap: 10px;">
                                            <span class="approved-left active-color" ><i class="bi bi-chevron-left"></i></span>
                                            <div class="text-center">
                                                <input type="date" id="input-date" class="attendance-date ng-untouched ng-pristine ng-valid" >
                                                </div>
                                                <span class="approved-right active-color" ><i class="bi bi-chevron-right"></i></span>
                                            </div>
                                    </div>
                                </div> -->
                            <!-- <div class="mt-3"> -->
                                    <!-- <div class="">
                                        <table class="table" >
                                            <thead class="table-design table-padding">
                                                <tr>
                                                  <th class="text-center">Sun</th>
                                                  <th class="text-center">Mon</th>
                                                  <th class="text-center">Tue</th>
                                                  <th class="text-center">Wed</th>
                                                  <th class="text-center">Thu</th>
                                                  <th class="text-center">Fri</th>
                                                  <th class="text-center">Sat</th>
                                                </tr>
                                            </thead>
                                            <tbody class="table-design table-padding">
                                                <tr>
                                                    <td class="text-center">
                                                        <p class="mb-0  "></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center absent">
                                                        <p class="mb-0 attendance-dates">1</p>
                                                        <p class="profile-date absent">A</p>
                                                    </td>
                                                    <td class="text-center absent">
                                                        <p class="mb-0 attendance-dates">2</p>
                                                        <p class="profile-date absent">A</p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center absent"> 
                                                        <p class="mb-0 attendance-dates">3</p>
                                                        <p class="profile-date absent">A</p>
                                                    </td>
                                                    <td class="text-center present">
                                                        <p class="mb-0 attendance-dates">4</p>
                                                        <p class="profile-date present">P</p>
                                                    </td>
                                                    <td class="text-center present">
                                                        <p class="mb-0 attendance-dates">5</p>
                                                        <p class="profile-date present">P</p>
                                                    </td>
                                                    <td class="text-center present">
                                                        <p class="mb-0 attendance-dates">6</p>
                                                        <p class="profile-date present">P</p>
                                                    </td>
                                                    <td class="text-center present">
                                                        <p class="mb-0 attendance-dates">7</p>
                                                        <p class="profile-date present">P</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">8</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">9</p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">10</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">11</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">12</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">13</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">14</p>
                                                    </td>
                                                    <td class="text-center "> 
                                                        <p class="mb-0 attendance-dates">15</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">16</p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">17</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">18</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">19</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">20</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">21</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">22</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">23</p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">24</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">25</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">26</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">27</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">28</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">29</p>
                                                    </td>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">30</p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center ">
                                                        <p class="mb-0 attendance-dates">31</p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <p class="mb-0 attendance-dates"></p>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div> -->
                                <!-- </div> -->
                            <div class="">
                               <div class="d-flex justify-content-between align-items-center">
                                    <div class="">
                                        <div class="date-all-approved d-flex align-items-center">
                                            <span class="approved-left active-color" (click)="goBackward()" *ngIf="backwardFlag"><i class="bi bi-chevron-left"></i></span>
                                            <span class="approved-right active-color" (click)="goforward()" *ngIf="forwordFlag"><i class="bi bi-chevron-right"></i></span>
                                        </div>
        
                                    </div>
                                    <div class="today-btn">
                                          <button class="btn btn-primary" type="button" (click)="goToday()">Today</button>
                                     </div>
                                </div>
                                <!-- <button class="btn btn-primary; justify-content-right-end align-items-right-end" (click)="goToday()">Today</button> -->
                                <full-calendar [options]="calendarOptions" id="calendar" #calendar></full-calendar>
                                
                                </div>
                               

                                
                                <!-- <div class="mt-3">
                                    <mwl-calendar-month-view
                                      [viewDate]="viewDate"
                                      [events]="events"
                                      (dayClicked)="dayClicked($event.day)"
                                    >
                                    </mwl-calendar-month-view>
                                </div> -->

                            </div>
                                
                                  

                          </div>

                          <div class="mt-3">
                            <div class="onboare-deta">
                                <div class="">

                                    <ul id="myTab" role="tablist" class="nav nav-tabs">

                                        <li role="presentation" class="nav-item">
                                            <button id="home-tab" data-bs-toggle="tab" data-bs-target="#leave-setting" type="button" role="tab" aria-controls="leave-setting" aria-selected="true" class="nav-link active">Leave Setting  </button>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <button id="home-tab" data-bs-toggle="tab" data-bs-target="#pending-employee" type="button" role="tab" aria-controls="pending-employee" aria-selected="true" class="nav-link">Address Details  </button>
                                        </li>
                                            <li role="presentation" class="nav-item">
                                                <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#verify-employee" type="button" role="tab" aria-controls="verify-employee" aria-selected="false" class="nav-link"> Employee Experience </button>
                                            </li>
                                            <li role="presentation" class="nav-item">
                                                <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#not-verify-employee" type="button" role="tab" aria-controls="not-verify-employee" aria-selected="false" class="nav-link"> Employee Eduction </button>
                                            </li>
                                            <li role="presentation" class="nav-item">
                                                <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#emergency-contact" type="button" role="tab" aria-controls="emergency-contact" aria-selected="false" class="nav-link"> Emergency Contact </button>
                                            </li>
                                    </ul>
                
                                    <div class="tab-content" id="myTabContent">

                                        <div class="tab-pane fade show active mt-2" id="leave-setting" role="tabpanel">

                                            <div class="">

                                                <div class="align-items-center d-flex justify-content-end add-filtter mb-2">
                                                    <a class="btn"  data-bs-toggle="modal" data-bs-target=".apply-leave"><i class="bi bi-plus" style="font-size: 20px;"></i> Apply for a Leave</a>
                                                </div>  

                                               
                                               
                                                <div class="d-flex align-items-center justify-content-between leves-type-s mb-2" *ngFor="let ul of userLeave">
                                                                    <div class="">
                                                                        <h5>{{ul?.leaveType}}</h5>
                                                                    </div>
                                                                    <div class="d-flex align-items-center" >
                                                                         
                                                                        <div class="Approved rejected-css">
                                                                            <p class="mb-0">{{ul?.totalQuota}}</p>
                                                                            <span class="total-holiday">Total</span>
                                                                         </div>
                                                                        <div class="Approved">
                                                                           <p class="mb-0">{{ul?.approved}}</p>
                                                                           <span class="total-holiday">Approved</span>
                                                                        </div>
                                                                       
                                                                        <div class="Approved pending-css">
                                                                            <p class="mb-0">{{ul?.applied}}</p>
                                                                            <span class="total-holiday">Pending</span>
                                                                         </div>
                                                                        <div class="Approved remaining-css">
                                                                            <p class="mb-0">{{ul?.remainingQuota}}</p>
                                                                            <span class="total-holiday">Remaining</span>
                                                                         </div>
                                                                    </div>
                                                </div>
                                                         
                                                                <!-- <div class="d-flex align-items-center justify-content-between leves-type-s mb-2">
                                                                    <div class="">
                                                                        <h5>Sick Leave</h5>
                                                                    </div>
                                                                    <div class="d-flex align-items-center" >
                                                                        <div class="Approved">
                                                                           <p class="mb-0">5 </p>
                                                                           <span class="total-holiday">Approved</span>
                                                                        </div>
                                                                        
                                                                        <div class="Approved rejected-css">
                                                                            <p class="mb-0">2 </p>
                                                                            <span class="total-holiday">Rejected</span>
                                                                         </div>
                                                                        <div class="Approved pending-css">
                                                                            <p class="mb-0">7 </p>
                                                                            <span class="total-holiday">Pending</span>
                                                                         </div>
                                                                        <div class="Approved remaining-css">
                                                                            <p class="mb-0">12 </p>
                                                                            <span class="total-holiday">Remaining</span>
                                                                         </div>
                                                                    </div>
                                                                </div>
                                                           
                                                                <div class="d-flex align-items-center justify-content-between leves-type-s mb-2">
                                                                    <div class="">
                                                                        <h5>Annual Leave</h5>
                                                                    </div>
                                                                    <div class="d-flex align-items-center" >
                                                                        <div class="Approved">
                                                                           <p class="mb-0">5 </p>
                                                                           <span class="total-holiday">Approved</span>
                                                                        </div>
                                                                        
                                                                        <div class="Approved rejected-css">
                                                                            <p class="mb-0">2 </p>
                                                                            <span class="total-holiday">Rejected</span>
                                                                         </div>
                                                                        <div class="Approved pending-css">
                                                                            <p class="mb-0">7 </p>
                                                                            <span class="total-holiday">Pending</span>
                                                                         </div>
                                                                        <div class="Approved remaining-css">
                                                                            <p class="mb-0">16 </p>
                                                                            <span class="total-holiday">Remaining</span>
                                                                         </div>
                                                                    </div>
                                                                </div> -->
                                                        
                                            </div>

                                               <!-- <div>
                                                <select [(ngModel)]="selectedStatus" (change)="getUserLeaveLogByUuid()">
                                                    <option value="" selected>All</option>
                                                    <option value="approved">Approved</option>
                                                    <option value="pending">Applied</option>
                                                    <option value="rejected">Rejected</option>
                                                </select>
                                                </div> -->



                                            <div class="mt-3 logs-box">

                                                <div style="text-align: left;">
                                                    <div class="d-flex align-items-center justify-content-between">
                                                    <h5 class="mb-3">Leaves Logs</h5>

                                                    <div class="" style="width: 175px;">
                                                        <!-- <select [(ngModel)]="selectedStatus" (change)="getUserLeaveLogByUuid()">
                                                            <option value="" selected>All</option>
                                                            <option value="approved">Approved</option>
                                                            <option value="pending">Applied</option>
                                                            <option value="rejected">Rejected</option>
                                                   </select> -->

                                                   <div class="dropdown" style="width: 100%;" *ngIf="selectStatusFlag">
                                                    <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                                                        {{  capitalizeFirstLetter(selectedStatus) || 'Leave Status' }} <i class="bi bi-chevron-down" style="color: #444; font-size: 15px;"></i>
                                                    </button>
                                                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu" style="width: 100%;">
                                                        <li><a class="dropdown-item" (click)="selectStatus('')">All</a></li>
                                                        <li><a class="dropdown-item" (click)="selectStatus('approved')">Approved</a></li>
                                                        <li><a class="dropdown-item" (click)="selectStatus('pending')">Applied</a></li>
                                                        <li><a class="dropdown-item" (click)="selectStatus('rejected')">Rejected</a></li>
                                                        <li><a class="dropdown-item" (click)="selectStatus('requested')">Requested</a></li>

                                                    </ul>
                                                </div>
                                                
                                                    </div>
                                                </div>

                                                    <div class="row">
                                                        <div class="col-md-12" *ngIf="isLeaveShimmer">
                                                            <div class="leves-type-s mb-2">
                                                                <div class="row">
                                                                   <div class="col-md-4">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                </div>
    
                                                            </div>
                                                            <div class="leves-type-s mb-2">
                                                                <div class="row">
                                                                   <div class="col-md-4">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                </div>
    
                                                            </div>
                                                            <div class="leves-type-s mb-2">
                                                                <div class="row">
                                                                   <div class="col-md-4">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                   <div class="col-md-2">
                                                                    <h4><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                                                   </div>
                                                                </div>
    
                                                            </div>
                                                        </div>
    
                                                    </div>

                                                    <div class="errorboxmain text-center" *ngIf="!isLeaveShimmer && isLeaveErrorPlaceholder" >
                                                        <div class="errorboxinner" >
                                                            <div class="errorboxplaceholder mb-2">
                                                                <img src="assets/images/signal.svg" style="width:80px;" />
                                                            </div>
                                                            <div class="">
                                                                <h4>Something went wrong!</h4>
                                                                <p class="mb-0">An error occurred while processing your request. Please refresh the page and try again.</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="errorboxmain text-center" *ngIf="!isLeaveShimmer && isLeavePlaceholder" >
                                                        <div class="errorboxinner" >
                                                            <div class="errorboxplaceholder mb-2">
                                                                <img src="assets/images/empty-box.svg" style="width:80px;" />
                                                            </div>
                                                            <div class="">
                                                                <h4>No Data Found</h4>
                                                                <p class="mb-0">We're unable to locate a record associated with the information you entered.</p>
                                                            </div>
                                                        </div>
                                                    </div>


                                                  <div *ngIf="!isLeaveShimmer && !isLeavePlaceholder" class="mt-2">
                                                   <div class ="scroll-box-logs">
                                                    <ul class="acitivity-timeline-2 list-unstyled mb-0" *ngFor="let leaves of userLeaveLog">
                                                        <li>
                                                            <h6 class="fs-md mt-0">{{leaves.leaveType}} | 
                                                                <span *ngIf="leaves.status=='approved'" style="color:green">{{capitalizeFirstLetter(leaves?.status)}}<span> By </span></span>
                                                                <span *ngIf="leaves.status=='pending'" style="color:orange">{{capitalizeFirstLetter('applied')}}<span> To </span></span>
                                                                <span *ngIf="leaves.status=='rejected'" style="color:red">{{capitalizeFirstLetter(leaves?.status)}}<span> By </span></span>
                                                                <span *ngIf="leaves.status=='requested'" style="color:rgb(161, 205, 241)">{{capitalizeFirstLetter(leaves?.status)}}<span> To </span></span>

                                                                <span> - </span><span style="color:cadetblue">{{leaves!.manager?.name}}</span>
                                                            </h6>
                                                            <div style="display: block; margin-top: 5px; color: #6c757d;">
                                                                <span style="font-size: 13px; font-weight: 600; vertical-align: middle;">
                                                                    <i class="bi bi-calendar3" style="margin-right: 5px;"></i>
                                                                    {{formatDate(leaves?.leaveDate) || 'N/A'}}&nbsp;<span>{{formatTime(leaves?.leaveDate) || 'N/A'}}</span>
                                                                </span>
                                                                <!-- <span style="font-size: 14px; margin-left: 5px;">
                                                                    
                                                                </span> -->
                                                            </div>
                                                                <div class="d-flex align-items-center mb-2 gap-3">
                                                                 <p class="mb-0" style="font-size: 12px;"> 
                                                                   <span><b>Duration</b></span><span> : </span> {{leaves?.startDate || 'N/A'}} - {{leaves?.endDate || 'N/A'}} <span class="space-box">|</span><span><b>Total Days Count</b></span> : {{calculateDateDifference(leaves.endDate, leaves.startDate) || 'N/A'}}
                                                                 </p>
                                                                <!-- <p class="mb-0" style="font-size: 12px;"> 
                                                                    <i class="bi bi-calendar align-baseline me-1"></i> {{leaves.startDate || 'N/A'}} - <span><b>Start Date</b></span> <span class="space-box"> | </span> {{leaves.endDate || 'N/A'}} - <span><b>End Date</b></span> <span class="space-box"> | </span>  {{calculateDateDifference(leaves.endDate, leaves.startDate) || 'N/A'}} - <span><b>Total Leave</b></span> <span class="space-box"> | </span> {{formatDate(leaves.leaveDate) || 'N/A'}} <span> | </span> {{formatTime(leaves.leaveDate) || 'N/A'}} -  <span><b>Apply Date</b></span> 
                                                                </p>
                                                    -->
                                                                </div>
                            
                                                                <p class="text-muted mb-0"><b>Reason : </b>{{leaves?.optNotes || 'N/A'}}</p>
                                                            </li>
                                                            <!-- <li>
                                                                <h6 class="fs-md mt-0"> Apply casual Leave</h6>
                                                                <div class="d-flex align-items-center mb-2 gap-3">
                                                                    <p class="mb-0">
                                                                        <i class="bi bi-calendar align-baseline me-1"></i> 30-11-2023 
                                                                    </p>
                                                                </div>
                                                                <p class="text-muted mb-0">Subscription Invoice generated for As and sent to nelyqiri@clout.wiki</p>
                                                            </li> -->
                                                    </ul>
                                                   </div>
                                                   </div>
                                                </div>


                                                    
                                            
                                            </div>
                                            </div>
                                        <div class="tab-pane fade show mt-3" id="pending-employee" role="tabpanel">
                                            <div class="">
                                                <table class="table">
                                                    <thead class="thead-light table-design">
                                                        <tr>
                                                            <th>Country </th>
                                                           
                                                            <th>State</th>
                                                            <th>City</th>
                                                            <th>Full Adreess</th>
                                                        </tr>
                                                    </thead>

                                                    <!-- <tbody class="table-design" *ngIf="isAddressShimmer">
                                                        <tr>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                        </tr>
                                                    </tbody> -->

                                                    

                                                    <!-- <tbody *ngIf="isAddressPlaceholder">
                                                        <tr>
                                                            <td colspan="4">
                                                                <div class="errorboxmain text-center" *ngIf="isAddressErrorPlaceholder" >
                                                                    <div class="errorboxinner" >
                                                                        <div class="errorboxplaceholder mb-2">
                                                                            <img src="assets/images/signal.svg" style="width:80px;" />
                                                                        </div>
                                                                        <div class="">
                                                                            <h4>Something went wrong!</h4>
                                                                            <p class="mb-0">An error occurred while processing your request. Please refresh the page and try again.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody> -->

                                                    <tbody *ngIf="isAddressPlaceholder">
                                                        <tr>
                                                            <td colspan="4">
                                                                <div class="errorboxmain" >
                                                                    <div class="errorboxinner" >
                                                                        <div class="errorboxplaceholder mb-2">
                                                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                                                        </div>
                                                                        <div class="">
                                                                            <h4>No Data Found</h4>
                                                                            <p class="mb-0">We're unable to locate a record associated with the information you entered.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                    <tbody class="table-design" *ngIf="!isAddressPlaceholder">
                                                        <tr>
                                                            <td>{{addressEmployee?.currentCountry}} </td>
                                                            <td>{{addressEmployee?.currentState}}</td>
                                                            <td>{{addressEmployee?.currentCity}}</td>
                                                            <td>{{addressEmployee?.currentAddress}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                
                                          
                                           
                                        </div>
                                        <div class="tab-pane fade mt-3" id="verify-employee" role="tabpanel" >
                
                                            <div class="">
                                                <table class="table" >
                                                    <thead class="thead-light table-design">
                                                        <tr>
                                                            <th>Company Name </th>
                                                            <th>Exp. Year</th>
                                                            <!-- <th>Joining Date</th> -->
                                                            <th>Department</th>
                                                            <th>Last Salary</th>
                                                            <th>Position</th>
                                                        </tr>
                                                    </thead>

                                                    <!-- <tbody class="table-design">
                                                        <tr>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                        </tr>
                                                    </tbody> -->

                                                    <tbody *ngIf="isCompanyPlaceholder">
                                                        <tr>
                                                            <td colspan="5">
                                                                <div class="errorboxmain" >
                                                                    <div class="errorboxinner" >
                                                                        <div class="errorboxplaceholder mb-2">
                                                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                                                        </div>
                                                                        <div class="">
                                                                            <h4>No Data Found</h4>
                                                                            <p class="mb-0">We're unable to locate a record associated with the information you entered.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                    <tbody class="table-design" *ngIf="!isCompanyPlaceholder">
                                                        <tr *ngFor="let exp of experienceEmployee">
                                                            <td>{{exp.companyName}}</td>
                                                            <td>{{exp.employementDuration}}</td>
                                                            <!-- <td>{{exp.companyName}}</td> -->
                                                            <td>{{exp.jobResponisibilities}} </td>
                                                            <td>{{exp.lastSalary}}</td>
                                                            <td>{{exp.jobTitle }}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                
                                        </div>
                                        <div class="tab-pane fade mt-3" id="not-verify-employee" role="tabpanel">
                
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead class="thead-light table-design">
                                                        <tr>
                                                            <!-- <th>Id </th> -->
                                                            <th>Quallfication</th>
                                                            <th>Branch</th>
                                                            <th>CGPA/Percentage</th>
                                                            <th>Gradution Passing Year</th>
                                                            <th>Highest Education</th>
                                                            <th>Institution Name</th>
                                                        </tr>
                                                    </thead>
                                                    <!-- <tbody class="table-design">
                                                        <tr>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                        </tr>
                                                    </tbody> -->

                                                    <tbody *ngIf="isAcademicPlaceholder">
                                                        <tr>
                                                            <td colspan="6">
                                                                <div class="errorboxmain" >
                                                                    <div class="errorboxinner" >
                                                                        <div class="errorboxplaceholder mb-2">
                                                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                                                        </div>
                                                                        <div class="">
                                                                            <h4>No Data Found</h4>
                                                                            <p class="mb-0">We're unable to locate a record associated with the information you entered.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                    <tbody class="table-design" *ngIf="!isAcademicPlaceholder">
                                                        <tr>
                                                            <td>{{academicEmployee?.degreeObtained || 'N/A'}}</td>
                                                            <td> {{academicEmployee?.fieldOfStudy || 'N/A'}}</td>
                                                            <td> {{academicEmployee?.grade || 'N/A'}}</td>
                                                            <td> {{academicEmployee?.greaduationYear || 'N/A'}}</td>
                                                            <td>{{academicEmployee?.highestEducationalLevel || 'N/A'}}</td>
                                                            <!-- <td> {{academicEmployee.degreeObtained}}</td> -->
                                                            <td>{{academicEmployee?.institutionName || 'N/A'}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                
                                        </div>
                                        <div class="tab-pane fade mt-3" id="emergency-contact" role="tabpanel">
                
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead class="thead-light table-design">
                                                        <tr>
                                                            <th>Contact Name </th>
                                                            <th>Relation</th>
                                                            <!-- <th>Mother Name</th> -->
                                                            <th>Contact Number</th>
                                                            <th>Medical Info</th>
                                                            <!-- <th>Guardian Phone Number</th> -->
                                                        </tr>
                                                    </thead>
                                                    <!-- <tbody class="table-design" >
                                                        <tr>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                            <td><ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading></td>
                                                        </tr>
                                                    </tbody> -->

                                                    <tbody *ngIf="isContactPlaceholder">
                                                        <tr>
                                                            <td colspan="4">
                                                                <div class="errorboxmain" >
                                                                    <div class="errorboxinner" >
                                                                        <div class="errorboxplaceholder mb-2">
                                                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                                                        </div>
                                                                        <div class="">
                                                                            <h4>No Data Found</h4>
                                                                            <p class="mb-0">We're unable to locate a record associated with the information you entered.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                    
                                                    <tbody class="table-design" *ngIf="!isContactPlaceholder">
                                                        <tr *ngFor="let cn of contactsEmployee">
                                                            <td>{{cn.contactName }}</td>
                                                            <td>{{cn.relationWithEmployee}}</td>
                                                            <td>{{cn.contactNumber}}</td>
                                                            <td>{{cn.medicalInfo}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                
                                        </div>
                
                
                                    </div>

                                </div>
                            </div>

                          </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="employee-profile-deta">
                        

                        <div class="employ-nots">
                            <h5>Primary Bank Details</h5>
                            <div class="pt-1 employ-bank-detail">
                                <div class="">
                                    <h6>Name</h6>
                                    <h4 class="mt-2" *ngIf="isBankShimmer"> <ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                    <h4 *ngIf="!isBankShimmer">{{bankDetailsEmployee?.accountHolderName || 'N/A'}}</h4>
                                </div>
                                <div class="pt-1">
                                    <h6>IFSC Code</h6>
                                    <h4 class="mt-2" *ngIf="isBankShimmer"><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                    <h4 *ngIf="!isBankShimmer">{{bankDetailsEmployee?.ifsc || 'N/A'}}</h4>
                                </div>
                                <div class="pt-1">
                                    <h6>Account Number</h6>
                                    <h4 class="mt-2" *ngIf="isBankShimmer"><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                    <h4 *ngIf="!isBankShimmer">{{bankDetailsEmployee?.accountNumber || 'N/A'}}</h4>
                                </div>
                                <div class="pt-1">
                                    <h6>Bank Name</h6>
                                    <h4 class="mt-2" *ngIf="isBankShimmer"><ngx-shimmer-loading [width]="'100%'" [height]="'15px'"></ngx-shimmer-loading></h4>
                                    <h4 *ngIf="!isBankShimmer">{{bankDetailsEmployee?.bankName || 'N/A'}}</h4>
                                </div>
                            </div>

                        </div>

                        <div class="employ-nots mt-2">
                            <h5>Documents</h5>
                           
                            <div class="pt-1">
                            <div class="d-flex align-items-center justify-content-between document-deta">
                                <div class="d-flex align-items-center ">
                                    <div class="d-flex align-items-center " style="gap:10px;">
                                        <i class="bi bi-file-earmark-text"></i>
                                        <p class="mb-0">file_name.pdf</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end" style="gap:10px; cursor: pointer;">
                                    <i class="bi bi-trash delete-coloe"></i>
                                    <i class="bi bi-download download-color"></i>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between document-deta">
                                <div class="d-flex align-items-center ">
                                    <div class="d-flex align-items-center " style="gap:10px;">
                                        <i class="bi bi-file-earmark-text"></i>
                                        <p class="mb-0">file_name.pdf</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end" style="gap:10px; cursor: pointer;">
                                    <i class="bi bi-trash delete-coloe"></i>
                                    <i class="bi bi-download download-color"></i>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between document-deta">
                                <div class="d-flex align-items-center ">
                                    <div class="d-flex align-items-center " style="gap:10px;">
                                        <i class="bi bi-file-earmark-text"></i>
                                        <p class="mb-0">file_name.pdf</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end" style="gap:10px; cursor: pointer;">
                                    <i class="bi bi-trash delete-coloe"></i>
                                    <i class="bi bi-download download-color"></i>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between document-deta">
                                <div class="d-flex align-items-center ">
                                    <div class="d-flex align-items-center " style="gap:10px;">
                                        <i class="bi bi-file-earmark-text"></i>
                                        <p class="mb-0">file_name.pdf</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end" style="gap:10px; cursor: pointer;">
                                    <i class="bi bi-trash delete-coloe"></i>
                                    <i class="bi bi-download download-color"></i>
                                </div>
                            </div>
                        </div>


                        </div>
                    </div>
                </div>
            </div>
       
        </div>

    </div>
</div>





<div
  class="modal fade apply-leave"
  tabindex="-1"
  role="dialog"
  aria-labelledby="mySmallModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title m-0" id="exampleModalCenterTitle">Apply for a Leave</h6>
        <button
          type="button"
          class="btn-close"
          id="requestLeaveCloseModel"
          data-bs-dismiss="modal"
          aria-label="Close"
          #requestLeaveCloseModel
        ></button>
      </div>
      <div class="modal-body">

        <div class="apply-leave-main-box">
            <div class="mb-2">
                <p class="mb-0" style="color: #000444;">Please fill out the following fields:</p>
            </div>
         <form [formGroup]="userLeaveForm">
            <div class="text-danger" *ngIf="!pendingFlag">
                You can not apply to this leave, for selected dates your leave qouta is exhausted.
              </div>
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Pick a starting date</label>
            <input type="date" id="username" placeholder="Enter title ..." required="" class="form-control ng-untouched ng-pristine ng-invalid" formControlName="startDate" [(ngModel)]="userLeaveRequest.startDate"/>
            <div class="form-text text-danger" *ngIf="StartDate?.errors?.['required'] && (StartDate?.touched || StartDate?.dirty)">
                Start Date is Required.
            </div> 
            
          </div>
          <!-- <span class="optional">(optional)</span> -->
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Pick an ending date </label>
            <input type="date" id="username" placeholder="Enter title ..." class="form-control ng-untouched ng-pristine ng-invalid" formControlName="endDate" [(ngModel)]="userLeaveRequest.endDate"/>
          </div>
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Select the type of leave you want to request</label>
              <div class="" style="width: 100%; position: relative;">
                <div class="dropdown" style="width: 100%;">
                  <!-- <button type="button"id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown"> Select leave type <i class="bi bi-chevron-down" style="color: #444; font-size: 15px;"></i>
                  </button> -->
                  <select class="form-select" id="exampleFormControlSelect1" formControlName="leaveType" [(ngModel)]="userLeaveRequest.leaveType" (ngModelChange)="getIsPendingLeave(userLeaveRequest.leaveType)">
                    <option value="">Select Leave Type</option>
                    <option *ngFor="let ul of userLeave">
                        {{ul.leaveType}}</option>
                </select>
                <div class="form-text text-danger" *ngIf="LeaveType?.errors?.['required'] && (LeaveType?.touched || LeaveType?.dirty)">
                    Leave Type Required.
               </div>
                </div>
              </div>
          </div>
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Select if you are requesting Half Leave <span class="optional">(optional)</span></label>
              <div class="">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" style="padding-left: 10px;" for="exampleCheck1">Half Leave</label>
            </div>
          </div>
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Select user to request the leave from</label>
              <div class="" style="width: 100%; position: relative;">
                <div class="dropdown" style="width: 100%;">
                  <!-- <button type="button"id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown"> Select a user <i class="bi bi-chevron-down" style="color: #444; font-size: 15px;"></i>
                  </button> -->
                  <!-- <select class="form-select" id="exampleFormControlSelect1" name="managerId" formControlName="managerId" [(ngModel)]="userLeaveRequest.managerId">
                    <option value="">Select User</option>
                    <option>27</option>
                    <option>4</option>
               
                </select>
                <div class="form-text text-danger" *ngIf="ManagerId?.errors?.['required'] && (ManagerId?.touched || ManagerId?.dirty)">
                    Select User to Request Leave Required.
                </div> -->
                <select class="form-select" id="manager" formControlName="managerId" [(ngModel)]="selectedManagerId">
                    <option [ngValue]="undefined">Select Manager</option>
                    <option *ngFor="let manager of managers" [ngValue]="manager.id">{{ manager.name }}</option>
                  </select>
                  
                  <div class="form-text text-danger" *ngIf="ManagerId?.errors?.['required'] && (ManagerId?.touched || ManagerId?.dirty)">
                    Select User to Request Leave Required.
                  </div>
                </div>
              </div>
          </div>
          <div class="mb-2">
            <label for="username" style="padding-bottom: 6px"
              >Notes <span class="optional">(optional)</span></label>
              <textarea class="form-control" id="exampleFormControlTextarea1" placeholder="Notes" rows="3" style="height:100px !important;" formControlName="optNotes" [(ngModel)]="userLeaveRequest.optNotes"> </textarea>
          </div>
         </form>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-de-secondary"
          data-bs-dismiss="modal"
        >
          Close
        </button>
        <button type="button" class="btn btn-primary save-changes"
        [disabled]="userLeaveForm.invalid || !pendingFlag"
        (click)="saveLeaveRequestUser()">
  Submit
</button>

      </div>
    </div>
  </div>
</div>

