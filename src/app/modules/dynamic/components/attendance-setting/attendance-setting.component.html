<div class="page-wrapper">

    <!-- Page Content-->
    <div class="page-content-tab">

        <div class="container-fluid">

            <div class="company-settinh">
                <div class="row mt-3">




                    <div class="col-md-5 ">
                        <div class="form-roe-data">
                            <h5>Attendance Mode </h5>
                            <p>This will be displayed on your profile.</p>
                        </div>
                    </div>

                    <div class="col-md-6">


                        <!-- <div class="row mb-3">
                            <div class="attendance-settin-list" *ngFor="let attendanceMode of attendanceModeList">
                                <div class="categryCustomizecard d-flex pointer attendance-active" (click)="updateAttendanceModeMethodCall(attendanceMode.id)">
                                    <div class="categryCustomizeinfo">
                                        <label for="customizecategory1" class="mb-0">
                                            <h3> {{attendanceMode.name}}</h3>
                                            <p> Large images are best for products where every detail is a part of the
                                                productâ€™s value.</p>
                                        </label>
                                    </div>
                                    <div class="active-check">
                                        <i class="bi bi-check2"></i>
                                    </div>
                                </div>
                            </div>
                        </div> -->

                        <div class="row mb-3">
                            <div class="attendance-settin-list" *ngFor="let attendanceMode of attendanceModeList">
                                <div class="categryCustomizecard d-flex pointer" 
                                     [ngClass]="{'attendance-active': attendanceMode.id === selectedAttendanceModeId}" 
                                     (click)="updateAttendanceModeMethodCall(attendanceMode.id)">
                                    <div class="categryCustomizeinfo">
                                        <label for="customizecategory1" class="mb-0">
                                            <h3> {{attendanceMode.name}}</h3>
                                            <p> {{attendanceMode.description}}</p>
                                        </label>
                                    </div>
                                    <div class="active-check" *ngIf="attendanceMode.id === selectedAttendanceModeId">
                                        <i class="bi bi-check2"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>

                    <div class="col-md-12">
                        <div class="border-box">

                        </div>
                    </div>


                    <div class="col-md-5 mt-3 mb-3">
                        <div class="form-roe-data">
                            <h5>Shift Settings </h5>
                            <p>A quick snapshot of your company.</p>
                        </div>
                    </div>

                    <div class="col-md-6 mt-3 mb-3">

                        <ng-container *ngIf="organizationShiftTimingWithShiftTypeResponseList.length === 0; else organizationShiftTimingWithShiftTypeData">
                            <div class="empty-file">

                                <div class="errorboxmain" >
                                    <div class="errorboxinner">
                                        <div class="errorboxplaceholder mb-2">
                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                        </div>
                                        <div class="">
                                            <p class="mb-0">Shift Timings Not Found</p>
                                        </div>
                                         <div class="add-filtter mt-2 mb-3" style="text-align: center;">
                                            <a class="" style="font-size: 16px; color: #6666f3;" data-bs-toggle="modal" data-bs-target="#shiftTime" (click)="openAddShiftTimeModal()"><i class="bi bi-plus"></i> Add Shift Time </a>                
                                        </div>
                                    </div>
                                </div>
    
                            </div>
                        </ng-container>

                        <ng-template #organizationShiftTimingWithShiftTypeData>

                            <div class="">
                                <div class="add-filtter d-flex align-items-center justify-content-end">
                                  
                                   <a class="" style="font-size: 16px; color: #6666f3;" data-bs-toggle="modal" data-bs-target="#shiftTime" (click)="openAddShiftTimeModal()"><i class="bi bi-plus"></i> Add Shift Time </a>                
        
                                </div>
    
    
                                <div class="rule-main-box mt-3" *ngFor="let organizationShiftTimingWithShiftTypeResponse of organizationShiftTimingWithShiftTypeResponseList">
                                    <div class="d-flex align-items-center attendance-boxx">
                                        <div class="late-rule" style="width:70%">
                                            <h5>{{organizationShiftTimingWithShiftTypeResponse.shiftType.name}}</h5>
                                        </div>
                                      
                                    </div>
                                  
    
    
                                    <div class="row mt-2 p-2" *ngFor="let organizationShiftTimingResponse of organizationShiftTimingWithShiftTypeResponse.organizationShiftTimingResponseList">
                                        <div class="col-md-12 d-flex justify-content-between align-items-center">
                                            <p class="mb-0 mb-2" style="font-size: 12px; font-weight: 500;">{{organizationShiftTimingResponse.name}}</p>
                                            <div class="late-btn d-flex align-items-center justify-content-end mb-2"
                                                style="gap: 20px;    margin-right: 15px;">
    
                                                <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#shiftTime" (click)="updateOrganizationShiftTiming(organizationShiftTimingResponse)"><i class="bi bi-pencil-square"></i></a>
    
                                                <a style="cursor: pointer" class="delete-rule" (click)="deleteOrganizationShiftTimingMethodCall(organizationShiftTimingResponse.id)"><i class="bi bi-trash"></i></a>
    
                                            </div>
                                        </div>
                                       
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">In Time | <span style="color: #009688;">{{organizationShiftTimingResponse.inTime}}</span> </p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">Out Time | <span style="color: #009688;">{{organizationShiftTimingResponse.outTime}}</span> </p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">Working Hours | <span style="color: #009688;">{{organizationShiftTimingResponse.workingHour}}</span> </p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">Break Time | <span style="color: #009688;">{{organizationShiftTimingResponse.startLunch}}</span> </p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">Back Time | <span style="color: #009688;">{{organizationShiftTimingResponse.endLunch}}</span> </p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="shift-deta">
                                                <p class="mb-0">Total Break Hours | <span style="color: #009688;"> {{organizationShiftTimingResponse.lunchHour}}</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>


                        

                    </div>





                    <div class="col-md-12">
                        <div class="border-box">

                        </div>
                    </div>




                    <div class="col-md-5 mt-3 mb-3">
                        <div class="form-roe-data">
                            <h5>Automation Rules </h5>
                            <p>A quick snapshot of your company.</p>
                        </div>
                    </div>

                    <div class="col-md-6 mt-3 mb-3">


                        <ng-container *ngIf="attendanceRuleWithAttendanceRuleDefinitionResponseList.length === 0; else attendanceRuleWithDefinitionData">
                            <div class="empty-file">

                                <div class="errorboxmain" >
                                    <div class="errorboxinner">
                                        <div class="errorboxplaceholder mb-2">
                                            <img src="assets/images/empty-box.svg" style="width:80px;" />
                                        </div>
                                        <div class="">
                                            <p class="mb-0">Automation Rules Not Found</p>
                                        </div>
                                         <div class="add-filtter mt-2 mb-3" style="text-align: center;">
                                            <a class="" style="font-size: 14px; color: #6666f3;" data-bs-toggle="modal" data-bs-target="#automation-rules" (click)="getAttendanceRuleByOrganizationMethodCall()"><i class="bi bi-plus"></i> Add Automation Rules </a>           
                                         </div>
                                    </div>
                                </div>
    
                            </div>
                        </ng-container>
                        <ng-template #attendanceRuleWithDefinitionData>
                            <div class="add-filtter d-flex align-items-center justify-content-end mb-3">
                          
                                <a class="" style="font-size: 16px; color: #6666f3;" data-bs-toggle="modal" data-bs-target="#automation-rules" (click)="getAttendanceRuleByOrganizationMethodCall()"><i class="bi bi-plus"></i> Add Automation Rules </a>                
     
                             </div>
                        </ng-template>
                        
                        

                        <div class="mt-3"
                            *ngFor="let attendanceRuleWithAttendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponseList">
                            <div class="rule-main-box">
                                <div class=" d-flex align-items-center attendance-boxx">
                                    <div class="late-icon">
                                        <i class="bi bi-person"></i>
                                    </div>
                                    <div class="late-rule">

                                        <h5>{{attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleResponse.name}}</h5>
                                        <p class="mb-0">
                                            {{attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleResponse.description}}</p>
                                    </div>


                                </div>

                                <div class="row p-2"
                                    *ngFor="let attendanceRuleDefinitionResponse of attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleDefinitionResponseList; let i = index">
                                    <div class="col-md-12 d-flex justify-content-between align-items-center">
                                        <p class="mb-0 mb-2" style="font-size: 12px; font-weight: 500;">Rule ({{i+1}})
                                        </p>
                                        <div class="late-btn d-flex align-items-center justify-content-end mb-2"
                                            style="gap: 20px;    margin-right: 15px;">

                                            <a data-bs-toggle="modal" data-bs-target="#rules-value"
                                                class="create-rule"
                                                style="cursor: pointer;"
                                                (click)="updateAttendenceRuleDefinition(attendanceRuleDefinitionResponse, attendanceRuleWithAttendanceRuleDefinitionResponse.attendanceRuleResponse)"><i
                                                    class="bi bi-pencil-square"></i></a>

                                            <a class="delete-rule" style="cursor: pointer;" (click)="deleteAttendanceRuleDefinitionMethodCall(attendanceRuleDefinitionResponse.id)"><i class="bi bi-trash"></i></a>

                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <ng-container *ngIf="attendanceRuleDefinitionResponse.attendanceRuleId !== OVERTIME_RULE; else others">
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Custom Salary Deduction Rules</p>
                                        </ng-container>
                                        <ng-template #others>
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Custom Salary Overtime Pay Rules</p>
                                        </ng-template>
                                        <div class="in-time">
                                            <div class="duration">
                                                <span>Duration </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.customSalaryDeduction.lateDuration !== null && attendanceRuleDefinitionResponse.customSalaryDeduction.lateDuration !== ''; else na">
                                                        <span>{{attendanceRuleDefinitionResponse.customSalaryDeduction.lateDuration}}</span>
                                                        <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                    <ng-template #na>
                                                        <span>NA</span>
                                                    </ng-template>
                                                </span>
                                            </div>
                                            <div class="duration">
                                                <ng-container *ngIf="attendanceRuleDefinitionResponse.attendanceRuleId !== OVERTIME_RULE; else overtime">
                                                    <span>Deduction Type</span>
                                                    <span> | </span>
                                                    <span style="color: #009688;">
                                                        <ng-container *ngIf="attendanceRuleDefinitionResponse?.deductionType?.id === DEDUCTION_TYPE_PER_MINUTE; else fixedAmountOrNA">
                                                            <span>{{attendanceRuleDefinitionResponse?.deductionType?.type}}</span>
                                                        </ng-container>
                                                        <ng-template #fixedAmountOrNA>
                                                            <ng-container *ngIf="attendanceRuleDefinitionResponse?.deductionType?.type; else na2">
                                                                <span>{{attendanceRuleDefinitionResponse?.deductionType?.type}}</span>
                                                                <span> (Rs. {{attendanceRuleDefinitionResponse.customSalaryDeduction.amountInRupees}})</span>
                                                            </ng-container>
                                                        </ng-template>
                                                        <ng-template #na2>
                                                            <span>NA</span>
                                                        </ng-template>
                                                    </span>
                                                </ng-container>
                                                <ng-template #overtime>
                                                    <span>Overtime Type</span>
                                                    <span> | </span>
                                                    <span style="color: #009688;">
                                                        <ng-container *ngIf="attendanceRuleDefinitionResponse?.overtimeType?.id === OVERTIME_TYPE_FIXED_AMOUNT; else overtimeTypeOrNA">
                                                            <span>{{attendanceRuleDefinitionResponse?.overtimeType?.type}}</span>
                                                            <span> (Rs. {{attendanceRuleDefinitionResponse.customSalaryDeduction.amountInRupees}})</span>
                                                        </ng-container>
                                                        <ng-template #overtimeTypeOrNA>
                                                            <ng-container *ngIf="attendanceRuleDefinitionResponse?.overtimeType?.type; else na3">
                                                                <span>{{attendanceRuleDefinitionResponse?.overtimeType?.type}}</span>
                                                            </ng-container>
                                                        </ng-template>
                                                        <ng-template #na3>
                                                            <span>NA</span>
                                                        </ng-template>
                                                    </span>
                                                </ng-template>
                                                
                                            </div>
                                            <div class="duration">
                                                <span>Occurrences </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                  <ng-container *ngIf="attendanceRuleDefinitionResponse.customSalaryDeduction.occurrenceCount !== 0; else customSalaryDurationOrNA">
                                                    <span>{{ attendanceRuleDefinitionResponse.customSalaryDeduction.occurrenceCount }}</span>
                                                    <span style="color: black;"> times</span>
                                                </ng-container>
                                                  <ng-template #customSalaryDurationOrNA>
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.customSalaryDeduction.occurrenceDuration; else na4">
                                                      <span>{{ attendanceRuleDefinitionResponse.customSalaryDeduction.occurrenceDuration }}</span>
                                                      <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                  </ng-template>
                                                  <ng-template #na4>N/A</ng-template>
                                                </span>
                                            </div> 
                                              
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <ng-container *ngIf="attendanceRuleDefinitionResponse.attendanceRuleId !== OVERTIME_RULE; else others2">
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Half Day Salary Deduction Rules</p>
                                        </ng-container>
                                        <ng-template #others2>
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Half Day Salary Overtime Pay Rules</p>
                                        </ng-template>
                                        <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;"></p>
                                        <div class="in-time">
                                            <div class="duration">
                                                <span>Duration </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.halfDaySalaryDeduction.lateDuration !== null && attendanceRuleDefinitionResponse.halfDaySalaryDeduction.lateDuration !== ''; else na5">
                                                        <span>{{attendanceRuleDefinitionResponse.halfDaySalaryDeduction.lateDuration}}</span>
                                                        <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                    <ng-template #na5>
                                                        <span>NA</span>
                                                    </ng-template>
                                                </span>
                                            </div>
                                            <div class="duration">
                                                <span>Occurrences </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                  <ng-container *ngIf="attendanceRuleDefinitionResponse.halfDaySalaryDeduction.occurrenceCount !== 0; else halfDayOccurrenceDurationOrNA">
                                                    <span>{{ attendanceRuleDefinitionResponse.halfDaySalaryDeduction.occurrenceCount }}</span>
                                                    <span style="color: black;"> times</span>
                                                </ng-container>
                                                  <ng-template #halfDayOccurrenceDurationOrNA>
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.halfDaySalaryDeduction.occurrenceDuration; else na6">
                                                      <span>{{ attendanceRuleDefinitionResponse.halfDaySalaryDeduction.occurrenceDuration }}</span>
                                                      <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                  </ng-template>
                                                  <ng-template #na6>N/A</ng-template>
                                                </span>
                                            </div>   
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <ng-container *ngIf="attendanceRuleDefinitionResponse.attendanceRuleId !== OVERTIME_RULE; else others3">
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Full Day Salary Deduction Rules</p>
                                        </ng-container>
                                        <ng-template #others3>
                                            <p class="mb-0 mb-2" style="font-size: 11px; color:#6666f3;">Full Day Salary Overtime Pay Rules</p>
                                        </ng-template>
                                        <div class="in-time">
                                            <div class="duration">
                                                <span>Duration </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.fullDaySalaryDeduction.lateDuration !== null && attendanceRuleDefinitionResponse.fullDaySalaryDeduction.lateDuration != ''; else na7">
                                                        <span>{{attendanceRuleDefinitionResponse.fullDaySalaryDeduction.lateDuration}}</span>
                                                        <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                    <ng-template #na7>
                                                        <span>N/A</span>
                                                    </ng-template>
                                                </span>
                                            </div>
                                            <div class="duration">
                                                <span>Occurrences </span>
                                                <span> | </span>
                                                <span style="color: #009688;">
                                                  <ng-container *ngIf="attendanceRuleDefinitionResponse.fullDaySalaryDeduction.occurrenceCount !== 0; else fullDayOccurrenceDurationOrNA">
                                                    <span>{{ attendanceRuleDefinitionResponse.fullDaySalaryDeduction.occurrenceCount }}</span>
                                                    <span style="color: black;"> times</span>
                                                </ng-container>
                                                  <ng-template #fullDayOccurrenceDurationOrNA>
                                                    <ng-container *ngIf="attendanceRuleDefinitionResponse.fullDaySalaryDeduction.occurrenceDuration; else na8">
                                                      <span>{{ attendanceRuleDefinitionResponse.fullDaySalaryDeduction.occurrenceDuration }}</span>
                                                      <span style="color: black;"> hrs.</span>
                                                    </ng-container>
                                                  </ng-template>
                                                  <ng-template #na8>N/A</ng-template>
                                                </span>
                                            </div>                                              
                                        </div>
                                    </div>
                                </div>
                                <hr class="m-0">

                        </div>

                    </div>

                    <div class="col-md-12">
                        <div class="border-box">

                        </div>
                    </div>




                    <div class="col-md-1"></div>
                    <div class="col-md-12 mt-4 ">
                        <div class="d-flex align-items-center justify-content-end" style="gap:10px;">


                            <button type="button" class="btn btn-primary company-save-btn">Save</button>


                        </div>
                    </div>






                </div><!--end row-->

            </div>

        </div>
    </div>
</div>




<div class="modal fade" id="attendance-setting" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel">Manual Attendance</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="attendance-settin-list">

                            <div class="categryCustomizecard attendance-active d-flex pointer">
                                <div class="categryCustomizeinput">
                                    <input type="radio" name="customizeimagesize" id="customizeimagesize315">
                                </div>
                                <div class="categryCustomizeinfo">
                                    <label for="customizecategory1" class="mb-0">
                                        <h3> Manual Attendance</h3>
                                        <p> Large images are best for products where every detail is a part of the
                                            productâ€™s value.</p>
                                    </label>
                                </div>
                            </div>

                            <div class="categryCustomizecard d-flex pointer">
                                <div class="categryCustomizeinput">
                                    <input type="radio" name="customizeimagesize" id="customizeimagesize315">
                                </div>
                                <div class="categryCustomizeinfo">
                                    <label for="customizecategory1" class="mb-0">
                                        <h3> Staff Attendance With Location </h3>
                                        <p> Large images are best for products where every detail is a part of the
                                            productâ€™s value.</p>
                                    </label>
                                </div>
                            </div>


                            <div class="categryCustomizecard d-flex pointer">
                                <div class="categryCustomizeinput">
                                    <input type="radio" name="customizeimagesize" id="customizeimagesize315">
                                </div>
                                <div class="categryCustomizeinfo">
                                    <label for="customizecategory1" class="mb-0">
                                        <h3> Staff Attendance With Selfie & Location</h3>
                                        <p> Large images are best for products where every detail is a part of the
                                            productâ€™s value.</p>
                                    </label>
                                </div>
                            </div>

                        </div>
                    </div>

                </div><!--end row-->
            </div><!--end modal-body-->
            <div class="modal-footer d-flex align-items-center justify-content-center">
                <button type="button" class="btn btn-primary" style="width:100%;">Save & Contnue</button>
            </div><!--end modal-footer-->
        </div><!--end modal-content-->
    </div><!--end modal-dialog-->
</div><!--end modal-->





<div class="modal fade" id="create-shift" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Create Shift</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="pb-2">Shift Type</label>

                            <div class="dropdown" style="width: 100%;">

                                <button class="btn btn-secondary dropdown-toggle new-deopdown" type="button"
                                    id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                                    Shift Type <i class="bi bi-chevron-down"></i>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%;">
                                    <li><a class="dropdown-item">Day</a></li>
                                    <li><a class="dropdown-item">Night</a></li>

                                </ul>
                            </div>


                        </div>
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="pb-2">Shift Name</label>
                            <input type="email" class="form-control" id="exampleInputEmail1"
                                aria-describedby="emailHelp" placeholder="Name">
                        </div>

                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="pb-2">Shift Time (start & end time)</label>
                            <div class="d-flex" style="gap:20px">
                                <input type="time" class="form-control" aria-describedby="emailHelp"
                                    placeholder="Start Time">

                                <input type="time" class="form-control" aria-describedby="emailHelp"
                                    placeholder="End Time">
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="pb-2">Unpaid Braak</label>
                            <div class="d-flex" style="gap:20px">
                                <div class="">
                                    <button class="btn new-featucher-btn" type="button">Add</button>
                                </div>


                            </div>

                            <div class="filteredcol d-flex mt-3">
                                <p class="d-flex justify-content-between align-items-center">
                                    <span>1:00 to 2:00</span>
                                    <i class="bi bi-x "></i>
                                </p>

                                <p class="d-flex justify-content-between align-items-center">
                                    <span>1:00 to 2:00</span>
                                    <i class="bi bi-x "></i>
                                </p>

                                <p class="d-flex justify-content-between align-items-center">
                                    <span>1:00 to 2:00</span>
                                    <i class="bi bi-x "></i>
                                </p>
                                <p class="d-flex justify-content-between align-items-center">
                                    <span>1:00 to 2:00</span>
                                    <i class="bi bi-x "></i>
                                </p>


                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <div class="modal-footer d-flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="shiftTime" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">

        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Shift Time </h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    #closeShiftTimingModal></button>
            </div><!--end modal-header-->
            <div class="modal-body">

               <div class="">

                <ul id="myTab" role="tablist" class="nav nav-tabs">
                    <li role="presentation" class="nav-item">
                        <button id="home-tab" data-bs-toggle="tab" data-bs-target="#shiftime" type="button"
                            role="tab" aria-controls="shiftime" aria-selected="true"
                            class="nav-link active" #shiftTimingActiveTab>Shift Time</button>
                    </li>
                    <li role="presentation" class="nav-item">
                        <button id="profile-tab" data-bs-toggle="tab"
                        [class.disabled]="shiftForm.invalid" 
                        [attr.aria-selected]="!shiftForm.invalid" 
                        [attr.tabindex]="shiftForm.invalid ? -1 : null"
                        (click)="!shiftForm.invalid && staffActiveTabInShiftTimingMethod()"
                        data-bs-target="#staffselection"
                            type="button" role="tab" aria-controls="staffselection" aria-selected="false"
                            class="nav-link" #staffActiveTabInShiftTiming>Staff selection</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="shiftime" role="tabpanel">


                        <form #shiftForm="ngForm" ngNativeValidate (ngSubmit)="submitShiftTimingForm()">

                            <div class="row p-3">
                                <!-- Dropdown for Shift Type -->
                                <div class="col-md-6">
                                    <!-- Existing dropdown code for shift types -->
                                    <div class="form-fild">
                                        <label for="exampleInputEmail1" class="pb-2">Shift Type</label>
                                    
                                        <div class="dropdown">
                                            <button class="btn btn-secondary dropdown-toggle new-dropdown"
                                                type="button" id="dropdownMenuButton1"
                                                data-bs-toggle="dropdown" aria-expanded="false"
                                                style=" text-align: left; background-color: white; color: black; border-color: #ced4da; width: 100%;">
                                                {{ selectedShiftType?.name || "Select shift type" }}
                                                <i class="bi bi-chevron-down"></i>
                                            </button>
                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%">
                                              <li *ngFor="let shiftType of shiftTypeList">
                                                <a class="dropdown-item" (click)="selectShiftType(shiftType)">
                                                  {{ shiftType.name }}
                                                </a>
                                              </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Shift Name Input -->
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="shiftName" class="pb-2">Shift Name</label>
                                        <input type="text" class="form-control" id="shiftName" placeholder="Shift name"
                                               required [(ngModel)]="organizationShiftTimingRequest.name" name="shiftName">
                                    </div>
                                </div>
                        
                                <!-- In Time Input -->
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="inTime" class="pb-2">In Time</label>
                                        <input id="inTime" type="time" class="form-control" required 
                                               [(ngModel)]="organizationShiftTimingRequest.inTime" name="inTime"
                                               (change)="calculateTimes()">
                                        <div *ngIf="organizationShiftTimingValidationErrors['inTime']" class="text-danger">
                                            {{ organizationShiftTimingValidationErrors['inTime'] }}
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Out Time Input -->
                                <!-- <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="outTime" class="pb-2">Out Time</label>
                                        <input id="outTime" type="time" class="form-control" required 
                                               [(ngModel)]="organizationShiftTimingRequest.outTime" name="outTime"
                                               (change)="calculateTimes()">
                                        <div *ngIf="organizationShiftTimingRequest.errors['outTime']" class="text-danger">
                                            {{ organizationShiftTimingRequest.errors['outTime'] }}
                                        </div>
                                    </div>
                                </div> -->

                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="outTime" class="pb-2">Out Time</label>
                                        <input id="outTime" type="time" [class.is-invalid]="organizationShiftTimingValidationErrors['outTime']"
                                               class="form-control" required [(ngModel)]="organizationShiftTimingRequest.outTime" name="outTime"
                                               (change)="calculateTimes()">
                                        <!-- Error Message for Out Time -->
                                        <div *ngIf="organizationShiftTimingValidationErrors['outTime']" class="text-danger">
                                            {{ organizationShiftTimingValidationErrors['outTime'] }}
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Working Hours Display -->
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="workingHours" class="pb-2">Working Hours</label>
                                        <input id="workingHours" type="text" class="form-control" readonly 
                                               [(ngModel)]="organizationShiftTimingRequest.workingHour" name="workingHours" placeholder="Working hours"> 
                                    </div>
                                </div>

                                <!-- Lunch Break Start Time Input -->
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="lunchBreakStartTime" class="pb-2">Lunch Break Start Time</label>
                                        <input id="lunchBreakStartTime" type="time" [class.is-invalid]="organizationShiftTimingValidationErrors['startLunch']"
                                               class="form-control" required 
                                               [(ngModel)]="organizationShiftTimingRequest.startLunch" name="lunchBreakStartTime"
                                               (change)="calculateTimes()">
                                        <div *ngIf="organizationShiftTimingValidationErrors['startLunch']" class="text-danger">
                                            {{ organizationShiftTimingValidationErrors['startLunch'] }}
                                        </div>
                                    </div>
                                </div>

                                <!-- Lunch Break End Time Input -->
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="lunchBreakEndTime" class="pb-2">Lunch Break End Time</label>
                                        <input id="lunchBreakEndTime" type="time" [class.is-invalid]="organizationShiftTimingValidationErrors['endLunch']"
                                               class="form-control" required 
                                               [(ngModel)]="organizationShiftTimingRequest.endLunch" name="lunchBreakEndTime"
                                               (change)="calculateTimes()">
                                        <div *ngIf="organizationShiftTimingValidationErrors['endLunch']" class="text-danger">
                                            {{ organizationShiftTimingValidationErrors['endLunch'] }}
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Lunch Break Duration Display -->
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="totalLunchBreakDuration" class="pb-2">Total Lunch Break Duration</label>
                                        <input id="totalLunchBreakDuration" type="text" class="form-control" readonly 
                                               [(ngModel)]="organizationShiftTimingRequest.lunchHour" name="totalLunchBreakDuration" placeholder="Lunch break hours">
                                    </div>
                                </div>
                            </div>
                        
                            <!-- Submit Button -->
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary" [disabled]="shiftForm.invalid" (click)="staffActiveTabInShiftTimingMethod()">Next</button>
                            </div>
                        
                        </form>

                        
                        
                    </div>

                    <div class="tab-pane fade" id="staffselection" role="tabpanel">

                        <div class="staf-list-box mt-3">


                            <div class="row mb-3">

                                <div class="col-md-6">
                                    <div>
                                        <h5>Userlist <span style="color: #4761f6; background-color: #d1d6f2; padding: 5px; border-radius: 5px" ><b>{{total}}</b></span></h5>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <form novalidate="" role="search" (submit)="searchUsers()"
                                        class="searching ng-untouched ng-pristine ng-valid">
                                        <div class="form-group" style="position: relative">
                                            <input type="text" id="searchText"
                                                placeholder="Search by name and role"
                                                class="form-control me-2 ng-untouched ng-pristine ng-valid"
                                                (keyup)="searchUsers()" [(ngModel)]="searchText"
                                                [ngModelOptions]="{ standalone: true }"
                                                style="padding: 10px 50px 10px 30px;">
                                            <button type="button" class="btn close-btn">
                                                <i class="bi bi-x"></i>
                                            </button>
                                            <i class="bi bi-search search-icon"
                                                style="position: absolute; top: 50%; transform: translateY(-50%); left: 10px;"></i>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: space-between; align-items : center;">

                                <!-- <th style="width:0%; ">
                                    <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                           [(ngModel)]="isAllUsersSelected"
                                           (change)="selectAllUsers($event)">
                                </th> -->
                                <div *ngIf="selectedStaffsUuids.length > 0">
                                    <ng-container *ngIf="selectedStaffsUuids.length === total; else elseCondition2">
                                        <span (click)="unselectAllUsers()" style="cursor: pointer; color: #EB5050; background-color: #FCF1F1; padding: 8px; border-radius: 5px;">Clear all users <i class="bi bi-x"></i></span>
                                    </ng-container>
                                    <ng-template #elseCondition2>
                                        <span (click)="selectAllUsers(true)" style="cursor: pointer; color: #4761F6; background-color: #EEF1FF; padding: 8px; border-radius: 5px;">Select all {{total}} users</span>
                                    </ng-template>
                                </div>

                                <div *ngIf="selectedStaffsUuids.length !== 0">
                                    <ng-container *ngIf="selectedStaffsUuids.length === total; else elseCondition1">
                                        <span>All <b>{{total}}</b> users selected</span>
                                    </ng-container>
                                    <ng-template #elseCondition1>
                                        <span><b>{{selectedStaffsUuids.length}}</b> selected of <b>{{total}}</b></span>
                                        <span style="cursor:pointer;"(click)="unselectAllUsers()"><i class="bi bi-x"></i></span>
                                    </ng-template>
                                </div>
                                
                                
                            </div>

                            <table class="table">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="width:0%;">
                                            <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                                [(ngModel)]="isAllSelected"
                                                (change)="selectAll(isAllSelected)">
                                        </th>
                                        <!-- <th style="width:25%; padding: 12px 15px;">S. No.</th> -->
                                        <th style="width:25%; padding: 12px 15px;">Name</th>
                                        <th style="width:25%; padding: 12px 15px;">Email</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let staff of staffs | paginate: {itemsPerPage: itemPerPage, currentPage: pageNumber, totalItems: total} "
                                        style="border-bottom: 1px solid #dddddd;">
                                        <td>
                                            <div class="form-check">
                                                <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                                    [(ngModel)]="staff.selected"
                                                    (change)="checkIndividualSelection()">
                                            </div>
                                        </td>
                                        <!-- <td style="padding: 12px 15px;">{{ i+1 }}</td> -->
                                        <td style="padding: 12px 15px;">{{ staff.name }}</td>
                                        <td style="padding: 12px 15px;">{{ staff.email }}</td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- *ngIf="staffs.length > 8" -->
                        <div class="pagination pl-3">
                            <p class="mb-0" style="padding-left: 15px">
                                Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                                {{ total }} teams
                            </p>
                            <div class="row">
                                <div class="col-md-12">
                                    <nav aria-label="Page navigation example">
                                        <ul class="pagination justify-content-end">
                                            <li class="page-item" [class.disabled]="pageNumber == 1">
                                                <a class="page-link" href="javascript:void(0);"
                                                    aria-label="Previous" (click)="changePage('prev')">
                                                    <span aria-hidden="true">&laquo;</span>
                                                </a>
                                            </li>
                                            <li class="page-item" *ngFor="let page of getPages()"
                                                [class.active]="pageNumber == page">
                                                <a class="page-link" href="javascript:void(0);"
                                                    (click)="changePage(page)">{{ page }}</a>
                                            </li>
                                            <li class="page-item" [class.disabled]="pageNumber == totalPages">
                                                <a class="page-link" href="javascript:void(0);" aria-label="Next"
                                                    (click)="changePage('next')">
                                                    <span aria-hidden="true">&raquo;</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                        <div id="back-and-submit">
                            <div class="modal-footer d-flex align-items-center justify-content-end">
                                <button type="button" class="btn btn-outline-primary" (click)="shiftTimingActiveTabMethod()">Back</button>
                            </div>
                            <div class="modal-footer d-flex align-items-center justify-content-end">
                                <button type="button" class="btn btn-primary"
                                    (click)="registerOrganizationShiftTimingMethodCall()">Submit</button>
                            </div>
                        </div>
                        
                    </div>


                
                </div>

               </div>
            </div>

        </div>
    </div>
</div>



<div class="modal fade" id="automation-rules" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Automation Rules </h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    #attendanceRuleDefinitionModalClose></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class=" d-flex align-items-center attendance-boxx"
                            *ngFor="let attendanceRuleResponse of attendanceRuleResponseList">
                            <div class="late-icon">
                                <i class="bi bi-person"></i>
                            </div>
                            <div class="late-rule">
                                <h5>{{attendanceRuleResponse.name}}</h5>
                                <p class="mb-0">{{attendanceRuleResponse.description}}</p>
                            </div>
                            <div class="late-btn d-flex justify-content-end" style="gap:10px;     padding-right: 20px;">

                                <a href="" data-bs-toggle="modal" data-bs-target="#rules-value" class="create-rule"
                                    style="font-size: 12px;"
                                    (click)="openAttendanceRuleResponseModal(attendanceRuleResponse)"> Create your first
                                    rule <i class="bi bi-chevron-right"></i></a>



                            </div>
                        </div>


                    </div>
                    <div class="col-md-4">
                        <div class="rule-section">
                            <div class="rule-main-div">

                                <div class="tracking-body">
                                    <ul class="tracking-steps">
                                        <li class="tracking-item">
                                            <div class="d-flex new-stap">
                                                <div class="tracing-icon"><i class="bi bi-check2"></i></div>
                                                <div class="tracking-data">
                                                    <p>Create your first rule</p>
                                                    <div>
                                                        <span>
                                                            Automate Late fine for employee
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="tracking-item">
                                            <div class="d-flex align-items-center new-stap">
                                                <div class="tracing-icon"><i
                                                        class="bi bi-check2"></i></div>
                                                <div class="tracking-data">
                                                    <p>Set a rule value</p>
                                                    <div>
                                                        <span>Set a value for your rule type.</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="tracking-item">
                                            <div class="d-flex new-stap">
                                                <div class="tracing-icon"><i class="bi bi-check2"></i></div>
                                                <div class="tracking-data">
                                                    <p>Assign Staff</p>
                                                    <div>
                                                        <span>
                                                            Automate Late fine for employee
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="rules-value" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> {{attendanceRuleResponse.name}} </h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    #attendanceRuleDefinitionModalClose></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="">

                            <ul id="myTab" role="tablist" class="nav nav-tabs">
                                <li role="presentation" class="nav-item">
                                    <button id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button"
                                        role="tab" aria-controls="home" aria-selected="true"
                                        class="nav-link active" #ruleActiveTab>Rules</button>
                                </li>
                                <li role="presentation" class="nav-item">
                                    <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile"
                                        type="button" role="tab" aria-controls="profile" aria-selected="false"
                                        class="nav-link" (click)="trueActiveModel();" #staffActiveTab>Staff selection</button>
                                </li>
                            </ul>

                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="home" role="tabpanel">
                                    <div class="rules-main">
                                        <div class="form-check pb-3">
                                            <input class="form-check-input" style="cursor: pointer;" type="checkbox" value=""
                                                id="flexCheckChecked" checked="">
                                            <label class="form-check-label" for="flexCheckChecked">
                                                {{attendanceRuleResponse.customRuleHeader}}
                                            </label>
                                        </div>



                                        <div class="dudtion-type">
                                            <div class="d-flex align-items-center" style="gap:20px">
                                                <!-- *ngIf="attendanceRuleDefinitionRequest?.customSalaryDeduction" -->
                                                <div class="if-late">
                                                    <label for="hoursInput" class="pb-2">{{attendanceRuleResponse.ruleSubHeader}}</label>
                                                    <!-- <div class="input-group" style="width: auto; gap: 10px;">
                                                        <input type="number" id="hoursInput" name="hours" class="form-control" min="0" max="24" placeholder="Hours" style="width: 80px; padding: 5px; text-align: center;">
                                                        <input type="number" id="minutesInput" name="minutes" class="form-control" min="0" max="59" placeholder="Minutes" style="width: 80px; padding: 5px; text-align: center;">
                                                        <span class="input-group-text">Hrs.</span>
                                                    </div> -->
                                            
                                                    <!-- <div class="d-flex" style="justify-content: center; align-items: center; width: 135px; gap:10px">
                                                        <input type="time" class="form-control without_ampm" id="hoursInput" aria-describedby="emailHelp"  
                                                        placeholder="" 
                                                        [(ngModel)]="attendanceRuleDefinitionRequest.customSalaryDeduction.lateDuration">
                                                        <span>hrs.</span>
                                                    </div> -->
                                                    

                                                    <div class="input-group">
                                                        <select id="hoursInput" name="hours" class="form-control" style="width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px; " [(ngModel)]="attendanceRuleDefinitionRequest.customSalaryDeduction.hours" (change)="onTimeChange(attendanceRuleDefinitionRequest.customSalaryDeduction)">
                                                          <option value="0">HH</option>
                                                          <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                        </select>
                                                        <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                
                                                        <select id="minutesInput" name="minutes" class="form-control" style=" width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.customSalaryDeduction.minutes" (change)="onTimeChange(attendanceRuleDefinitionRequest.customSalaryDeduction)">
                                                          <option value="0">MM</option>
                                                          <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                        </select>
                                                                                
                                                        <span><b>hrs.</b></span>
                                                    </div>

                                                    <!-- <input [ngxTimepicker]="picker">
                                                    <ngx-material-timepicker #picker></ngx-material-timepicker>      -->
                                                    <!-- app.component.html -->
                                                    <!-- <input [ngxTimepicker]="timePicker" [format]="24" readonly>
                                                    <ngx-material-timepicker #timePicker></ngx-material-timepicker> -->
                                                    <!-- Your component's HTML template -->
                                                    <!-- <input type="text" id="time" placeholder="Time" appTimePicker> -->
                                                    <!-- <input [ngxTimepicker]="timePicker" readonly>
                                                    <ngx-material-timepicker #timePicker></ngx-material-timepicker>

                                                    <button (click)="timePicker.open()">Open Timepicker</button>-->


                                                </div>

                                                <div class="overtime-type" *ngIf="attendanceRuleResponse.id == OVERTIME_RULE; else deductionType">
                                                    <label for="exampleInputEmail1" class="pb-2">Overtime Type</label>
                                                    <div class="dropdown">
                                                        <button class="btn btn-secondary dropdown-toggle new-dropdown"
                                                            type="button" id="dropdownMenuButton1"
                                                            data-bs-toggle="dropdown" aria-expanded="false"
                                                            style=" text-align: left; background-color: white; color: black; border-color: #ced4da; width: 100%;">
                                                            {{ selectedOvertimeType?.type || "Select overtime type" }}
                                                            <i class="bi bi-chevron-down"></i>
                                                        </button>
                                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                                                            style="width: 100%">
                                                            <li *ngFor="let overtimeType of overtimeTypeList">
                                                                <a class="dropdown-item"
                                                                    (click)="selectOvertimeType(overtimeType)">{{
                                                                    overtimeType.type
                                                                    }}</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <ng-template #deductionType>

                                                    <!-- <div class="dudct-type" >
                                                        <label for="exampleInputEmail1" class="pb-2">Deduction Type</label>
                                                        <div class="dropdown">
                                                            <button class="btn btn-secondary dropdown-toggle new-dropdown"
                                                                type="button" id="dropdownMenuButton1"
                                                                data-bs-toggle="dropdown" aria-expanded="false"
                                                                style=" text-align: left; background-color: white; color: black; border-color: #ced4da; width: 100%;">
                                                                {{ selectedDeductionType ? selectedDeductionType.type :
                                                                "Select deduction type" }}
                                                                <i class="bi bi-chevron-down"></i>
                                                            </button>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                                                                style="width: 100%">
                                                                <li *ngFor="let deductionType of deductionTypeList">
                                                                    <a class="dropdown-item"
                                                                        (click)="selectDeductionType(deductionType)">{{
                                                                        deductionType.type
                                                                        }}</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div> -->

                                                    <div class="dudct-type" >
                                                        <label for="exampleInputEmail1" class="pb-2">Deduction Type</label>
                                                        <div class="dropdown">
                                                          <button class="btn btn-secondary dropdown-toggle new-dropdown"
                                                              type="button" id="dropdownMenuButton1"
                                                              data-bs-toggle="dropdown" aria-expanded="false"
                                                              style=" text-align: left; background-color: white; color: black; border-color: #ced4da; width: 100%;">
                                                              {{ selectedDeductionType?.type || "Select deduction type" }}
                                                              <i class="bi bi-chevron-down"></i>
                                                          </button>
                                                          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%">
                                                            <li *ngFor="let deductionType of deductionTypeList">
                                                              <a class="dropdown-item" (click)="selectDeductionType(deductionType)">
                                                                {{ deductionType.type }}
                                                              </a>
                                                            </li>
                                                          </ul>
                                                        </div>
                                                    </div>
                                                      
                                                </ng-template>

                                                

                                                <div id="amount-in-rupees">
                                                    <label for="exampleInputEmail1" class="pb-2">Amount in
                                                        rupees:</label>
                                                    <div class="d-flex" style="gap:20px">

                                                        <input type="number" class="form-control"
                                                            aria-describedby="emailHelp"
                                                            placeholder="Enter the amount here"
                                                            [(ngModel)]="attendanceRuleDefinitionRequest!.customSalaryDeduction!.amountInRupees">
                                                    </div>
                                                </div>
                                                <!-- <div class="delete-btn">
                                            <i class="bi bi-trash"></i>
                                        </div> -->
                                            </div>

                                            <div class="mt-3">
                                                <div class="form-check ">
                                                    <input class="form-check-input" style="cursor: pointer;" type="checkbox" value=""
                                                        id="Occurrences" [checked]="isFull" (click)="showFullDay()">
                                                    <label class="form-check-label" #Occurrences for="Occurrences">
                                                        Set Occurrences
                                                    </label>
                                                </div>

                                                <div class="d-flex align-items-center mt-2" style="gap:10px;"
                                                    *ngIf="isFull">

                                                    <div class="dropdown">
                                                        <button class="btn btn-secondary dropdown-toggle new-dropdown"
                                                            type="button" id="dropdownMenuButton1"
                                                            data-bs-toggle="dropdown" aria-expanded="false"
                                                            style="
                                                    
                                                                                                                        text-align: right;
                                                                                                                        background-color: white;
                                                                                                                        color: black;
                                                                                                                        border-color: #ced4da;
                                                                                                                        width: 100%;">
                                                            {{ selectedOccurenceDropdownForCustomSalrayDeduction ? selectedOccurenceDropdownForCustomSalrayDeduction : "Selectoccurrence type" }}
                                                            <i class="bi bi-chevron-down"></i>
                                                        </button>
                                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                                                            style="width: 100px">
                                                            <li
                                                                *ngFor="let countDurationDropdown of countDurationDropdownList">
                                                                <a class="dropdown-item"
                                                                    (click)="selectOccurenceDropdownForCustomSalrayDeduction(countDurationDropdown)">{{
                                                                    countDurationDropdown
                                                                    }}</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="if-late d-flex align-items-center"
                                                        style="width: 100px; gap:10px;"
                                                        *ngIf="selectedOccurenceDropdownForCustomSalrayDeduction === 'Count'">
                                                        <!-- <label for="exampleInputEmail1" class="">Count</label> -->
                                                        <input type="text" class="form-control"
                                                            aria-describedby="emailHelp" placeholder="Count"
                                                            [(ngModel)]="attendanceRuleDefinitionRequest!.customSalaryDeduction!.occurrenceCount">
                                                            <span>times</span>
                                                    </div>

                                                    
                                                    <div id="occurrence-type-duration"
                                                        class="dudct-type d-flex align-items-center"
                                                        style="width: 135px; "
                                                        *ngIf="selectedOccurenceDropdownForCustomSalrayDeduction === 'Duration'">
                                                        <select id="hoursInput" name="hours" class="form-control" style=" width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px;" [(ngModel)]="attendanceRuleDefinitionRequest.customSalaryDeduction.occurrenceDurationHours" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.customSalaryDeduction)">
                                                            <option value="0">HH</option>
                                                            <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                          </select>
                                                          <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                  
                                                          <select id="minutesInput" name="minutes" class="form-control" style="width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.customSalaryDeduction.occurrenceDurationMinutes" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.customSalaryDeduction)">
                                                            <option value="0">MM</option>
                                                            <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                          </select>
                                                                                  
                                                          <span><b>hrs.</b></span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="mt-2">
                                            <div class="form-check pb-3">
                                                <input class="form-check-input" style="cursor: pointer;" type="checkbox" value="" id="staff"
                                                    [checked]="isdeductHalf" (click)="showeDeductHalf()">
                                                <label class="form-check-label" for="staff">
                                                    {{attendanceRuleResponse.halfDayRuleHeader}}
                                                </label>
                                            </div>

                                            <div class="dudtion-type" *ngIf="isdeductHalf">
                                                <div class="d-flex align-items-center" style="gap:20px">
                                                    <div class="if-late">
                                                        <label for="exampleInputEmail1" class="pb-2">{{attendanceRuleResponse.ruleSubHeader}}</label>
                                                        <!-- <div class="d-flex" style=" width: 145px; gap:20px; justify-content: center; align-items: center;" >
                                                            <input type="time" class="form-control"
                                                                aria-describedby="emailHelp" placeholder="Start Time"
                                                                [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.lateDuration">
                                                                <span>hrs.</span>
                                                        </div> -->

                                                        <div class="input-group">
                                                            <select id="hoursInput" name="hours" class="form-control" style="width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px;" [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.hours" (change)="onTimeChange(attendanceRuleDefinitionRequest.halfDaySalaryDeduction)">
                                                              <option value="0">HH</option>
                                                              <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                            </select>
                                                            <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                    
                                                            <select id="minutesInput" name="minutes" class="form-control" style="width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.minutes" (change)="onTimeChange(attendanceRuleDefinitionRequest.halfDaySalaryDeduction)">
                                                              <option value="0">MM</option>
                                                              <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                            </select>
                                                                                    
                                                            <span><b>hrs.</b></span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="mt-3">
                                                    <div class="form-check ">
                                                        <input class="form-check-input" style="cursor: pointer;" type="checkbox" value=""
                                                            id="Occurrences2" [checked]="isHalf"
                                                            (click)="showHalfDay()">
                                                        <label class="form-check-label" for="Occurrences2">
                                                            Set Occurrences
                                                        </label>
                                                    </div>
                                                    <div class="d-flex align-items-center mt-2" style="gap:10px;"
                                                        *ngIf="isHalf">


                                                        <div class="dropdown">
                                                            <button
                                                                class="btn btn-secondary dropdown-toggle new-dropdown"
                                                                type="button" id="dropdownMenuButton1"
                                                                data-bs-toggle="dropdown" aria-expanded="false"
                                                                style="
                                                        
                                                                                                                            text-align: right;
                                                                                                                            background-color: white;
                                                                                                                            color: black;
                                                                                                                            border-color: #ced4da;
                                                                                                                            width: 100%;">
                                                                {{ selectedOccurenceDropdownForHalfDaySalrayDeduction ?
                                                                selectedOccurenceDropdownForHalfDaySalrayDeduction :
                                                                "Select occurrence type" }}
                                                                <i class="bi bi-chevron-down"></i>
                                                            </button>
                                                            <ul class="dropdown-menu"
                                                                aria-labelledby="dropdownMenuButton1"
                                                                style="width: 100%">
                                                                <li
                                                                    *ngFor="let countDurationDropdown of countDurationDropdownList">
                                                                    <a class="dropdown-item"
                                                                        (click)="selectOccurenceDropdownForHalfDaySalrayDeduction(countDurationDropdown)">{{
                                                                        countDurationDropdown
                                                                        }}</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="if-late d-flex align-items-center"
                                                            style="width: 100px; gap:10px;"
                                                            *ngIf="selectedOccurenceDropdownForHalfDaySalrayDeduction === 'Count'">
                                                            <!-- <label for="exampleInputEmail1" class="">Count</label> -->
                                                            <input type="text" class="form-control"
                                                                aria-describedby="emailHelp" placeholder="Count"
                                                                [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.occurrenceCount">
                                                                <span>times</span>
                                                        </div>
                                                        <div id="occurrence-type-duration"
                                                            class="dudct-type d-flex align-items-center"
                                                            style="width: 135px; "
                                                            *ngIf="selectedOccurenceDropdownForHalfDaySalrayDeduction === 'Duration'">
                                                            <!-- <label for="exampleInputEmail1" class="">Time</label> -->
                                                            <select id="hoursInput" name="hours" class="form-control" style="width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px;" [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.occurrenceDurationHours" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.halfDaySalaryDeduction)">
                                                                <option value="0">HH</option>
                                                                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                              </select>
                                                              <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                      
                                                              <select id="minutesInput" name="minutes" class="form-control" style="width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.halfDaySalaryDeduction.occurrenceDurationMinutes" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.halfDaySalaryDeduction)">
                                                                <option value="0">MM</option>
                                                                <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                              </select>
                                                                                      
                                                              <span><b>hrs.</b></span>
                                                        </div>


                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-check pb-3">
                                                <input class="form-check-input" style="cursor: pointer;" type="checkbox" value="" id="selery"
                                                    [checked]="isfullDayy" (click)="showFullDayy()">
                                                <label class="form-check-label" for="selery">
                                                    {{attendanceRuleResponse.fullDayRuleHeader}}
                                                </label>
                                            </div>

                                            <div class="dudtion-type" *ngIf="isfullDayy">
                                                <div class="d-flex align-items-center" style="gap:20px">
                                                    <div class="if-late">
                                                        <label for="exampleInputEmail1" class="pb-2">{{attendanceRuleResponse.ruleSubHeader}}</label>
                                                        <!-- <div class="d-flex" style="width: 145px; gap:20px; justify-content: center; align-items: center;">
                                                            <input type="time" class="form-control"
                                                                aria-describedby="emailHelp" placeholder="Start Time"
                                                                [(ngModel)]="attendanceRuleDefinitionRequest.fullDaySalaryDeduction.lateDuration">
                                                                <span>hrs.</span>
                                                        </div> -->
                                                        
                                                        <div class="input-group">
                                                            <select id="hoursInput" name="hours" class="form-control" style="width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px;" [(ngModel)]="attendanceRuleDefinitionRequest.fullDaySalaryDeduction.hours" (change)="onTimeChange(attendanceRuleDefinitionRequest.fullDaySalaryDeduction)">
                                                              <option value="0">HH</option>
                                                              <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                            </select>
                                                            <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                    
                                                            <select id="minutesInput" name="minutes" class="form-control" style="width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.fullDaySalaryDeduction.minutes" (change)="onTimeChange(attendanceRuleDefinitionRequest.fullDaySalaryDeduction)">
                                                              <option value="0">MM</option>
                                                              <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                            </select>
                                                                                    
                                                            <span><b>hrs.</b></span>
                                                        </div>
                                                    </div>
                                                    
                                                </div>

                                                <div class="mt-3">
                                                    <div class="form-check ">
                                                        <input class="form-check-input" style="cursor: pointer;" type="checkbox" value=""
                                                            id="Occurrences3" [checked]="isBreak" (click)="showBreak()">
                                                        <label class="form-check-label" for="Occurrences3">
                                                            Set Occurrences
                                                        </label>
                                                    </div>
                                                    <div class="d-flex align-items-center mt-2" style="gap:10px;"
                                                        *ngIf="isBreak">

                                                        <div class="dropdown">
                                                            <button
                                                                class="btn btn-secondary dropdown-toggle new-dropdown"
                                                                type="button" id="dropdownMenuButton1"
                                                                data-bs-toggle="dropdown" aria-expanded="false"
                                                                style="
                                                        
                                                                                                                            text-align: right;
                                                                                                                            background-color: white;
                                                                                                                            color: black;
                                                                                                                            border-color: #ced4da;
                                                                                                                            width: 100%;">
                                                                {{ selectedOccurenceDropdownForFullDaySalrayDeduction ?
                                                                selectedOccurenceDropdownForFullDaySalrayDeduction :
                                                                "Select occurrence type" }}
                                                                <i class="bi bi-chevron-down"></i>
                                                            </button>
                                                            <ul class="dropdown-menu"
                                                                aria-labelledby="dropdownMenuButton1"
                                                                style="width: 100%">
                                                                <li
                                                                    *ngFor="let countDurationDropdown of countDurationDropdownList">
                                                                    <a class="dropdown-item"
                                                                        (click)="selectOccurenceDropdownForFullDaySalrayDeduction(countDurationDropdown)">{{
                                                                        countDurationDropdown
                                                                        }}</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="if-late d-flex align-items-center"
                                                            style="width: 100px; gap:10px;"
                                                            *ngIf="selectedOccurenceDropdownForFullDaySalrayDeduction === 'Count'">
                                                            <!-- <label for="exampleInputEmail1" class="">Count</label> -->
                                                            <input type="text" class="form-control"
                                                                aria-describedby="emailHelp" placeholder="Count"
                                                                [(ngModel)]="attendanceRuleDefinitionRequest!.fullDaySalaryDeduction!.occurrenceCount">
                                                                <span>times</span>
                                                        </div>
                                                        <div class="dudct-type d-flex align-items-center"
                                                            style="width: 135px; gap:10px;"
                                                            *ngIf="selectedOccurenceDropdownForFullDaySalrayDeduction === 'Duration'">
                                                            <!-- <label for="exampleInputEmail1" class="">Time</label> -->
                                                            <select id="hoursInput" name="hours" class="form-control" style="width: 40px; padding: 0px; text-align: center; margin-right: 0px; border-radius: 6px 0px 0px 6px;" [(ngModel)]="attendanceRuleDefinitionRequest.fullDaySalaryDeduction.occurrenceDurationHours" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.fullDaySalaryDeduction)">
                                                                <option value="0">HH</option>
                                                                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
                                                              </select>
                                                              <span style="background-color: #fff; height: 40px; line-height: 34px;">:</span>
                                                                                      
                                                              <select id="minutesInput" name="minutes" class="form-control" style="width: 40px; padding: 0px; text-align: center; border-radius: 0px 6px 6px 0px;" [(ngModel)]="attendanceRuleDefinitionRequest.fullDaySalaryDeduction.occurrenceDurationMinutes" (change)="onTimeChangeForOccerrenceDuration(attendanceRuleDefinitionRequest.fullDaySalaryDeduction)">
                                                                <option value="0">MM</option>
                                                                <option *ngFor="let minute of minutes" [value]="minute">{{ minute }}</option>
                                                              </select>
                                                                                      
                                                              <span><b>hrs.</b></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                    <div class="modal-footer d-flex align-items-center justify-content-end">
                                        <button type="button" class="btn btn-outline-primary" (click)="staffActiveTabMethod()">Next</button>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="profile" role="tabpanel">
                                    <div class="staf-list-box mt-3">


                                        <div class="row mb-3">

                                            <div class="col-md-6">
                                                <div>
                                                    <h5>Userlist <span style="color: #4761f6; background-color: #d1d6f2; padding: 5px; border-radius: 5px" ><b>{{total}}</b></span></h5>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <form novalidate="" role="search" (submit)="searchUsers()"
                                                    class="searching ng-untouched ng-pristine ng-valid">
                                                    <div class="form-group" style="position: relative">
                                                        <input type="text" id="searchText"
                                                            placeholder="Search by name and role"
                                                            class="form-control me-2 ng-untouched ng-pristine ng-valid"
                                                            (keyup)="searchUsers()" [(ngModel)]="searchText"
                                                            [ngModelOptions]="{ standalone: true }"
                                                            style="padding: 10px 50px 10px 30px;">
                                                        <button type="button" class="btn close-btn">
                                                            <i class="bi bi-x"></i>
                                                        </button>
                                                        <i class="bi bi-search search-icon"
                                                            style="position: absolute; top: 50%; transform: translateY(-50%); left: 10px;"></i>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>

                                        <div style="display: flex; justify-content: space-between; align-items : center;">

                                            <!-- <th style="width:0%; ">
                                                <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                                       [(ngModel)]="isAllUsersSelected"
                                                       (change)="selectAllUsers($event)">
                                            </th> -->
                                            <div *ngIf="selectedStaffsUuids.length > 0">
                                                <ng-container *ngIf="selectedStaffsUuids.length === total; else elseCondition2">
                                                    <span (click)="unselectAllUsers()" style="cursor: pointer; color: #EB5050; background-color: #FCF1F1; padding: 8px; border-radius: 5px;">Clear all users <i class="bi bi-x"></i></span>
                                                </ng-container>
                                                <ng-template #elseCondition2>
                                                    <span (click)="selectAllUsers(true)" style="cursor: pointer; color: #4761F6; background-color: #EEF1FF; padding: 8px; border-radius: 5px;">Select all {{total}} users</span>
                                                </ng-template>
                                            </div>

                                            <div *ngIf="selectedStaffsUuids.length !== 0">
                                                <ng-container *ngIf="selectedStaffsUuids.length === total; else elseCondition1">
                                                    <span>All <b>{{total}}</b> users selected</span>
                                                </ng-container>
                                                <ng-template #elseCondition1>
                                                    <span><b>{{selectedStaffsUuids.length}}</b> selected of <b>{{total}}</b></span>
                                                    <span style="cursor:pointer;"(click)="unselectAllUsers()"><i class="bi bi-x"></i></span>
                                                </ng-template>
                                            </div>
                                            
                                            
                                        </div>

                                        <table class="table">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th style="width:0%;">
                                                        <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                                            [(ngModel)]="isAllSelected"
                                                            (change)="selectAll(isAllSelected)">
                                                    </th>
                                                    <!-- <th style="width:25%; padding: 12px 15px;">S. No.</th> -->
                                                    <th style="width:25%; padding: 12px 15px;">Name</th>
                                                    <th style="width:25%; padding: 12px 15px;">Email</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let staff of staffs | paginate: {itemsPerPage: itemPerPage, currentPage: pageNumber, totalItems: total} "
                                                    style="border-bottom: 1px solid #dddddd;">
                                                    <td>
                                                        <div class="form-check">
                                                            <input type="checkbox" style="cursor: pointer;" class="form-check-input"
                                                                [(ngModel)]="staff.selected"
                                                                (change)="checkIndividualSelection()">
                                                        </div>
                                                    </td>
                                                    <!-- <td style="padding: 12px 15px;">{{ i+1 }}</td> -->
                                                    <td style="padding: 12px 15px;">{{ staff.name }}</td>
                                                    <td style="padding: 12px 15px;">{{ staff.email }}</td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- *ngIf="staffs.length > 8" -->
                                    <div class="pagination pl-3">
                                        <p class="mb-0" style="padding-left: 15px">
                                            Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                                            {{ total }} teams
                                        </p>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <nav aria-label="Page navigation example">
                                                    <ul class="pagination justify-content-end">
                                                        <li class="page-item" [class.disabled]="pageNumber == 1">
                                                            <a class="page-link" href="javascript:void(0);"
                                                                aria-label="Previous" (click)="changePage('prev')">
                                                                <span aria-hidden="true">&laquo;</span>
                                                            </a>
                                                        </li>
                                                        <li class="page-item" *ngFor="let page of getPages()"
                                                            [class.active]="pageNumber == page">
                                                            <a class="page-link" href="javascript:void(0);"
                                                                (click)="changePage(page)">{{ page }}</a>
                                                        </li>
                                                        <li class="page-item" [class.disabled]="pageNumber == totalPages">
                                                            <a class="page-link" href="javascript:void(0);" aria-label="Next"
                                                                (click)="changePage('next')">
                                                                <span aria-hidden="true">&raquo;</span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </nav>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="back-and-submit">
                                        <div class="modal-footer d-flex align-items-center justify-content-end">
                                            <button type="button" class="btn btn-outline-primary" (click)="ruleActiveTabMethod()">Back</button>
                                        </div>
                                        <div class="modal-footer d-flex align-items-center justify-content-end">
                                            <button type="button" class="btn btn-primary"
                                                (click)="registerAttendanceRuleDefinitionMethodCall()">Submit</button>
                                        </div>
                                    </div>
                                </div>

                                

                            </div>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="rule-section">

                            <div class="tracking-body">
                                <ul class="tracking-steps ">
                                    <li class="tracking-item tracking-itemActive newline">
                                        <div class="d-flex new-stap">
                                            <div class="tracing-icon active">                        
                                                <i class="bi bi-check2"></i></div>
                                            <div class="tracking-data">
                                                <p>Create your first rule</p>
                                                <div>
                                                    <span>
                                                        Automate Late fine for employee
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- <li class="tracking-item" [ngClass]="tracking-itemActive newline: activeModel"> -->
                                    <li class="tracking-item" [ngClass]="{'tracking-itemActive newline': activeModel}">
                                        <div class="d-flex align-items-center new-stap">
                                            <div
                                                class="tracing-icon" [ngClass]="{active: activeModel}">
                                                <span *ngIf="activeModel">
                                                <i class="bi bi-check2"></i>
                                                </span>
                                                   <span *ngIf="!activeModel">2</span>
                                                </div>
                                            <!-- <div class="tracing-icon">2 -->
                                                <!-- <i class="bi bi-check2"></i> -->
                                            <!-- </div> -->
                                            <div class="tracking-data">
                                                <p>Set a rule value</p>
                                                <div>
                                                    <span>Set a value for your rule type.</span>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="tracking-item">
                                        <div class="d-flex new-stap">
                                            <div
                      class="tracing-icon"
                      [ngClass]="{ active: activeModel2}"
                    >
                    <span *ngIf="activeModel2">
                      <i class="bi bi-check2"></i>
                    </span>
                    <span *ngIf="!activeModel2">3</span>
                    </div>
                                            <!-- <div class="tracing-icon">3 -->
                                                <!-- <i class="bi bi-check2"></i> -->
                                            <!-- </div> -->
                                            <div class="tracking-data">
                                                <p>Assign Staff</p>
                                                <div>
                                                    <span>
                                                        Automate Late fine for employee
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="modal-footer d-flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary"
                    (click)="registerAttendanceRuleDefinitionMethodCall()">Submit</button>
            </div> -->
        </div>
    </div>
</div>





<div class="modal fade" id="create-rule" tabindex="-1" role="dialog" aria-labelledby="exampleModalDefaultLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="exampleModalDefaultLabel"> Late Entry Rules </h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <!-- <div class="row">
                  <div class="col-md-8">
                   <div class="">

                    <ul id="myTab" role="tablist" class="nav nav-tabs">
                        <li role="presentation" class="nav-item">
                            <button id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true" class="nav-link active">Rules</button>
                        </li>
                            <li role="presentation" class="nav-item">
                                <button id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false" class="nav-link">Staff selection</button>
                            </li>
                    </ul>

                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="home" role="tabpanel">
                            <div class="rules-main">
                                <div class="form-check pb-3">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked="">
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Deduct selery if staff is late by more then
                                    </label>
                                </div>

                                <div class="dudtion-type">
                                    <div class="d-flex align-items-center" style="gap:20px">
                                        <div class="if-late">
                                            <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                            <div class="d-flex" style="gap:20px">
                                                <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                            </div>
                                        </div>
                                        <div class="dudct-type">
                                            <label for="exampleInputEmail1" class="pb-2">Deduction Type</label>
                                            <div class="dropdown" style="width: 100%;">
                  
                                                <button class="btn btn-secondary dropdown-toggle new-deopdown" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                                                    Deduction Type <i class="bi bi-chevron-down"></i>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%;">
                                                  <li><a class="dropdown-item">Per minutes</a></li>
                                                  <li><a class="dropdown-item">Fixed amount</a></li>
                                                  
                                                </ul>
                                              </div>
                                        </div>
                                       
                                    </div>

                                    <div class="mt-3">
                                        <div class="form-check " >
                                            <input class="form-check-input" type="checkbox" value="" id="Occurrences" [checked]="isFull" (click)="showFullDay()">
                                            <label class="form-check-label" #Occurrences for="Occurrences"  >
                                                Set Occurrences
                                            </label>
                                        </div>

                                        <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isFull">
                                            <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                <label for="exampleInputEmail1" class="">Count</label>
                                                <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                            </div>
                                            <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                <label for="exampleInputEmail1" class="">Time</label>
                                                <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="mt-2">
                                    <div class="form-check pb-3">
                                        <input class="form-check-input" type="checkbox" value="" id="staff" [checked]="isdeductHalf" (click)="showeDeductHalf()">
                                        <label class="form-check-label" for="staff"> 
                                            Deduct half day selery if staff is late by more then
                                        </label>
                                    </div>

                                    <div class="dudtion-type" *ngIf="isdeductHalf">
                                        <div class="d-flex align-items-center" style="gap:20px">
                                            <div class="if-late">
                                                <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                                <div class="d-flex" style="gap:20px">
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                                </div>
                                            </div>

                                        </div>
    
                                        <div class="mt-3">
                                            <div class="form-check ">
                                                <input class="form-check-input" type="checkbox" value="" id="Occurrences2" [checked]="isHalf" (click)="showHalfDay()">
                                                <label class="form-check-label" for="Occurrences2">
                                                    Set Occurrences
                                                </label>
                                            </div>
                                            <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isHalf">
                                                <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Count</label>
                                                    <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                                </div>
                                                <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Time</label>
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                                </div>
                                            </div>
                                        </div>
    
                                    </div>
                                    <div class="form-check pb-3">
                                        <input class="form-check-input" type="checkbox" value="" id="selery" [checked]="isfullDayy" (click)="showFullDayy()">
                                        <label class="form-check-label" for="selery">
                                            Deduct half day selery if staff is late by more then
                                        </label>
                                    </div>

                                    <div class="dudtion-type" *ngIf="isfullDayy">
                                        <div class="d-flex align-items-center" style="gap:20px">
                                            <div class="if-late">
                                                <label for="exampleInputEmail1" class="pb-2">If staff is late by</label>
                                                <div class="d-flex" style="gap:20px">
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="Start Time">
                                                </div>
                                            </div>
                                           
                                        </div>
    
                                        <div class="mt-3">
                                            <div class="form-check ">
                                                <input class="form-check-input" type="checkbox" value="" id="Occurrences3" [checked]="isBreak" (click)="showBreak()">
                                                <label class="form-check-label" for="Occurrences3">
                                                    Set Occurrences
                                                </label>
                                            </div>
                                            <div class="d-flex align-items-center mt-2" style="gap:10px;" *ngIf="isBreak">
                                                <div class="if-late d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Count</label>
                                                    <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Count">
                                                </div>
                                                <div class="dudct-type d-flex align-items-center" style="width: 150px; gap:10px;">
                                                    <label for="exampleInputEmail1" class="">Time</label>
                                                    <input type="time" class="form-control" aria-describedby="emailHelp" placeholder="">
                                                </div>
                                            </div>
                                        </div>
    
                                    </div>

                                    
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="profile" role="tabpanel">

                            <div class="staf-list-box mt-3">
                                <table class="table">
                                    <thead class="thead-light table-design">
                                        <tr>
                                            <th style="width:10%;">
                                                <div class="form-check">
                                                    <input type="checkbox" name="chk_child" class="form-check-input">
                                                    <label class="form-check-label"></label>
                                                </div>
                                            </th>
                                            <th style="width:10%;">Name</th>
                                            <th style="width:10%;">Email</th>
                                            <th style="width:10%;">Phone</th>
                                        </tr>
                                    </thead>
                                    <tbody class="table-design">
                                        <tr>
                                            <td>
                                                <div class="form-check">
                                                    <input type="checkbox" name="chk_child" class="form-check-input">
                                                    <label class="form-check-label"></label>
                                                </div>
                                            </td>
                                            <td><h4 class="mb-0 staf-names">Yogesh Kumar</h4></td>
                                            <td class="staf-names">Yogesh@krenai.com</td>
                                            <td class="staf-names">9549901868</td>
                                        </tr>
                                    </tbody>

                                </table>

                            </div>

                        </div>

                    </div>

                   </div>
                  </div>
                  <div class="col-md-4">
                    <div class="rule-section">
                        <div class="rule-box">
                            <input type="radio" name="customizeimagesize" id="customizeimagesize366" class="d-none">
                            <label class="d-flex categryCustomizecard align-items-start">
                              
                              
                                    <div class="">
                                        <div class="slect-radio planselected d-flex position-relative">
                                          
                                            <img src="assets/images/slect-radio.svg" alt="">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="categryCustomizeinfo">
                                            <label for="customizeimagesize366" class="mb-0">
                                                <h3>Create your first rule</h3>
                                                <p>Automate Late fine for employee who are coming late to work</p>
                                            </label>
                                        </div>
                                    </div>
                            </label>
                            </div>
    
    
                            <div class="rule-box">
                                <input type="radio" name="customizeimagesize" id="customizeimagesize367" class="d-none">
                                <label class="d-flex categryCustomizecard align-items-start">
                                  
                                  
                                        <div class="">
                                            <div class="slect-radio planselected d-flex position-relative">
                                            
                                                <img src="assets/images/slect-radio.svg" alt="">
                                            </div>
                                        </div>
                                        <div class="">
                                            <div class="categryCustomizeinfo">
                                                <label for="customizeimagesize367" class="mb-0">
                                                    <h3>Set a rule value</h3>
                                                    <p>Set a value for your rule type.</p>
                                                </label>
                                            </div>
                                        </div>
                                </label>
                                </div>
    
                                <div class="rule-box">
                                    <input type="radio" name="customizeimagesize" id="customizeimagesize368" class="d-none">
                                    <label class="d-flex categryCustomizecard align-items-start">
                                      
                                      
                                            <div class="">
                                                <div class="slect-radio planselected d-flex position-relative">
                                               
                                                    <img src="assets/images/slect-radio.svg" alt="">
                                                </div>
                                            </div>
                                            <div class="">
                                                <div class="categryCustomizeinfo">
                                                    <label for="customizeimagesize368" class="mb-0">
                                                        <h3> Assign Staff</h3>
                                                        <p>Automate Late fine for employee who are coming late to work</p>
                                                    </label>
                                                </div>
                                            </div>
                                    </label>
                                    </div>
                    </div>
                  </div>
                </div>                                                       -->
            </div>
            <div class="modal-footer d-flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>
</div>