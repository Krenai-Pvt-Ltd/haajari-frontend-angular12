<div class="page-wrapper">
  <!-- Page Content-->
  <div class="page-content-tab">
    <div class="container-fluid">
      <div class="row">
        <div
          class="d-flex align-items-center justify-content-center flex-column attendance-details-section"
        >
          <img
            src="assets/images/attendance-details-img.svg"
            style="width: 200px"
          />
          <h5 class="font-18 mt-4">Team is on Holiday Today</h5>
          <p class="font-13 text-center">
            Your team is not available today as they<br />
            are on a scheduled holiday.
          </p>
        </div>

        <div
          class="col-md-12 search-area mt-4"
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div class="col-md-6">
            <div
              class="date-all-approved d-flex align-items-center"
              style="gap: 20px"
            >
              <ng-container
                *ngIf="
                  ACTIVE_TAB == ATTENDANCE_TAB;
                  else attendanceSectionOtherTabCondition
                "
              >
                <span
                  id="attendance-date"
                  class="approved-left active-color"
                  (click)="selectPreviousDay()"
                  ><i class="bi bi-chevron-left"></i
                ></span>
                <div class="attendance-date">
                  <p class="text-start attendance-date">Attendance Date</p>
                  <nz-date-picker
                    class="attendance-date"
                    nzMode="date"
                    [nzSize]="size"
                    [(ngModel)]="selectedDate"
                    (ngModelChange)="onDateChange($event)"
                    [nzDisabledDate]="disableDates"
                  ></nz-date-picker>
                </div>
                <span
                  id="attendance-date"
                  class="approved-right active-color"
                  (click)="selectNextDay()"
                  ><i class="bi bi-chevron-right"></i
                ></span>
              </ng-container>
              <ng-template #attendanceSectionOtherTabCondition>
                <span
                  id="attendance-date"
                  class="approved-left active-color"
                  (click)="selectPreviousMonth()"
                  ><i class="bi bi-chevron-left"></i
                ></span>
                <div class="attendance-date">
                  <p class="text-start attendance-date">Month Selection</p>
                  <nz-date-picker
                    class="attendance-date"
                    nzMode="month"
                    [nzSize]="size"
                    [(ngModel)]="selectedDate"
                    (ngModelChange)="onMonthChange($event)"
                    [nzDisabledDate]="disableMonths"
                  ></nz-date-picker>
                </div>
                <span
                  id="attendance-date"
                  class="approved-right active-color"
                  (click)="selectNextMonth()"
                  ><i class="bi bi-chevron-right"></i
                ></span>
              </ng-template>
            </div>
          </div>
          <!-- <div class="add-filtter d-flex align-items-center justify-content-end" style="gap: 10px">
            <a data-bs-toggle="modal" data-bs-target="#unprocessedLogsModal" class="d-flex align-items-center justify-content-start gap-2" *ngIf="((ROLE | async) === ADMIN) || (ROLE | async) === MANAGER" (click)="getAttendanceRequestsData()">Unprocessed Logs <i class="bi bi-list-ol"></i>    
              <span *ngIf="attendanceRequestCount > 0" class="badge bg-danger rounded-circle">
              {{ attendanceRequestCount }}
            </span>
          </a>
            <p style="color: #a1a0a0; margin-bottom: 0px" *ngIf="(ROLE | async) === ADMIN">|</p>
            <a (click)="downloadAttedanceReport(selectedDate)" *ngIf="(ROLE | async) === ADMIN">Daily Report <i
              style="
                font-size: 16px;
                color: #6666f3;
                height: 1rem;
                width: 1rem;
              "
              [ngClass]="{
                'spinner-border': rotateToggle,
                'bi bi-download': !rotateToggle
              }"
            ></i></a>
            <p style="color: #a1a0a0; margin-bottom: 0px" *ngIf="(ROLE | async) === ADMIN">|</p>
            <a routerLink="/setting/attendance-setting" *ngIf="(ROLE | async) === ADMIN">Settings <i class="bi bi-gear"></i></a>
          </div> -->
          <div
            class="d-flex align-items-center justify-content-center attendance-section-tab"
          >
            <a
              (click)="changeTab(ATTENDANCE_TAB)"
              [ngClass]="{ 'active-tab': ACTIVE_TAB == ATTENDANCE_TAB }"
              >Attendance</a
            >
            <a
              (click)="changeTab(OVERTIME_TAB)"
              [ngClass]="{ 'active-tab': ACTIVE_TAB == OVERTIME_TAB }"
              >Overtime</a
            >
            <a
              (click)="changeTab(ATTENDANCE_UPDATE_REQUEST_TAB)"
              [ngClass]="{
                'active-tab': ACTIVE_TAB == ATTENDANCE_UPDATE_REQUEST_TAB
              }"
              >Updation request</a
            >
          </div>
        </div>
      </div>

      <div class="tab-content">
        <div class="row" *ngIf="ACTIVE_TAB == ATTENDANCE_TAB">
          <div class="attendance-sheet mt-4">
            <div class="row">
              <div
                class="col-md-6 d-flex align-items-center justify-content-end"
              >
                <div class="all-approved">
                  <!-- <p class="mb-0">
                    <i
                      class="bi bi-check-circle-fill"
                      style="padding-right: 5px"
                    ></i>
                    All Approved
                  </p> -->
                </div>
              </div>
            </div>
            <div class="attendance-deta mb-2 mt-3">
              <div class="d-flex align-items-center justify-content-between">
                <div class="staf">
                  <p>Total Staff</p>
                  <h5>{{ attendanceDetailsCountResponse.totalUsers }}</h5>
                </div>
                <div class="staf">
                  <p>Present</p>
                  <h5>{{ attendanceDetailsCountResponse.presentUsers }}</h5>
                </div>
                <div class="staf">
                  <p>Absent</p>
                  <h5>{{ attendanceDetailsCountResponse.absentUsers }}</h5>
                </div>
                <div class="staf">
                  <p>Not Marked</p>
                  <h5>{{ attendanceDetailsCountResponse.unmarkedUsers }}</h5>
                  <!-- <h5>{{halfDayUsers}}</h5> -->
                </div>
                <div class="staf">
                  <p>Half Day</p>
                  <h5>{{ attendanceDetailsCountResponse.halfDayUsers }}</h5>
                </div>
                <div class="staf">
                  <p>OverTime</p>
                  <h5>{{ attendanceDetailsCountResponse.overTimeUsers }}</h5>
                </div>
                <div class="staf">
                  <p>On Leave</p>
                  <h5>{{ attendanceDetailsCountResponse.usersOnLeave }}</h5>
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="!showPlaceholder; else notShowPlaceholder">
            <div class="search-bar pt-2 pb-2 mt-3">
              <div class="row m-0">
                <div
                  class="col-md-12 d-flex align-items-center"
                  style="border: 1px solid #f1f1f1"
                >
                  <div class="" style="width: 200px">
                    <div class="" style="position: relative">
                      <div class="dropdown" style="width: 100%">
                        <button
                          type="button"
                          id="dropdownMenuButton1"
                          data-bs-toggle="dropdown"
                          aria-expanded="false"
                          class="btn btn-secondary dropdown-toggle new-deopdown"
                        >
                          {{ filterCriteria }}
                          <i
                            class="bi bi-chevron-down"
                            style="color: #444; font-size: 15px"
                          ></i>
                        </button>
                        <ul
                          aria-labelledby="dropdownMenuButton1"
                          class="dropdown-menu"
                          style="width: 100%"
                        >
                          <li
                            *ngFor="
                              let filterCriteriaIterator of filterCriteriaList
                            "
                          >
                            <a
                              class="dropdown-item"
                              (click)="
                                selectFilterCriteria(filterCriteriaIterator)
                              "
                            >
                              {{ filterCriteriaIterator }}
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="searchbr-ui w-100" id="attendanceDataTopbar">
                    <form
                      novalidate=""
                      role="search"
                      (submit)="searchUsers($event)"
                      class="searching ng-untouched ng-pristine ng-valid"
                    >
                      <div class="form-group" style="position: relative">
                        <input
                          type="text"
                          id="searchText"
                          placeholder="Search by name and role"
                          class="form-control me-2 ng-untouched ng-pristine ng-valid attendance-details-search"
                          (keyup)="searchUsers($event)"
                          [(ngModel)]="searchText"
                          [ngModelOptions]="{ standalone: true }"
                          style="padding: 10px 40px"
                        />
                        <button
                          *ngIf="searchText.length !== 0"
                          type="button"
                          class="btn close-btn"
                          (click)="clearSearchText()"
                        >
                          <i class="bi bi-x mt-auto mb-auto pl-3"></i>
                        </button>
                        <i
                          class="bi bi-search search-icon"
                          style="margin: auto; margin-left: 15px"
                        ></i>
                      </div>
                    </form>
                  </div>
                </div>
                <!-- <div class="col-md-3">
                
              </div> -->
              </div>
            </div>

            <div>
              <ng-container
                *ngIf="
                  isShimmerForAttendanceDetailsResponse &&
                    !dataNotFoundForAttendanceDetailsResponse &&
                    !networkConnectionErrorForAttendanceDetailsResponse;
                  else attendanceDetailsResponseData
                "
              >
                <div
                  class="monthly-section mt-3"
                  *ngFor="let item of [].constructor(6)"
                >
                  <div class="row">
                    <div class="col-md-6">
                      <div class="m">
                        <ngx-shimmer-loading
                          [width]="'30%'"
                          [height]="'15px'"
                        ></ngx-shimmer-loading>
                      </div>
                      <div class="mt-1">
                        <ngx-shimmer-loading
                          [width]="'40%'"
                          [height]="'15px'"
                        ></ngx-shimmer-loading>
                      </div>
                      <div class="mt-1">
                        <ngx-shimmer-loading
                          [width]="'35%'"
                          [height]="'15px'"
                        ></ngx-shimmer-loading>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="row">
                        <div
                          class="col-md-4"
                          *ngFor="let item of [].constructor(6)"
                        >
                          <div class="">
                            <ngx-shimmer-loading
                              [width]="'100%'"
                              [height]="'30px'"
                            ></ngx-shimmer-loading>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>

              <ng-template #attendanceDetailsResponseData>
                <ng-container
                  *ngIf="
                    attendanceDetailsResponseList !== null &&
                      attendanceDetailsResponseList !== undefined &&
                      attendanceDetailsResponseList.length !== 0 &&
                      !dataNotFoundForAttendanceDetailsResponse &&
                      !networkConnectionErrorForAttendanceDetailsResponse;
                    else errorInFetchingAttendanceDetailsResponseData
                  "
                >
                  <div
                    class="monthly-section mt-3"
                    *ngFor="
                      let attendanceDetailsResponse of attendanceDetailsResponseList
                        | paginate
                          : {
                              itemsPerPage: itemPerPage,
                              currentPage: pageNumber,
                              totalItems: total
                            }
                    "
                  >
                    <div class="row">
                      <div class="col-md-6">
                        <div class="Regular-data">
                          <h5
                            class="route-to-userprofile"
                            (click)="
                              routeToUserProfile(attendanceDetailsResponse.uuid)
                            "
                          >
                            {{ attendanceDetailsResponse.name }}
                          </h5>
                          <p
                            [ngClass]="{
                              'in-time-color':
                                attendanceDetailsResponse.currentStatus ==
                                'Working',
                              'break-color':
                                attendanceDetailsResponse.currentStatus ==
                                  'On Break' ||
                                attendanceDetailsResponse.currentStatus ==
                                  'On Leave',
                              'out-time-color':
                                attendanceDetailsResponse.currentStatus ==
                                  'Checked Out' ||
                                attendanceDetailsResponse.currentStatus ==
                                  'Absent' ||
                                attendanceDetailsResponse.currentStatus ==
                                  'Not Marked'
                            }"
                          >
                            {{ attendanceDetailsResponse.currentStatus }}
                          </p>
                          <div class="add-note d-flex" style="gap: 10px">
                            <a
                              href=""
                              data-bs-toggle="modal"
                              data-bs-target="#addnotes"
                              (click)="
                                addNotesModel(attendanceDetailsResponse.uuid)
                              "
                            >
                              Add Note</a
                            >
                            <a>|</a>
                            <a
                              href=""
                              data-bs-toggle="modal"
                              data-bs-target="#viewlog"
                              (click)="viewLogs(attendanceDetailsResponse.uuid)"
                            >
                              View Logs</a
                            >
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="row position-relative">
                          <div class="col-md-4">
                            <div class="in-time">
                              <span>In </span><span>|</span>
                              <p class="mb-0">
                                {{
                                  attendanceDetailsResponse.checkInTime
                                    | timeFormat
                                }}
                              </p>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="in-time">
                              <span>Out </span> <span>|</span>
                              <p class="mb-0">
                                {{
                                  attendanceDetailsResponse.checkOutTime
                                    | timeFormat
                                }}
                              </p>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="in-time">
                              <span>Total Hours </span><span>|</span>
                              <p class="mb-0">
                                {{
                                  attendanceDetailsResponse.totalWorkingHours
                                    | durationFormat
                                }}
                              </p>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="in-time">
                              <span>Total Break</span> <span>|</span>
                              <p class="mb-0">
                                ({{ attendanceDetailsResponse.breakCount }})
                              </p>
                            </div>
                          </div>

                          <div
                            class="col-md-4"
                            *ngIf="attendanceDetailsResponse.breakCount !== 0"
                          >
                            <div
                              class="in-time total-break-time-box position-relativ"
                              (mouseover)="
                                getAttendanceDetailsBreakTimingsReportByDateByUserMethodCall(
                                  attendanceDetailsResponse
                                )
                              "
                            >
                              <span>Break Timings</span> <span>|</span>
                              <p class="mb-0">
                                &nbsp; &nbsp;<i
                                  style="color: black"
                                  id="dropdownMenuButton"
                                  class="bi bi-chevron-down"
                                ></i>
                              </p>
                              <div class="total-braek-time">
                                <div
                                  *ngIf="
                                    attendanceDetailsResponse.breakTimingsList !==
                                      null &&
                                      attendanceDetailsResponse.breakTimingsList !==
                                        undefined &&
                                      attendanceDetailsResponse.breakTimingsList
                                        .length !== 0;
                                    else errorInFetchingBreakTimings
                                  "
                                >
                                  <table class="table">
                                    <thead class="table-light">
                                      <tr>
                                        <th class="text-left">Break</th>
                                        <th class="text-left">Back</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr
                                        *ngFor="
                                          let breakTimings of attendanceDetailsResponse.breakTimingsList
                                        "
                                      >
                                        <td class="text-left">
                                          {{
                                            breakTimings.breakTime | timeFormat
                                          }}
                                        </td>
                                        <td class="text-left">
                                          {{
                                            breakTimings.backTime | timeFormat
                                          }}
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                                <ng-template #errorInFetchingBreakTimings>
                                </ng-template>
                              </div>
                            </div>
                          </div>

                          <div
                            class="col-md-4"
                            *ngIf="attendanceDetailsResponse.breakCount === 0"
                          >
                            <div class="in-time">
                              <span style="color: #009688"
                                >No breaks taken! üòê</span
                              >
                              <!-- <p class="mb-0">({{attendanceDetailsResponse.breakCount}}) </p> -->
                            </div>
                          </div>

                          <div class="col-md-4">
                            <div class="in-time">
                              <span>Total Hours </span><span>|</span>
                              <p class="mb-0">
                                {{
                                  attendanceDetailsResponse.totalBreakHours
                                    | durationFormat
                                }}
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </ng-template>

              <ng-template #errorInFetchingAttendanceDetailsResponseData>
                <div
                  class="errorboxmain"
                  *ngIf="networkConnectionErrorForAttendanceDetailsResponse"
                >
                  <div class="errorboxinner text-center">
                    <div class="errorboxplaceholder mb-2">
                      <img src="assets/images/signal.svg" style="width: 80px" />
                    </div>
                    <div class="">
                      <h4>Something went wrong</h4>
                      <p>
                        An error occurred while processing your request. Please
                        refresh the page and try again.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- <div class="errorboxmain" *ngIf="dataNotFoundForAttendanceDetailsResponse">
              <div class="errorboxinner text-center">
                <div class="errorboxplaceholder mb-2">
                  <img src="assets/images/empty-folder.svg" style="width: 80px" />
                </div>
    
                <h4>No Data Found</h4>
                <p>Sorry, We can't show you the data at this moment!</p>
              </div>
            </div> -->

                <div
                  class="empty-file"
                  style="margin-top: 6%"
                  *ngIf="dataNotFoundForAttendanceDetailsResponse"
                >
                  <nz-empty
                    nzNotFoundImage="assets/images/report-img.svg"
                    [nzNotFoundContent]="contentTpl"
                  >
                    <ng-template #contentTpl>
                      <p class="mb-1 empty-detail font-16">No data for now</p>
                    </ng-template>
                  </nz-empty>
                </div>
              </ng-template>

              <div
                class="modal fade bs-example-modal-center"
                id="addnotes"
                tabindex="-1"
                role="dialog"
                aria-labelledby="mySmallModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-centered mx-auto">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h6 class="modal-title m-0" id="exampleModalCenterTitle">
                        Add Notes
                      </h6>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      <div class="">
                        <div class="mb-3">
                          <label for="username" style="padding-bottom: 6px"
                            >Notes Title</label
                          >
                          <input
                            type="text"
                            id="username"
                            placeholder="Enter title ..."
                            name="username"
                            required=""
                            class="form-control ng-untouched ng-pristine ng-invalid"
                            [(ngModel)]="additionalNotes.title"
                          />
                        </div>
                        <div class="mb-3">
                          <label for="message" style="padding-bottom: 6px"
                            >Message</label
                          >
                          <textarea
                            class="form-control"
                            rows="5"
                            id="message"
                            style="height: 100px !important"
                            [(ngModel)]="additionalNotes.message"
                          ></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-de-secondary"
                        data-bs-dismiss="modal"
                        #addNotesModalClose
                      >
                        Close
                      </button>
                      <button
                        type="button"
                        class="btn btn-primary save-changes"
                        (click)="addAdditionalNotesMethodCall()"
                      >
                        Submit
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="modal fade"
                id="viewlog"
                tabindex="-1"
                role="dialog"
                aria-labelledby="exampleModalDefaultLabel"
                aria-hidden="true"
                #viewlog
              >
                <div
                  class="modal-dialog modal-dialog-centered mx-auto"
                  role="document"
                >
                  <div class="modal-content">
                    <div class="modal-header">
                      <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
                        Attendance Log
                      </h6>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <!-- modal-header -->
                    <div class="modal-body">
                      <div class="">
                        <div class="mt-2">
                          <div class="scroll-box-logs">
                            <ng-container
                              *ngIf="
                                isShimmer &&
                                  attendanceLogResponseList.length === 0 &&
                                  !dataNotFoundPlaceholder &&
                                  !networkConnectionErrorPlaceHolder;
                                else attendanceLogResponseData
                              "
                            >
                              <ul
                                class="loges-loding"
                                *ngFor="let item of [].constructor(5)"
                              >
                                <li>
                                  <h6>
                                    <ngx-shimmer-loading
                                      [width]="'90%'"
                                      [height]="'15px'"
                                    ></ngx-shimmer-loading>
                                  </h6>
                                  <h6 class="mt-1">
                                    <ngx-shimmer-loading
                                      [width]="'40%'"
                                      [height]="'10px'"
                                    ></ngx-shimmer-loading>
                                  </h6>
                                  <h6 class="mt-1">
                                    <ngx-shimmer-loading
                                      [width]="'60%'"
                                      [height]="'10px'"
                                    ></ngx-shimmer-loading>
                                  </h6>
                                </li>
                              </ul>
                            </ng-container>

                            <ng-template #attendanceLogResponseData>
                              <ng-container
                                *ngIf="
                                  attendanceLogResponseList.length !== 0 &&
                                    !dataNotFoundPlaceholder &&
                                    !networkConnectionErrorPlaceHolder;
                                  else errorInFetchingAttendanceLogData
                                "
                              >
                                <ul
                                  class="acitivity-timeline-2 list-unstyled mb-0"
                                  *ngFor="
                                    let attendanceLogResponse of attendanceLogResponseList
                                  "
                                >
                                  <li>
                                    <!-- in-time-color out-time-color break-color break-back-color -->
                                    <h6
                                      class="fs-md mt-0"
                                      *ngIf="
                                        attendanceLogResponse.operationPerformedBy !==
                                        null
                                      "
                                    >
                                      {{ attendanceLogResponse.operationType
                                      }}<span
                                        class="added-by"
                                        style="padding-left: 10px"
                                        >(Added By -
                                        {{
                                          attendanceLogResponse.operationPerformedBy
                                        }})</span
                                      >
                                    </h6>
                                    <h6
                                      class="fs-md mt-0 attendance-log"
                                      *ngIf="
                                        attendanceLogResponse.operationPerformedBy ===
                                        null
                                      "
                                      [ngClass]="{
                                        'in-time-color':
                                          attendanceLogResponse.operationType ==
                                          'in',
                                        'out-time-color':
                                          attendanceLogResponse.operationType ==
                                          'out',
                                        'break-color':
                                          attendanceLogResponse.operationType ==
                                          'break',
                                        'break-back-color':
                                          attendanceLogResponse.operationType ==
                                          'back'
                                      }"
                                    >
                                      <span>
                                        {{
                                          attendanceLogResponse.operationType
                                        }}
                                        |
                                        {{
                                          attendanceLogResponse.operationTime
                                            | timeFormat
                                        }}
                                      </span>
                                      <!-- <div class="icons">
                                      <i class="location-icon fas fa-map-marker-alt"
                                        *ngIf="attendanceLogResponse.latString!=null && attendanceLogResponse.longString!=null"
                                        (click)="openAddressModal(attendanceLogResponse.latString, attendanceLogResponse.longString)"></i>
                                      <i class="eye-icon fas fa-eye" *ngIf="attendanceLogResponse.imageUrlString!=null"
                                        (click)="openSelfieModal(attendanceLogResponse.imageUrlString)"></i>
                                    </div> -->
                                    </h6>
                                    <div
                                      style="
                                        display: block;
                                        margin-top: 5px;
                                        color: #6c757d;
                                      "
                                    >
                                      <span
                                        style="
                                          font-size: 13px;
                                          font-weight: 600;
                                          vertical-align: middle;
                                        "
                                      >
                                        <i
                                          class="bi bi-calendar3"
                                          style="margin-right: 5px"
                                        ></i>
                                        {{
                                          attendanceLogResponse.operationTime
                                            | dateFormat
                                        }}
                                        |
                                        {{
                                          attendanceLogResponse.operationTime
                                            | timeFormat
                                        }}
                                      </span>
                                    </div>
                                    <div
                                      class="d-flex align-items-center mb-2 mt-2 gap-3"
                                    >
                                      <p class="mb-0" style="font-size: 14px">
                                        <span><b>Notes</b></span
                                        ><span> : </span>
                                        {{
                                          attendanceLogResponse.additionalNotes
                                        }}
                                      </p>
                                    </div>
                                    <!-- <div class="icons">
                                    <i class="location-icon fas fa-map-marker-alt"
                                      *ngIf="attendanceLogResponse.latString!=null && attendanceLogResponse.longString!=null"
                                      (click)="openAddressModal(attendanceLogResponse.latString, attendanceLogResponse.longString)"></i>
                                    <i class="eye-icon fas fa-eye" *ngIf="attendanceLogResponse.imageUrlString!=null"
                                      (click)="openSelfieModal(attendanceLogResponse.imageUrlString)"></i>
                                  </div> -->
                                    <!-- Location as text -->
                                    <!-- <div *ngIf="attendanceLogResponse.latString != null && attendanceLogResponse.longString != null">    
                                        <p class="mb-0 mt-0" style="font-size: 14px">
                                          <span style="display: block; justify-content: space-between;"><b>Location: <i class="location-icon fas fa-map-marker-alt" style="display: flex; justify-content: flex-end;"
                                            *ngIf="attendanceLogResponse.latString!=null && attendanceLogResponse.longString!=null"
                                            (click)="openAddressModal(attendanceLogResponse.latString, attendanceLogResponse.longString)"></i></b>
                                          </span>  
                                          <span>{{ attendanceLogResponse.currentAddress || 'N/A'}}
                                          
                                          </span>
                                          
                                        </p>
    
                                      </div> -->
                                    <!-- Image -->
                                    <!-- <div *ngIf="attendanceLogResponse.imageUrlString != null">
                                        <i class="eye-icon fas fa-eye" style="display: flex; justify-content: flex-end;" *ngIf="attendanceLogResponse.imageUrlString!=null"
                                            (click)="openSelfieModal(attendanceLogResponse.imageUrlString)"></i>
                                        <img [src]="attendanceLogResponse.imageUrlString" alt="User Image" style="max-width: 100px; max-height: 100px;">
                                      </div> -->

                                    <div
                                      class="card"
                                      *ngIf="
                                        attendanceLogResponse.latString !=
                                          null &&
                                        attendanceLogResponse.longString != null
                                      "
                                    >
                                      <div
                                        class="card-content justify-content-start"
                                      >
                                        <div
                                          class="image-section"
                                          *ngIf="
                                            attendanceLogResponse.imageUrlString !=
                                            null
                                          "
                                        >
                                          <img
                                            [src]="
                                              attendanceLogResponse.imageUrlString
                                            "
                                            alt="User Image"
                                            class="user-image"
                                          />
                                        </div>
                                        <div class="info-section">
                                          <div>
                                            <p class="mb-0 mt-0 location-text">
                                              <span><b>Location:</b></span>
                                              <span class="location-address">{{
                                                attendanceLogResponse.currentAddress ||
                                                  "N/A"
                                              }}</span>
                                            </p>
                                          </div>
                                          <div class="button-section btn-sm">
                                            <button
                                              class="btn-sm"
                                              *ngIf="
                                                attendanceLogResponse.imageUrlString !=
                                                null
                                              "
                                              (click)="
                                                openSelfieModal(
                                                  attendanceLogResponse.imageUrlString
                                                )
                                              "
                                              class="view-button"
                                            >
                                              View Selfie
                                            </button>
                                            <button
                                              class="btn-sm"
                                              *ngIf="
                                                attendanceLogResponse.latString !=
                                                  null &&
                                                attendanceLogResponse.longString !=
                                                  null
                                              "
                                              (click)="
                                                openAddressModal(
                                                  attendanceLogResponse.latString,
                                                  attendanceLogResponse.longString
                                                )
                                              "
                                              class="view-button"
                                            >
                                              View Location
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </li>
                                </ul>
                              </ng-container>
                            </ng-template>
                            <ng-template #errorInFetchingAttendanceLogData>
                              <div
                                class="empty-file"
                                *ngIf="dataNotFoundPlaceholder"
                              >
                                <div class="errorboxmain">
                                  <div class="errorboxinner">
                                    <div class="errorboxplaceholder mb-2">
                                      <img
                                        src="assets/images/empty-box.svg"
                                        style="width: 80px"
                                      />
                                    </div>
                                    <div class="">
                                      <h4>No Data Found</h4>
                                      <p class="mb-0">
                                        Attendance log doesn't exist for this
                                        user
                                      </p>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div
                                class="empty-file"
                                *ngIf="networkConnectionErrorPlaceHolder"
                              >
                                <div class="errorboxmain">
                                  <div class="errorboxinner text-center">
                                    <div class="errorboxplaceholder mb-2">
                                      <img
                                        src="assets/images/signal.svg"
                                        style="width: 80px"
                                      />
                                    </div>
                                    <div class="">
                                      <h4>Something went wrong</h4>
                                      <p>
                                        An error occurred while processing your
                                        request. Please refresh the page and try
                                        again.
                                      </p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </ng-template>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- modal-body -->
                    <!-- <div class="modal-footer d-flex align-items-center justify-content-end">
                    <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close" >
                      Cancel
                    </button>
                  </div> -->
                    <!-- modal-footer -->
                  </div>
                  <!-- modal-content -->
                </div>
                <!-- modal-dialog -->
              </div>
              <!-- modal -->

              <!-- Pagination -->
              <div
                class="pagination pl-3"
                *ngIf="
                  (total > 7 && attendanceDetailsResponseList.length > 7) ||
                  (pageNumber === lastPageNumber && lastPageNumber !== 1)
                "
              >
                <p class="mb-0" style="padding-left: 15px">
                  Showing {{ getStartIndex() }} - {{ getEndIndex() }} of
                  {{ total }} items
                </p>
                <div class="row">
                  <div class="col-md-12">
                    <nav aria-label="Page navigation example">
                      <ul class="pagination justify-content-end">
                        <li
                          class="page-item"
                          [class.disabled]="pageNumber == 1"
                        >
                          <a
                            class="page-link"
                            href="javascript:void(0);"
                            aria-label="Previous"
                            (click)="changePage('prev')"
                          >
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                        <li
                          class="page-item"
                          *ngFor="let page of getPages()"
                          [class.active]="pageNumber == page"
                        >
                          <a
                            class="page-link"
                            href="javascript:void(0);"
                            (click)="changePage(page)"
                            >{{ page }}</a
                          >
                        </li>
                        <li
                          class="page-item"
                          [class.disabled]="pageNumber == totalPages"
                        >
                          <a
                            class="page-link"
                            href="javascript:void(0);"
                            aria-label="Next"
                            (click)="changePage('next')"
                          >
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-template #notShowPlaceholder>
            <div class="errorboxmain">
              <div class="errorboxinner text-center">
                <div class="errorboxplaceholder mb-2">
                  <img src="assets/images/empty-box.svg" style="width: 80px" />
                </div>
                <div class="">
                  <h4>Data Not Found</h4>
                  <p></p>
                </div>
              </div>
            </div>
          </ng-template>
        </div>

        <div class="row" *ngIf="ACTIVE_TAB == OVERTIME_TAB">
          <div class="row p-2 mt-3">
            <div class="col-md-6">
              <div class="my-leave-log">
                <div class="my-leave-log-hedding">
                  <h4>Requests</h4>
                </div>
                <hr style="margin-bottom: 10px" />
                <ul class="nav nav-tabs bg-white" role="tablist">
                  <li class="nav-item" (click)="changeLogTabInOvertimeTab(OVERTIME_PENDING_REQUEST_TAB); getOvertimePendingRequestResponseByOrganizationUuidAndStartDateAndEndDateMethodCall();">
                    <a class="nav-link" [ngClass]="{'active': ACTIVE_TAB_IN_OVERTIME_TAB == OVERTIME_PENDING_REQUEST_TAB}" data-bs-toggle="tab" href="#overtime-pending-request" role="tab" aria-selected="true">Pending requests<span class="badge rounded-pill badge-outline-warning" style="margin-left: 10px" *ngIf="pendingRequestCount > 0">{{ pendingRequestCount }}</span></a>
                  </li>
                  <li
                    class="nav-item"
                    (click)="
                      changeLogTabInOvertimeTab(OVERTIME_HISTORY_TAB);
                      getOvertimeRequestResponseByOrganizationUuidAndStartDateAndEndDateMethodCall()
                    "
                  >
                    <a
                      class="nav-link"
                      [ngClass]="{
                        active:
                          ACTIVE_TAB_IN_OVERTIME_TAB == OVERTIME_HISTORY_TAB
                      }"
                      data-bs-toggle="tab"
                      href="#overtime-history"
                      role="tab"
                      aria-selected="false"
                      >Overtime History</a
                    >
                  </li>
                </ul>
                <div class="tab-content">
                  <div
                    class="pt-3 pb-3"
                    id="overtime-pending-request"
                    role=""
                    *ngIf="
                      ACTIVE_TAB_IN_OVERTIME_TAB == OVERTIME_PENDING_REQUEST_TAB
                    "
                  >
                    <ng-container
                      *ngIf="
                        isShimmerForOvertimePendingRequestResponse &&
                          overtimePendingRequestResponseList.length == 0 &&
                          !dataNotFoundForOvertimePendingRequestResponse &&
                          !networkConnectionErrorForOvertimePendingRequestResponse;
                        else overtimePendingRequestResponseListCondition
                      "
                    >
                    </ng-container>

                    <ng-template #overtimePendingRequestResponseListCondition>
                      <ng-container
                        *ngIf="
                          !isShimmerForOvertimePendingRequestResponse &&
                            overtimePendingRequestResponseList.length != 0 &&
                            !dataNotFoundForOvertimePendingRequestResponse &&
                            !networkConnectionErrorForOvertimePendingRequestResponse;
                          else errorWhileFetchingOvertimePendingRequestResponseListCondition
                        "
                      >
                        <div class="leave-history-box">
                          <div
                            class="row mt-2"
                            *ngFor="
                              let overtimePendingRequestResponse of overtimePendingRequestResponseList
                            "
                          >
                            <div class="col-auto">
                              <img
                                *ngIf="overtimePendingRequestResponse.userImage"
                                src="{{
                                  overtimePendingRequestResponse.userImage
                                }}"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                              <img
                                *ngIf="
                                  !overtimePendingRequestResponse.userImage
                                "
                                src="assets/images/user.png"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                            </div>
                            <!--end col-->
                            <div class="col">
                              <div class="comment-body ms-n2 bg-light-alt p-3">
                                <div class="activity-info-text">
                                  <div class="float-end">
                                    <div class="dropdown d-inline-block">
                                      <div class="align-self-center">
                                        <h6 class="fw-semibold">
                                          <span
                                            class="badge badge-outline-primary"
                                          >
                                            Duration |
                                            {{
                                              this.helperService.formatHHmmssToHHmm(
                                                overtimePendingRequestResponse.workingHour
                                              )
                                            }}
                                            hrs.</span
                                          >
                                        </h6>
                                        <small>{{
                                          overtimePendingRequestResponse.createdDate
                                            | date : "medium" || "N/A"
                                        }}</small>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="media align-items-center">
                                    <div
                                      class="media-body ms-2 align-self-center"
                                    >
                                      <h5
                                        class="m-0 Regular-data"
                                        (click)="
                                          routeToUserProfile(
                                            overtimePendingRequestResponse.userUuid
                                          )
                                        "
                                      >
                                        {{
                                          overtimePendingRequestResponse.userName
                                        }}
                                      </h5>
                                      <p>
                                        Time:
                                        <u
                                          >{{
                                            overtimePendingRequestResponse.startTime
                                              | date : "d MMM, h:mm a"
                                          }}
                                          -
                                          {{
                                            overtimePendingRequestResponse.endTime
                                              | date : "d MMM, h:mm a"
                                          }}</u
                                        >
                                      </p>
                                    </div>
                                  </div>
                                </div>
                                <a
                                  href="#"
                                  class="text-primary"
                                  (click)="
                                    getOvertimeRequestActionResponseMethodCall(
                                      overtimePendingRequestResponse
                                    )
                                  "
                                  data-bs-toggle="modal"
                                  data-bs-target="#overtime-request-action"
                                >
                                  <i
                                    class="fas fa-external-link-square-alt me-1"
                                  ></i
                                  >View
                                </a>
                              </div>
                            </div>
                            <!--end col-->
                          </div>
                        </div>

                        <!-- <div class="align-self-center text-center mt-2" *ngIf="!initialLoadDoneOfPendingLeaves">
                          <button type="button" class="btn btn-xs btn-light btn-round" *ngIf="pendingLeavesSize > 4" (click)="loadMorePendingLeaves()"> Load More <i class="bi bi-chevron-down"></i>
                          </button>
                        </div>
                        <div class="text-center load-more-btn" *ngIf="isPendingLoader && pendingLeavesSize > 4">
                          <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
                          <div>
                            <small>Loading...</small>
                          </div>
                        </div> -->
                      </ng-container>
                    </ng-template>

                    <ng-template
                      #errorWhileFetchingOvertimePendingRequestResponseListCondition
                    >
                      <!-- <div
                        class="errorboxmain text-center"
                        *ngIf="
                          dataNotFoundForOvertimePendingRequestResponse &&
                          !networkConnectionErrorForOvertimePendingRequestResponse
                        "
                      >
                        <div class="errorboxinner">
                          <div class="errorboxplaceholder mb-2">
                            <img
                              src="assets/images/empty-box.svg"
                              style="width: 80px"
                            />
                          </div>
                          <div class="">
                            <h4>No Pending Requests!</h4>
                            <p class="mb-0">
                              There is no pending requests available as of now.
                            </p>
                          </div>
                        </div>
                      </div> -->

                      <div
                        class="empty-file"
                        style="margin-top: 25%"
                        *ngIf="
                          dataNotFoundForOvertimePendingRequestResponse &&
                          !networkConnectionErrorForOvertimePendingRequestResponse
                        "
                      >
                        <nz-empty
                          nzNotFoundImage="assets/images/report-img.svg"
                          [nzNotFoundContent]="contentTpl"
                        >
                          <ng-template #contentTpl>
                            <p class="mb-1 empty-detail font-16">
                              No data for now
                            </p>
                          </ng-template>
                        </nz-empty>
                      </div>
                    </ng-template>
                  </div>

                  <div
                    class="pt-3 pb-3"
                    id="overtime-history"
                    role=""
                    *ngIf="ACTIVE_TAB_IN_OVERTIME_TAB == OVERTIME_HISTORY_TAB"
                  >
                    <ng-container
                      *ngIf="
                        isShimmerForOvertimeRequestResponse &&
                          overtimeRequestResponseList.length == 0 &&
                          !dataNotFoundForOvertimeRequestResponse &&
                          !networkConnectionErrorForOvertimeRequestResponse;
                        else overtimeRequestResponseListCondition
                      "
                    >
                    </ng-container>
                    <ng-template #overtimeRequestResponseListCondition>
                      <ng-container
                        *ngIf="
                          !isShimmerForOvertimeRequestResponse &&
                            overtimeRequestResponseList.length != 0 &&
                            !dataNotFoundForOvertimeRequestResponse &&
                            !networkConnectionErrorForOvertimeRequestResponse;
                          else errorWhileFetchingOvertimeRequestResponseListCondition
                        "
                      >
                        <!-- #logContainerOfApprovedRejected (scroll)="scrollDownRecentActivityOfApprovedRejected($event)" -->
                        <div class="leave-history-box-if-pending-null">
                          <div
                            class="row mt-2"
                            *ngFor="
                              let overtimeRequestResponse of overtimeRequestResponseList
                            "
                          >
                            <div class="col-auto">
                              <img
                                *ngIf="overtimeRequestResponse.userImage"
                                src="{{ overtimeRequestResponse.userImage }}"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                              <img
                                *ngIf="!overtimeRequestResponse.userImage"
                                src="assets/images/user.png"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                            </div>
                            <!--end col-->
                            <div class="col">
                              <div
                                class="comment-body ms-n2 p-3"
                                [ngClass]="{
                                  'bg-soft-success':
                                    overtimeRequestResponse.requestStatusId ==
                                    key.APPROVED,
                                  'bg-soft-danger':
                                    overtimeRequestResponse.requestStatusId ==
                                    key.REJECTED
                                }"
                              >
                                <div class="activity-info-text">
                                  <div class="float-end">
                                    <div class="dropdown d-inline-block">
                                      <div class="align-self-center">
                                        <h6 class="fw-semibold">
                                          <span
                                            class="badge badge-outline-primary"
                                          >
                                            Duration |
                                            {{
                                              this.helperService.formatHHmmssToHHmm(
                                                overtimeRequestResponse.workingHour
                                              )
                                            }}
                                            hrs.</span
                                          >
                                        </h6>
                                        <small
                                          >{{
                                            overtimeRequestResponse.createdDate
                                              | date : "medium" || "N/A"
                                          }}
                                          <!-- &nbsp;
                                          <span>{{
                                            arl.leaveDate | date:'medium' || "N/A"
                                          }}</span> -->
                                        </small>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="media align-items-center">
                                    <div
                                      class="media-body ms-2 align-self-center"
                                    >
                                      <h5
                                        class="m-0 Regular-data"
                                        (click)="
                                          routeToUserProfile(
                                            overtimeRequestResponse.userUuid
                                          )
                                        "
                                      >
                                        {{ overtimeRequestResponse.userName }}
                                        <i
                                          class="ti ti-checks bg-soft-success"
                                          *ngIf="
                                            overtimeRequestResponse.requestStatusId ==
                                            key.APPROVED
                                          "
                                        ></i>
                                        <i
                                          class="ti ti-x bg-soft-danger"
                                          *ngIf="
                                            overtimeRequestResponse.requestStatusId ==
                                            key.REJECTED
                                          "
                                        ></i>
                                      </h5>
                                      <p>
                                        Time:
                                        <u
                                          >{{
                                            overtimeRequestResponse.startTime
                                              | date : "d MMM, h:mm a"
                                          }}
                                          -
                                          {{
                                            overtimeRequestResponse.endTime
                                              | date : "d MMM, h:mm a"
                                          }}</u
                                        >
                                      </p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!--end col-->
                          </div>
                        </div>
                        <!-- <div class="align-self-center text-center mt-2" *ngIf="!initialLoadDoneOfApprovedRejected">
                          <button type="button" class="btn btn-xs btn-light btn-round" *ngIf="approvedRejectedLeavesSize > 4" (click)="loadMoreApprovedRejectedLogs()"> Load More <i class="bi bi-chevron-down"></i>
                          </button>
                        </div>
                        <div class="text-center load-more-btn" *ngIf="
                            isApprovedRejectedLoader && approvedRejectedLeavesSize > 4
                          ">
                          <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
                          <div>
                            <small>Loading...</small>
                          </div>
                        </div> -->
                      </ng-container>
                    </ng-template>
                    <ng-template
                      #errorWhileFetchingOvertimeRequestResponseListCondition
                    >
                      <!-- <div
                        class="errorboxmain text-center"
                        *ngIf="
                          dataNotFoundForOvertimeRequestResponse &&
                          !networkConnectionErrorForOvertimeRequestResponse
                        "
                      >
                        <div class="errorboxinner">
                          <div class="errorboxplaceholder mb-2">
                            <img
                              src="assets/images/empty-box.svg"
                              style="width: 80px"
                            />
                          </div>
                          <div class="">
                            <h4>No Data Found</h4>
                            <p class="mb-0">
                              We're unable to locate a record associated with
                              the information you entered.
                            </p>
                          </div>
                        </div>
                      </div> -->

                      <div
                        class="empty-file"
                        style="margin-top: 25%"
                        *ngIf="
                          dataNotFoundForOvertimeRequestResponse &&
                          !networkConnectionErrorForOvertimeRequestResponse
                        "
                      >
                        <nz-empty
                          nzNotFoundImage="assets/images/no-data-found-img.svg"
                          [nzNotFoundContent]="contentTpl"
                        >
                          <ng-template #contentTpl>
                            <p class="mb-1 empty-detail font-16">
                              No data for now
                            </p>
                          </ng-template>
                        </nz-empty>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="my-leave-log">
                <div class="my-leave-log-hedding">
                  <h4>Logs</h4>
                </div>
                <hr style="margin-bottom: 10px" />
                <div
                  class="mb-3 d-flex align-items-center"
                  style="border: 1px solid #f1f1f1; border-radius: 2px"
                >
                  <!-- <div class="dropdown" style="width: 35%" *ngIf="overtimePendingRequestResponseList.length > 0">
                    <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                      {{ selectedTeamName ? selectedTeamName : "All" }}
                      <i class="bi bi-chevron-down" style="color: #444; font-size: 15px"></i>
                    </button>
                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu team-dropdown" style="width: 100%">
                      <li class="ng-star-inserted" *ngIf="selectedTeamName" (click)="selectTeam('')">
                        <a class="dropdown-item">All</a>
                      </li>
                      <li class="ng-star-inserted" *ngFor="let tn of teamNameList" (click)="selectTeam(tn.teamName)">
                        <a class="dropdown-item"> {{ tn.teamName }} </a>
                      </li>
                    </ul>
                  </div> -->
                  <!-- <div class="form-group pb-1" style="width: 65%; position: relative">
                    <input type="text" id="searchText" placeholder="Search by name or email" [(ngModel)]="searchText" class="form-control me-2 ng-untouched ng-pristine ng-valid" style="padding: 10px 30px; border: none !important" (keyup)="searchOvertimeRequestLogResponse()" />
                    <i class="bi bi-search search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchText == ''"></i>
                    <i class="bi bi-x search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchText != ''" (click)="clearSearchUsers()"></i>
                  </div> -->
                </div>
                <!-- <div class="mb-3 d-flex align-items-center" style="border: 1px solid #f1f1f1; border-radius: 2px" *ngIf="ROLE != 'USER'">
                  <div class="dropdown" style="width: 35%" *ngIf="ROLE != 'USER' || fullLeaveLogs.length > 0">
                    <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                      {{ selectedTeamName ? selectedTeamName : "All" }}
                      <i class="bi bi-chevron-down" style="color: #444; font-size: 15px"></i>
                    </button>
                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu team-dropdown" style="width: 100%">
                      <li class="ng-star-inserted" *ngIf="selectedTeamName" (click)="selectTeam('')">
                        <a class="dropdown-item">All</a>
                      </li>
                      <li class="ng-star-inserted" *ngFor="let tn of teamNameList" (click)="selectTeam(tn.teamName)">
                        <a class="dropdown-item"> {{ tn.teamName }} </a>
                      </li>
                    </ul>
                  </div>
                  <div class="form-group pb-1" style="width: 65%; position: relative">
                    <input type="text" id="searchText" placeholder="Search" [(ngModel)]="searchString" class="form-control me-2 ng-untouched ng-pristine ng-valid" style="padding: 10px 30px; border: none !important" (keyup)="searchLeaves()" />
                    <i class="bi bi-search search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchString == ''"></i>
                    <i class="bi bi-x search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchString != ''" (click)="clearSearchUsers()"></i>
                  </div>
                </div> -->

                <ng-container
                  *ngIf="
                    isShimmerForOvertimeRequestLogResponse &&
                      overtimeRequestLogResponseList.length == 0 &&
                      !dataNotFoundForOvertimeRequestLogResponse &&
                      !networkConnectionErrorForOvertimeRequestLogResponse;
                    else overtimeRequestLogResponseListCondition
                  "
                >
                </ng-container>

                <ng-template #overtimeRequestLogResponseListCondition>
                  <ng-container
                    *ngIf="
                      !isShimmerForOvertimeRequestLogResponse &&
                        overtimeRequestLogResponseList.length != 0 &&
                        !dataNotFoundForOvertimeRequestLogResponse &&
                        !networkConnectionErrorForOvertimeRequestLogResponse;
                      else errorWhileFetchingOvertimeRequestLogResponseListCondition
                    "
                  >
                    <!-- #logContainer (scroll)="scrollDownRecentActivity($event)" -->
                    <div class="leave-logs">
                      <div
                        class="activity"
                        *ngFor="
                          let overtimeRequestLogResponse of overtimeRequestLogResponseList
                        "
                      >
                        <div class="activity-info">
                          <div class="icon-info-activity">
                            <i
                              class="ti ti-clock bg-soft-warning"
                              *ngIf="
                                overtimeRequestLogResponse.requestStatusId ==
                                key.PENDING
                              "
                            ></i>
                            <!-- <i class="ti ti-clock bg-soft-warning" *ngIf="fullLogList.status == 'requested'"></i> -->
                            <i
                              class="ti ti-checks bg-soft-success"
                              *ngIf="
                                overtimeRequestLogResponse.requestStatusId ==
                                key.APPROVED
                              "
                            ></i>
                            <i
                              class="ti ti-x bg-soft-danger"
                              *ngIf="
                                overtimeRequestLogResponse.requestStatusId ==
                                key.REJECTED
                              "
                            ></i>
                          </div>
                          <div class="activity-info-text">
                            <div>
                              <div class="float-end">
                                <div class="dropdown d-inline-block">
                                  <div class="align-self-center">
                                    <div class="btn btn-xs btn-light btn-round">
                                      {{
                                        overtimeRequestLogResponse.createdDate
                                          | date : "medium" || "N/A"
                                      }}
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="media align-items-center">
                                <div class="media-body ms-2 align-self-center">
                                  <h5
                                    class="m-0 Regular-data"
                                    (click)="
                                      routeToUserProfile(
                                        overtimeRequestLogResponse.userUuid
                                      )
                                    "
                                  >
                                    {{ overtimeRequestLogResponse.userName }}
                                  </h5>
                                  <p class="text-muted font-12 mb-0">
                                    <span
                                      style="color: orange"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        overtimeRequestLogResponse.requestStatusId ==
                                        key.PENDING
                                      "
                                      >Applied <span> To </span>
                                    </span>
                                    <span
                                      style="color: green"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        overtimeRequestLogResponse.requestStatusId ==
                                        key.APPROVED
                                      "
                                      >Approved <span> By </span>
                                    </span>
                                    <span
                                      style="color: rgb(255, 55, 0)"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        overtimeRequestLogResponse.requestStatusId ==
                                        key.REJECTED
                                      "
                                      >Rejected <span> By </span>
                                    </span>
                                    <!-- <span style="color: rgb(155, 235, 234)" class="ng-star-inserted" *ngIf="fullLogList.status == 'requested'">Requested <span> To </span>
                                    </span> -->
                                    {{ overtimeRequestLogResponse.managerName }}
                                  </p>
                                </div>
                              </div>
                              <hr class="hr-dashed" />
                              <div class="d-flex justify-content-between">
                                <p>
                                  Time:
                                  <u
                                    >{{
                                      overtimeRequestLogResponse.startTime
                                        | date : "d MMM, h:mm a"
                                    }}
                                    -
                                    {{
                                      overtimeRequestLogResponse.endTime
                                        | date : "d MMM, h:mm a"
                                    }}</u
                                  >
                                </p>
                                <h6 class="fw-semibold">
                                  <span class="badge badge-outline-primary"
                                    >Duration |
                                    {{
                                      this.helperService.formatHHmmssToHHmm(
                                        overtimeRequestLogResponse.workingHour
                                      )
                                    }}
                                    hrs.</span
                                  >
                                </h6>
                              </div>
                              <p class="text-muted mb-0">
                                {{ overtimeRequestLogResponse.note }}
                              </p>
                            </div>
                            <hr class="hr-dashed" />
                          </div>
                        </div>
                      </div>
                      <!--end activity-->
                    </div>
                  </ng-container>
                </ng-template>
                <ng-template
                  #errorWhileFetchingOvertimeRequestLogResponseListCondition
                >
                  <!-- <div
                    class="errorboxmain text-center"
                    *ngIf="
                      dataNotFoundForOvertimeRequestLogResponse &&
                      !networkConnectionErrorForOvertimeRequestLogResponse
                    "
                  >
                    <div class="errorboxinner">
                      <div class="errorboxplaceholder mb-2">
                        <img
                          src="assets/images/empty-box.svg"
                          style="width: 80px"
                        />
                      </div>
                      <div class="">
                        <h4>No Data Found</h4>
                        <p class="mb-0">
                          We're unable to locate a record associated with the
                          information you entered.
                        </p>
                      </div>
                    </div>
                  </div> -->

                  <div
                    class="empty-file"
                    style="margin-top: 25%"
                    *ngIf="
                      dataNotFoundForOvertimeRequestLogResponse &&
                      !networkConnectionErrorForOvertimeRequestLogResponse
                    "
                  >
                    <nz-empty
                      nzNotFoundImage="assets/images/no-data-found-img.svg"
                      [nzNotFoundContent]="contentTpl"
                    >
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">No data for now</p>
                      </ng-template>
                    </nz-empty>
                  </div>
                </ng-template>
              </div>
            </div>
          </div>
        </div>

        <div class="row" *ngIf="ACTIVE_TAB == ATTENDANCE_UPDATE_REQUEST_TAB">
          <div class="row p-2 mt-3">
            <div class="col-md-6">
              <div class="my-leave-log">
                <div class="my-leave-log-hedding">
                  <h4>Requests</h4>
                </div>
                <hr style="margin-bottom: 10px" />
                <ul class="nav nav-tabs bg-white" role="tablist">
                  <li class="nav-item" (click)="changeLogTabInAttendanceUpdateRequestTab(ATTENDANCE_UPDATE_PENDING_REQUEST_TAB); getAttendanceRequestsData();">
                    <a class="nav-link" [ngClass]="{'active': ACTIVE_TAB_IN_ATTENDANCE_UPDATE_REQUEST_TAB == ATTENDANCE_UPDATE_PENDING_REQUEST_TAB}" data-bs-toggle="tab" href="#attendance-update-pending-request" role="tab" aria-selected="true">Pending requests <span class="badge rounded-pill badge-outline-warning" style="margin-left: 10px" *ngIf="attendanceRequestCount > 0">{{ attendanceRequestCount }}</span></a>
                  </li>
                  <li
                    class="nav-item"
                    (click)="
                      changeLogTabInAttendanceUpdateRequestTab(
                        ATTENDANCE_UPDATE_REQUEST_HISTORY_TAB
                      );
                      getAttendanceRequestsHistoryData()
                    "
                  >
                    <a
                      class="nav-link"
                      [ngClass]="{
                        active:
                          ACTIVE_TAB_IN_ATTENDANCE_UPDATE_REQUEST_TAB ==
                          ATTENDANCE_UPDATE_REQUEST_HISTORY_TAB
                      }"
                      data-bs-toggle="tab"
                      href="#attendance-update-request-history"
                      role="tab"
                      aria-selected="false"
                      >Update History</a
                    >
                  </li>
                </ul>
                <div class="tab-content">
                  <div
                    class="pt-3 pb-3"
                    id="attendance-update-pending-request"
                    role=""
                    *ngIf="
                      ACTIVE_TAB_IN_ATTENDANCE_UPDATE_REQUEST_TAB ==
                      ATTENDANCE_UPDATE_PENDING_REQUEST_TAB
                    "
                  >
                    <ng-container
                      *ngIf="
                        isShimmerForAttendanceUpdatePendingRequestResponse &&
                          attendanceRequests.length == 0 &&
                          !dataNotFoundForAttendanceUpdatePendingRequestResponse &&
                          !networkConnectionErrorForAttendanceUpdatePendingRequestResponse;
                        else attendanceUpdatePendingRequestListCondition
                      "
                    >
                    </ng-container>

                    <ng-template #attendanceUpdatePendingRequestListCondition>
                      <ng-container
                        *ngIf="
                          !isShimmerForAttendanceUpdatePendingRequestResponse &&
                            attendanceRequests.length != 0 &&
                            !dataNotFoundForAttendanceUpdatePendingRequestResponse &&
                            !networkConnectionErrorForAttendanceUpdatePendingRequestResponse;
                          else errorWhileFetchingAttendanceUpdatePendingRequestResponseListCondition
                        "
                      >
                        <div class="leave-history-box">
                          <div
                            class="row mt-2"
                            *ngFor="let attendanceRequest of attendanceRequests"
                          >
                            <div class="col-auto">
                              <img
                                *ngIf="attendanceRequest.userImage"
                                src="{{ attendanceRequest.userImage }}"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                              <img
                                *ngIf="!attendanceRequest.userImage"
                                src="assets/images/user.png"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                            </div>
                            <!--end col-->
                            <div class="col">
                              <div class="comment-body ms-n2 bg-light-alt p-3">
                                <div class="activity-info-text">
                                  <div class="float-end">
                                    <div class="dropdown d-inline-block">
                                      <div class="align-self-center text-end">
                                        <small>{{
                                          attendanceRequest.createdDate
                                            | date : "medium" || "N/A"
                                        }}</small>
                                        <h5 class="fw-semibold">
                                          <!-- Request Type | {{attendanceRequest.attendanceStatus}} -->
                                          <span
                                            class="badge badge-outline-primary"
                                            *ngIf="
                                              attendanceRequest.requestType ===
                                              'UPDATE'
                                            "
                                            >Request Type |
                                            {{
                                              attendanceRequest.attendanceStatus
                                                | uppercase
                                            }}</span
                                          >
                                          <span
                                            class="badge badge-outline-primary"
                                            *ngIf="
                                              attendanceRequest.requestType ===
                                              'CREATE'
                                            "
                                            >New Request !</span
                                          >
                                        </h5>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="media align-items-center">
                                    <div
                                      class="media-body ms-2 align-self-center"
                                    >
                                      <h5
                                        class="m-0 Regular-data"
                                        (click)="
                                          routeToUserProfile(
                                            attendanceRequest.userUuid
                                          )
                                        "
                                      >
                                        {{ attendanceRequest.userName }}
                                      </h5>
                                      <ng-container
                                        *ngIf="
                                          attendanceRequest.requestType ===
                                          'UPDATE'
                                        "
                                      >
                                        <small
                                          >Previous Time:
                                          <u>
                                            {{
                                              attendanceRequest.oldDate
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                        <br />
                                        <small
                                          >Requested Time:
                                          <u>
                                            {{
                                              attendanceRequest.updatedDate
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                      </ng-container>

                                      <ng-container
                                        *ngIf="
                                          attendanceRequest.requestType ===
                                          'CREATE'
                                        "
                                      >
                                        <small
                                          >In Time:
                                          <u>
                                            {{
                                              attendanceRequest.inRequestTime
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                        <br />
                                        <small
                                          >Out Time:
                                          <u>
                                            {{
                                              attendanceRequest.outRequestTime
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                      </ng-container>
                                    </div>
                                  </div>
                                </div>
                                <a
                                  href="#"
                                  class="text-primary"
                                  (click)="
                                    getAttendanceUpdateRequestActionResponseMethodCall(
                                      attendanceRequest
                                    )
                                  "
                                  data-bs-toggle="modal"
                                  data-bs-target="#attendance-update-request-action"
                                >
                                  <i
                                    class="fas fa-external-link-square-alt me-1"
                                  ></i
                                  >View
                                </a>
                              </div>
                            </div>
                            <!--end col-->
                          </div>
                        </div>

                        <!-- <div class="align-self-center text-center mt-2" *ngIf="!initialLoadDoneOfPendingLeaves">
                          <button type="button" class="btn btn-xs btn-light btn-round" *ngIf="pendingLeavesSize > 4" (click)="loadMorePendingLeaves()"> Load More <i class="bi bi-chevron-down"></i>
                          </button>
                        </div>
                        <div class="text-center load-more-btn" *ngIf="isPendingLoader && pendingLeavesSize > 4">
                          <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
                          <div>
                            <small>Loading...</small>
                          </div>
                        </div> -->
                      </ng-container>
                    </ng-template>

                    <ng-template
                      #errorWhileFetchingAttendanceUpdatePendingRequestResponseListCondition
                    >
                      <div
                        class="errorboxmain text-center"
                        *ngIf="
                          dataNotFoundForAttendanceUpdatePendingRequestResponse &&
                          !networkConnectionErrorForAttendanceUpdatePendingRequestResponse
                        "
                      >
                        <div class="errorboxinner">
                          <div class="errorboxplaceholder mb-2">
                            <img
                              src="assets/images/empty-box.svg"
                              style="width: 80px"
                            />
                          </div>
                          <div class="">
                            <h4>No Pending Requests!</h4>
                            <p class="mb-0">
                              There is no pending requests available as of now.
                            </p>
                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </div>

                  <div
                    class="pt-3 pb-3"
                    id="attendance-update-request-history"
                    role=""
                    *ngIf="
                      ACTIVE_TAB_IN_ATTENDANCE_UPDATE_REQUEST_TAB ==
                      ATTENDANCE_UPDATE_REQUEST_HISTORY_TAB
                    "
                  >
                    <ng-container
                      *ngIf="
                        isShimmerForAttendanceUpdateRequestResponse &&
                          attendanceRequestsHistory.length == 0 &&
                          !dataNotFoundForAttendanceUpdateRequestResponse &&
                          !networkConnectionErrorForAttendanceUpdateRequestResponse;
                        else attendanceUpdateRequestResponseListCondition
                      "
                    >
                    </ng-container>
                    <ng-template #attendanceUpdateRequestResponseListCondition>
                      <ng-container
                        *ngIf="
                          !isShimmerForAttendanceUpdateRequestResponse &&
                            attendanceRequestsHistory.length != 0 &&
                            !dataNotFoundForAttendanceUpdateRequestResponse &&
                            !networkConnectionErrorForAttendanceUpdateRequestResponse;
                          else errorWhileFetchingAttendanceUpdateRequestResponseListCondition
                        "
                      >
                        <!-- #logContainerOfApprovedRejected (scroll)="scrollDownRecentActivityOfApprovedRejected($event)" -->
                        <div class="leave-history-box-if-pending-null">
                          <div
                            class="row mt-2"
                            *ngFor="
                              let attendanceRequestHistory of attendanceRequestsHistory
                            "
                          >
                            <div class="col-auto">
                              <img
                                *ngIf="attendanceRequestHistory.userImage"
                                src="{{ attendanceRequestHistory.userImage }}"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                              <img
                                *ngIf="!attendanceRequestHistory.userImage"
                                src="assets/images/user.png"
                                alt=""
                                class="thumb-md rounded-circle"
                                style="width: 32px; height: 32px"
                              />
                            </div>
                            <!--end col-->
                            <div class="col">
                              <div
                                class="comment-body ms-n2 p-3"
                                [ngClass]="{
                                  'bg-soft-success':
                                    attendanceRequestHistory.status ==
                                    'APPROVED',
                                  'bg-soft-danger':
                                    attendanceRequestHistory.status ==
                                    'REJECTED'
                                }"
                              >
                                <div class="activity-info-text">
                                  <div class="float-end">
                                    <div class="dropdown d-inline-block">
                                      <div class="align-self-center text-end">
                                        <small>{{
                                          attendanceRequestHistory.createdDate
                                            | date : "medium" || "N/A"
                                        }}</small>
                                        <h6 class="fw-semibold">
                                          <span
                                            class="badge badge-outline-primary"
                                            *ngIf="
                                              attendanceRequestHistory.requestType ===
                                              'UPDATE'
                                            "
                                            >Request Type |
                                            {{
                                              attendanceRequestHistory.attendanceStatus
                                                | uppercase
                                            }}</span
                                          >
                                          <span
                                            class="badge badge-outline-primary"
                                            *ngIf="
                                              attendanceRequestHistory.requestType ===
                                              'CREATE'
                                            "
                                            >New Request !</span
                                          >
                                        </h6>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="media align-items-center">
                                    <div
                                      class="media-body ms-2 align-self-center"
                                    >
                                      <h5
                                        class="m-0 Regular-data"
                                        (click)="
                                          routeToUserProfile(
                                            attendanceRequestHistory.userUuid
                                          )
                                        "
                                      >
                                        {{ attendanceRequestHistory.userName }}
                                        <i
                                          class="ti ti-checks bg-soft-success"
                                          *ngIf="
                                            attendanceRequestHistory.status ==
                                            'APPROVED'
                                          "
                                        ></i>
                                        <i
                                          class="ti ti-x bg-soft-danger"
                                          *ngIf="
                                            attendanceRequestHistory.status ==
                                            'REJECTED'
                                          "
                                        ></i>
                                      </h5>
                                      <ng-container
                                        *ngIf="
                                          attendanceRequestHistory.requestType ===
                                          'UPDATE'
                                        "
                                      >
                                        <small
                                          >Previous Time:
                                          <u>
                                            {{
                                              attendanceRequestHistory.oldDate
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                        <br />
                                        <small
                                          >Requested Time:
                                          <u>
                                            {{
                                              attendanceRequestHistory.updatedDate
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                      </ng-container>

                                      <ng-container
                                        *ngIf="
                                          attendanceRequestHistory.requestType ===
                                          'CREATE'
                                        "
                                      >
                                        <small
                                          >In Time:
                                          <u>
                                            {{
                                              attendanceRequestHistory.inRequestTime
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                        <br />
                                        <small
                                          >Out Time:
                                          <u>
                                            {{
                                              attendanceRequestHistory.outRequestTime
                                                | date : "medium" || "N/A"
                                            }}
                                          </u></small
                                        >
                                      </ng-container>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!--end col-->
                          </div>
                        </div>
                        <!-- <div class="align-self-center text-center mt-2" *ngIf="!initialLoadDoneOfApprovedRejected">
                          <button type="button" class="btn btn-xs btn-light btn-round" *ngIf="approvedRejectedLeavesSize > 4" (click)="loadMoreApprovedRejectedLogs()"> Load More <i class="bi bi-chevron-down"></i>
                          </button>
                        </div>
                        <div class="text-center load-more-btn" *ngIf="
                            isApprovedRejectedLoader && approvedRejectedLeavesSize > 4
                          ">
                          <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
                          <div>
                            <small>Loading...</small>
                          </div>
                        </div> -->
                      </ng-container>
                    </ng-template>
                    <ng-template
                      #errorWhileFetchingAttendanceUpdateRequestResponseListCondition
                    >
                      <div
                        class="errorboxmain text-center"
                        *ngIf="
                          dataNotFoundForAttendanceUpdateRequestResponse &&
                          !networkConnectionErrorForAttendanceUpdateRequestResponse
                        "
                      >
                        <div class="errorboxinner">
                          <div class="errorboxplaceholder mb-2">
                            <img
                              src="assets/images/empty-box.svg"
                              style="width: 80px"
                            />
                          </div>
                          <div class="">
                            <h4>No Data Found</h4>
                            <p class="mb-0">
                              We're unable to locate a record associated with
                              the information you entered.
                            </p>
                          </div>
                        </div>
                      </div>

                      
                      <div
                        class="empty-file"
                        style="margin-top: 25%"
                        *ngIf="
                          dataNotFoundForOvertimeRequestResponse &&
                          !networkConnectionErrorForOvertimeRequestResponse
                        "
                      >
                        <nz-empty
                          nzNotFoundImage="assets/images/no-data-found-img.svg"
                          [nzNotFoundContent]="contentTpl"
                        >
                          <ng-template #contentTpl>
                            <p class="mb-1 empty-detail font-16">
                              No data for now
                            </p>
                          </ng-template>
                        </nz-empty>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="my-leave-log">
                <div class="my-leave-log-hedding">
                  <h4>Logs</h4>
                </div>
                <hr style="margin-bottom: 10px" />
                <div
                  class="mb-3 d-flex align-items-center"
                  style="border: 1px solid #f1f1f1; border-radius: 2px"
                >
                  <!-- <div class="dropdown" style="width: 35%" *ngIf="overtimePendingRequestResponseList.length > 0">
                    <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                      {{ selectedTeamName ? selectedTeamName : "All" }}
                      <i class="bi bi-chevron-down" style="color: #444; font-size: 15px"></i>
                    </button>
                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu team-dropdown" style="width: 100%">
                      <li class="ng-star-inserted" *ngIf="selectedTeamName" (click)="selectTeam('')">
                        <a class="dropdown-item">All</a>
                      </li>
                      <li class="ng-star-inserted" *ngFor="let tn of teamNameList" (click)="selectTeam(tn.teamName)">
                        <a class="dropdown-item"> {{ tn.teamName }} </a>
                      </li>
                    </ul>
                  </div> -->
                  <!-- <div class="form-group pb-1" style="width: 65%; position: relative">
                    <input type="text" id="searchText" placeholder="Search by name or email" [(ngModel)]="searchText" class="form-control me-2 ng-untouched ng-pristine ng-valid" style="padding: 10px 30px; border: none !important" (keyup)="searchOvertimeRequestLogResponse()" />
                    <i class="bi bi-search search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchText == ''"></i>
                    <i class="bi bi-x search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchText != ''" (click)="clearSearchUsers()"></i>
                  </div> -->
                </div>
                <!-- <div class="mb-3 d-flex align-items-center" style="border: 1px solid #f1f1f1; border-radius: 2px" *ngIf="ROLE != 'USER'">
                  <div class="dropdown" style="width: 35%" *ngIf="ROLE != 'USER' || fullLeaveLogs.length > 0">
                    <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                      {{ selectedTeamName ? selectedTeamName : "All" }}
                      <i class="bi bi-chevron-down" style="color: #444; font-size: 15px"></i>
                    </button>
                    <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu team-dropdown" style="width: 100%">
                      <li class="ng-star-inserted" *ngIf="selectedTeamName" (click)="selectTeam('')">
                        <a class="dropdown-item">All</a>
                      </li>
                      <li class="ng-star-inserted" *ngFor="let tn of teamNameList" (click)="selectTeam(tn.teamName)">
                        <a class="dropdown-item"> {{ tn.teamName }} </a>
                      </li>
                    </ul>
                  </div>
                  <div class="form-group pb-1" style="width: 65%; position: relative">
                    <input type="text" id="searchText" placeholder="Search" [(ngModel)]="searchString" class="form-control me-2 ng-untouched ng-pristine ng-valid" style="padding: 10px 30px; border: none !important" (keyup)="searchLeaves()" />
                    <i class="bi bi-search search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchString == ''"></i>
                    <i class="bi bi-x search-icon" style="margin: auto; margin-left: 10px" *ngIf="searchString != ''" (click)="clearSearchUsers()"></i>
                  </div>
                </div> -->

                <ng-container
                  *ngIf="
                    isShimmerForAttendanceUpdateRequestLogResponse &&
                      attendanceFullRequestLog.length == 0 &&
                      !dataNotFoundForAttendanceUpdateRequestLogResponse &&
                      !networkConnectionErrorForAttendanceUpdateRequestLogResponse;
                    else attendanceUpdateRequestLogResponseListCondition
                  "
                >
                </ng-container>

                <ng-template #attendanceUpdateRequestLogResponseListCondition>
                  <ng-container
                    *ngIf="
                      !isShimmerForAttendanceUpdateRequestLogResponse &&
                        attendanceFullRequestLog.length != 0 &&
                        !dataNotFoundForAttendanceUpdateRequestLogResponse &&
                        !networkConnectionErrorForAttendanceUpdateRequestLogResponse;
                      else errorWhileFetchingAttendanceUpdateRequestLogResponseListCondition
                    "
                  >
                    <!-- #logContainer (scroll)="scrollDownRecentActivity($event)" -->
                    <div class="leave-logs">
                      <div
                        class="activity"
                        *ngFor="
                          let attenFullRequestLog of attendanceFullRequestLog
                        "
                      >
                        <div class="activity-info">
                          <div class="icon-info-activity">
                            <i
                              class="ti ti-clock bg-soft-warning"
                              *ngIf="attenFullRequestLog.status == 'PENDING'"
                            ></i>
                            <!-- <i class="ti ti-clock bg-soft-warning" *ngIf="fullLogList.status == 'requested'"></i> -->
                            <i
                              class="ti ti-checks bg-soft-success"
                              *ngIf="attenFullRequestLog.status == 'APPROVED'"
                            ></i>
                            <i
                              class="ti ti-x bg-soft-danger"
                              *ngIf="attenFullRequestLog.status == 'REJECTED'"
                            ></i>
                          </div>
                          <div class="activity-info-text">
                            <div>
                              <div class="float-end">
                                <div class="dropdown d-inline-block">
                                  <div class="align-self-center">
                                    <div class="btn btn-xs btn-light btn-round">
                                      {{
                                        attenFullRequestLog.createdDate
                                          | date : "medium" || "N/A"
                                      }}
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="media align-items-center">
                                <div class="media-body ms-2 align-self-center">
                                  <h5
                                    class="m-0 Regular-data"
                                    (click)="
                                      routeToUserProfile(
                                        attenFullRequestLog.userUuid
                                      )
                                    "
                                  >
                                    {{ attenFullRequestLog.userName }}
                                  </h5>
                                  <p class="text-muted font-12 mb-0">
                                    <span
                                      style="color: orange"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        attenFullRequestLog.status == 'PENDING'
                                      "
                                      >Applied <span> To </span>
                                    </span>
                                    <span
                                      style="color: green"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        attenFullRequestLog.status == 'APPROVED'
                                      "
                                      >Approved <span> By </span>
                                    </span>
                                    <span
                                      style="color: rgb(255, 55, 0)"
                                      class="ng-star-inserted"
                                      *ngIf="
                                        attenFullRequestLog.status == 'REJECTED'
                                      "
                                      >Rejected <span> By </span>
                                    </span>
                                    <!-- <span style="color: rgb(155, 235, 234)" class="ng-star-inserted" *ngIf="fullLogList.status == 'requested'">Requested <span> To </span>
                                    </span> -->
                                    {{ attenFullRequestLog.managerName }}
                                  </p>
                                </div>
                              </div>
                              <hr class="hr-dashed" />
                              <div
                                class="d-flex justify-content-between"
                                *ngIf="
                                  attenFullRequestLog.requestType === 'CREATE'
                                "
                              >
                                <div>
                                  <p>
                                    In Time:
                                    <u>{{
                                      attenFullRequestLog.inRequestTime
                                        | date : "d MMM, h:mm a"
                                    }}</u>
                                  </p>
                                  <p>
                                    Out Time:
                                    <u>{{
                                      attenFullRequestLog.outRequestTime
                                        | date : "d MMM, h:mm a"
                                    }}</u>
                                  </p>
                                </div>
                                <h6 class="fw-semibold">
                                  <span class="badge badge-outline-primary"
                                    >New Request !</span
                                  >
                                </h6>
                              </div>
                              <div
                                class="d-flex justify-content-between"
                                *ngIf="
                                  attenFullRequestLog.requestType === 'UPDATE'
                                "
                              >
                                <div>
                                  <p>
                                    Previous Time:
                                    <u>{{
                                      attenFullRequestLog.oldDate
                                        | date : "d MMM, h:mm a"
                                    }}</u>
                                  </p>
                                  <p>
                                    Requested Time:
                                    <u>{{
                                      attenFullRequestLog.updatedDate
                                        | date : "d MMM, h:mm a"
                                    }}</u>
                                  </p>
                                </div>
                                <h6 class="fw-semibold">
                                  <span class="badge badge-outline-primary"
                                    >Request Type |
                                    {{
                                      attenFullRequestLog.attendanceStatus
                                        | uppercase
                                    }}</span
                                  >
                                </h6>
                              </div>
                              <p class="text-muted mb-0">
                                Note: {{ attenFullRequestLog.requestReason }}
                              </p>
                            </div>
                            <hr class="hr-dashed" />
                          </div>
                        </div>
                      </div>
                      <!--end activity-->
                    </div>

                    <!-- <div class="align-self-center text-center mt-2" *ngIf="!isFullLeaveLoader && !initialLoadDone">
                      <button type="button" class="btn btn-xs btn-light btn-round" *ngIf="fullLeaveLogSize > 9" (click)="loadMoreLogs()"> Load More <i class="bi bi-chevron-down"></i>
                      </button>
                    </div>
                    <div class="text-center load-more-btn" *ngIf="isFullLeaveLoader && fullLeaveLogSize > 9">
                      <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
                      <div>
                        <small>Loading...</small>
                      </div>
                    </div> -->
                  </ng-container>
                </ng-template>
                <ng-template
                  #errorWhileFetchingAttendanceUpdateRequestLogResponseListCondition
                >
                  <div
                    class="empty-file"
                    *ngIf="
                      dataNotFoundForAttendanceUpdateRequestLogResponse &&
                      !networkConnectionErrorForAttendanceUpdateRequestLogResponse
                    "
                  >
                    <nz-empty
                      nzNotFoundImage="assets/images/report-img.svg"
                      [nzNotFoundContent]="contentTpl"
                    >
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">No data for now</p>
                      </ng-template>
                    </nz-empty>
                  </div>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<button
  type="button"
  style="display: none"
  data-bs-toggle="modal"
  data-bs-target="#attendancewithlocationss"
  #attendancewithlocationssButton
  id="attendancewithlocationssButton"
></button>
<div
  class="modal fade"
  id="attendancewithlocationss"
  tabindex="-1"
  role="dialog"
  aria-labelledby="attendancewithlocation"
  aria-hidden="true"
>
  <div class="modal-dialog modal-md" role="document">
    <form>
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title m-0" id="exampleModalDefaultLabel">
            Staff Attendance Location
          </h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            data-bs-toggle="modal"
            data-bs-target="#viewlog"
          ></button>
        </div>
        <!--end modal-header-->
        <div class="modal-body">
          <div class="mb-10">
            <section>
              <div class="el-card-item">
                <div class="el-card-avatar el-overlay-1">
                  <div class="map">
                    <agm-map
                      style="height: 350px"
                      [latitude]="lat"
                      [longitude]="lng"
                      [zoom]="zoom"
                      [maxZoom]="20"
                      [zoomControl]="true"
                      [disableDefaultUI]="true"
                      [keyboardShortcuts]="false"
                    >
                      <agm-marker
                        *ngIf="lat && lng"
                        [latitude]="lat"
                        [longitude]="lng"
                        draggable="true"
                        [agmFitBounds]="true"
                      ></agm-marker>
                    </agm-map>
                    <!--  #placesRef="ngx-places" -->
                  </div>
                </div>
              </div>
              <!-- </div> -->
            </section>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<button
  type="button"
  class="btn btn-primary d-none"
  data-bs-toggle="modal"
  data-bs-target="#showDocModal"
  #openDocModalButton
  id="openDocModalButton"
></button>
<div
  class="modal blur-bg-2"
  id="showDocModal"
  tabindex="-1"
  data-bs-keyboard="false"
  aria-labelledby="showDocModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="showDocModalLabel">Attendance Selfie</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          data-bs-toggle="modal"
          data-bs-target="#viewlog"
        ></button>
      </div>
      <div
        class="modal-body text-center"
        style="overflow: scroll; max-height: 350px"
      >
        <!-- <iframe *ngIf="previewString" [src]="previewString" style="width: 100%; height: 100vh" frameborder="0"></iframe> -->
        <img
          *ngIf="isImage"
          [src]="previewString"
          alt="Attendance Selfie"
          style="max-width: 100%; height: 350px"
        />
      </div>
      <div
        class="modal-footer d-flex align-items-center justify-content-end gap-3"
      >
        <!-- <button type="button" class="btn btn-de-secondary" data-bs-dismiss="modal" aria-label="Close">Cancel</button> -->
        <button
          class="btn btn-primary btn-sm"
          *ngIf="imageDownUrl"
          (click)="downloadFile(imageDownUrl)"
        >
          <span><i class="bi bi-download"></i> Download</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="unprocessedLogsModal"
  tabindex="-1"
  aria-labelledby="unprocessedLogsModalLabel"
  aria-hidden="true"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="unprocessedLogsModalLabel">
          Unprocessed Logs
          <span
            *ngIf="attendanceRequestCount > 0"
            class="badge bg-danger rounded-circle"
          >
            {{ attendanceRequestCount }}
          </span>
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>

      <div class="modal-body">
        <!-- Nav Tabs -->
        <ul class="nav nav-tabs" id="unprocessedLogsTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="requests-tab"
              data-bs-toggle="tab"
              data-bs-target="#requests"
              type="button"
              role="tab"
              aria-controls="requests"
              aria-selected="true"
            >
              Requests
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="logs-tab"
              data-bs-toggle="tab"
              data-bs-target="#logs"
              type="button"
              role="tab"
              aria-controls="logs"
              aria-selected="false"
              (click)="openLogs()"
            >
              Logs
            </button>
          </li>
        </ul>
        <!-- Tab Content -->
        <div class="tab-content" id="unprocessedLogsTabsContent">
          <div
            class="tab-pane fade show active"
            id="requests"
            role="tabpanel"
            aria-labelledby="requests-tab"
          >
            <!-- <div #logContainer
            (scroll)="scrollDownRecentActivity($event)"> -->
            <!-- Requests Content -->
            <div class="search-bar mb-1 mt-2 form-group position-relative">
              <input
                type="text"
                class="form-control"
                placeholder="Search by user name..."
                [(ngModel)]="attendanceRequestSearchString"
                (ngModelChange)="onSearchChange($event)"
                style="padding: 10px 40px"
              />
              <i
                class="bi bi-search search-icon"
                style="margin: auto; margin-left: 10px"
                *ngIf="attendanceRequestSearchString == ''"
              ></i>
              <i
                class="bi bi-x search-icon"
                style="margin: auto; margin-left: 10px"
                *ngIf="attendanceRequestSearchString != ''"
                (click)="clearSearchUsersOfRequestLogs()"
              ></i>
            </div>
            <!-- <div
              class="errorboxmain text-center"
              *ngIf="fullAttendanceRequestCount == 0"
            >
              <div class="errorboxinner">
                <div class="errorboxplaceholder mb-2">
                  <img src="assets/images/empty-box.svg" style="width: 80px" />
                </div>
                <div class="">
                  <h4>No pending requests!</h4>
                  <p class="mb-0">
                    We're unable to locate a record associated with the
                    information you entered.
                  </p>
                </div>
              </div>
            </div> -->

            <div class="empty-file" *ngIf="fullAttendanceRequestCount == 0">
              <nz-empty
                nzNotFoundImage="assets/images/no-data-found-img.svg"
                [nzNotFoundContent]="contentTpl"
              >
                <ng-template #contentTpl>
                  <p class="mb-1 empty-detail font-16">No pending requests!</p>
                </ng-template>
              </nz-empty>
            </div>
            <div
              class="logs-container"
              *ngIf="fullAttendanceRequestCount > 0"
              #logContainer
              (scroll)="scrollDownRecentActivity($event)"
            >
              <div class="log-entry" *ngFor="let log of attendanceRequests">
                <!-- <h6>Attendance Update Request</h6> -->
                <div class="log-header" *ngIf="log.requestType === 'UPDATE'">
                  <h6>
                    Request Type:
                    <span class="badge bg-soft-primary"
                      >Update ({{ log.attendanceStatus }})</span
                    >
                  </h6>
                  <span
                    class="badge bg-soft-warning"
                    *ngIf="log.status == 'PENDING'"
                    >Pending</span
                  >
                  <span
                    class="badge bg-soft-success"
                    *ngIf="log.status == 'APPROVED'"
                    >Approved</span
                  >
                  <span
                    class="badge bg-soft-danger"
                    *ngIf="log.status == 'REJECTED'"
                    >Rejected</span
                  >
                </div>
                <div class="log-header" *ngIf="log.requestType === 'CREATE'">
                  <h6>
                    Request Type:
                    <span class="badge bg-soft-primary">Create</span>
                  </h6>
                  <span
                    class="badge bg-soft-warning"
                    *ngIf="log.status == 'PENDING'"
                    >Pending</span
                  >
                  <span
                    class="badge bg-soft-success"
                    *ngIf="log.status == 'APPROVED'"
                    >Approved</span
                  >
                  <span
                    class="badge bg-soft-danger"
                    *ngIf="log.status == 'REJECTED'"
                    >Rejected</span
                  >
                </div>
                <span *ngIf="log.requestType == 'UPDATE'">
                  <p>
                    <strong>Date:</strong>
                    {{ log.createdDate | date : "MMM dd, yyyy 'at' hh:mm a" }}
                  </p>
                  <p>
                    <strong>Original Date:</strong>
                    {{ log.oldDate | date : "MMM dd, yyyy 'at' hh:mm a" }}
                  </p>
                  <p>
                    <strong>Updated Date:</strong>
                    {{ log.updatedDate | date : "MMM dd, yyyy 'at' hh:mm a" }}
                  </p>
                </span>
                <span *ngIf="log.requestType == 'CREATE'">
                  <p>
                    <strong>In Request Date:</strong>
                    {{ log.inRequestTime | date : "MMM dd, yyyy 'at' hh:mm a" }}
                  </p>
                  <p>
                    <strong>Out Request Date:</strong>
                    {{
                      log.outRequestTime | date : "MMM dd, yyyy 'at' hh:mm a"
                    }}
                  </p>
                </span>
                <p><strong>User:</strong> {{ log.userName }}</p>
                <p><strong>Manager:</strong> {{ log.managerName }}</p>
                <p><strong>Reason:</strong> {{ log.requestReason }}</p>
                <div
                  class="action-buttons"
                  style="justify-content: flex-end"
                  *ngIf="log.managerUuid === logInUserUuid || role == 'ADMIN'"
                >
                  <button
                    class="btn btn-soft-success"
                    (click)="approveOrReject(log.id, 'APPROVE')"
                  >
                    Approve
                  </button>
                  <button
                    class="btn btn-soft-danger"
                    (click)="approveOrReject(log.id, 'REJECT')"
                  >
                    Reject
                  </button>
                </div>
              </div>
              <!-- Load More Button -->
              <div
                class="align-self-center text-center mt-2"
                *ngIf="
                  fullAttendanceRequestCount > itemPerPageAttendanceRequest &&
                  !isFullRequestLoader &&
                  !initialLoadDone
                "
              >
                <button
                  type="button"
                  class="btn btn-xs btn-light btn-round"
                  (click)="loadMoreAttendanceRequestLogs()"
                >
                  Load More <i class="bi bi-chevron-down"></i>
                </button>
              </div>
              <div
                class="text-center load-more-btn"
                *ngIf="isFullRequestLoader && !initialLoadDone"
              >
                <div
                  class="spinner-border spinner-border-custom-1 text-primary"
                  role="status"
                ></div>
                <div><small>Loading...</small></div>
              </div>
            </div>
          </div>
          <div
            class="tab-pane fade"
            id="logs"
            role="tabpanel"
            aria-labelledby="logs-tab"
          >
            <!-- Logs Content -->
            <div class="modal-body">
              <!-- <div #logContainerforFullLogs
               (scroll)="scrollDownRecentActivityforFullLogs($event)" > -->
              <div class="search-bar mb-1 mt-2 form-group position-relative">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Search by user name..."
                  [(ngModel)]="fullAttendanceRequestSearchString"
                  (input)="
                    onSearchChangeOfFullAttendanceLogs(
                      fullAttendanceRequestSearchString
                    )
                  "
                  style="padding: 10px 40px"
                />
                <i
                  class="bi bi-search search-icon"
                  style="margin: auto; margin-left: 10px"
                  *ngIf="fullAttendanceRequestSearchString == ''"
                ></i>
                <i
                  class="bi bi-x search-icon"
                  style="margin: auto; margin-left: 10px"
                  *ngIf="fullAttendanceRequestSearchString != ''"
                  (click)="clearSearchUsersOfFullLogs()"
                ></i>
              </div>

              <!-- <div
                class="errorboxmain text-center"
                *ngIf="totalAttendanceRequestCount == 0"
              >
                <div class="errorboxinner">
                  <div class="errorboxplaceholder mb-2">
                    <img
                      src="assets/images/empty-box.svg"
                      style="width: 80px"
                    />
                  </div>
                  <div class="">
                    <h4>No Data Found</h4>
                    <p class="mb-0">
                      We're unable to locate a record associated with the
                      information you entered.
                    </p>
                  </div>
                </div>
              </div> -->

              <div class="empty-file" *ngIf="totalAttendanceRequestCount == 0">
                <nz-empty
                  nzNotFoundImage="assets/images/no-data-found-img.svg"
                  [nzNotFoundContent]="contentTpl"
                >
                  <ng-template #contentTpl>
                    <p class="mb-1 empty-detail font-16">No data for now</p>
                  </ng-template>
                </nz-empty>
              </div>
              <div
                class="logs-container"
                *ngIf="totalAttendanceRequestCount > 0"
                #logContainerforFullLogs
                (scroll)="scrollDownRecentActivityforFullLogs($event)"
              >
                <div
                  class="activity"
                  *ngFor="let log of attendanceFullRequestLog"
                >
                  <div class="activity-info">
                    <div class="icon-info-activity">
                      <i
                        class="ti ti-clock bg-soft-warning"
                        *ngIf="log.status == 'PENDING'"
                      ></i>
                      <i
                        class="ti ti-checks bg-soft-success"
                        *ngIf="log.status == 'APPROVED'"
                      ></i>
                      <i
                        class="ti ti-x bg-soft-danger"
                        *ngIf="log.status == 'REJECTED'"
                      ></i>
                    </div>
                    <div class="activity-info-text">
                      <div>
                        <div class="float-end">
                          <div class="btn btn-xs btn-light btn-round">
                            {{ log.createdDate | date : "medium" || "N/A" }}
                          </div>
                        </div>
                        <div class="media align-items-center">
                          <div class="media-body ms-2 align-self-center">
                            <h5 class="m-0 Regular-data">
                              {{ log.userName }}
                            </h5>
                            <p class="text-muted font-12 mb-0">
                              <span
                                style="color: orange"
                                *ngIf="log.status == 'PENDING'"
                                >Requested To</span
                              >
                              <span
                                style="color: green"
                                *ngIf="log.status == 'APPROVED'"
                                >Approved By</span
                              >
                              <span
                                style="color: rgb(255, 55, 0)"
                                *ngIf="log.status == 'REJECTED'"
                                >Rejected By</span
                              >
                              {{ log.managerName }}
                            </p>
                          </div>
                        </div>
                        <hr class="hr-dashed" />
                        <div
                          class="d-flex justify-content-between flex-column"
                          *ngIf="log.requestType == 'UPDATE'"
                        >
                          <h6>
                            Request Type:
                            <span class="badge bg-soft-primary">{{
                              log.attendanceStatus
                            }}</span>
                          </h6>
                          <p>
                            Original Date:
                            <u>{{
                              log.oldDate | date : "MMM dd, yyyy 'at' hh:mm a"
                            }}</u>
                          </p>
                          <p>
                            Updated Date:
                            <u>{{
                              log.updatedDate
                                | date : "MMM dd, yyyy 'at' hh:mm a"
                            }}</u>
                          </p>
                        </div>
                        <div
                          class="d-flex justify-content-between flex-column"
                          *ngIf="log.requestType == 'CREATE'"
                        >
                          <p>
                            In Time Date:
                            <u>{{
                              log.inRequestTime
                                | date : "MMM dd, yyyy 'at' hh:mm a"
                            }}</u>
                          </p>
                          <p>
                            Out Time Date:
                            <u>{{
                              log.outRequestTime
                                | date : "MMM dd, yyyy 'at' hh:mm a"
                            }}</u>
                          </p>
                        </div>
                        <h6>Reason:</h6>
                        <p class="text-muted mb-0">
                          {{ log.requestReason }}
                        </p>
                      </div>
                      <hr class="hr-dashed" />
                    </div>
                  </div>
                </div>

                <!-- Load More Button -->
                <!-- {{initialLoadDoneforFullLogs}} -->
                <div
                  class="align-self-center text-center mt-2"
                  *ngIf="
                    totalAttendanceRequestCount >
                      itemPerPageFullAttendanceRequest &&
                    !isRequestLoader &&
                    !initialLoadDoneforFullLogs
                  "
                >
                  <button
                    type="button"
                    class="btn btn-xs btn-light btn-round"
                    (click)="loadMoreLogs()"
                  >
                    Load More <i class="bi bi-chevron-down"></i>
                  </button>
                </div>
                <div
                  class="text-center load-more-btn"
                  *ngIf="isRequestLoader && !initialLoadDoneforFullLogs"
                >
                  <div
                    class="spinner-border spinner-border-custom-1 text-primary"
                    role="status"
                  ></div>
                  <div><small>Loading...</small></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div> -->
    </div>
  </div>
</div>

<!-- overtime request action modal -->
<div
  class="modal fade"
  id="overtime-request-action"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
>
  <div
    class="modal-dialog modal-dialog-centered"
    style="max-width: 570px"
    role="document"
  >
    <div class="modal-content">
      <div class="modal-body p-5">
        <button
          type="button"
          class="overtime-request-action-close-btn"
          data-bs-dismiss="modal"
          aria-label="Close"
          #closeOvertimeRequestActionModal
        >
          <i class="bi bi-x" style="line-height: 20px"></i>
        </button>
        <div class="text-center overtime-request-action-modal">
          <div class="d-flex align-items-start justify-content-between">
            <div
              class="d-flex align-items-center profile-details"
              style="gap: 15px"
            >
              <div class="profile-user-img">
                <img
                  [src]="
                    overtimeRequestActionResponse.userImage ||
                    'assets/images/user.png'
                  "
                  style="width: 50px; height: 50px; object-fit: cover"
                />
              </div>
              <div>
                <h4
                  style="cursor: pointer"
                  (click)="
                    this.helperService.routeToUserProfile(
                      overtimeRequestActionResponse.userUuid
                    )
                  "
                >
                  {{ overtimeRequestActionResponse.userName }}
                </h4>
                <p>{{ overtimeRequestActionResponse.userEmail }}</p>
              </div>
            </div>
            <div class="total-holidey-live">
              <h5>
                <p>
                  {{
                    overtimeRequestActionResponse.createdDate
                      | date : "dd MMM yyyy hh:mm a"
                  }}
                </p>
              </h5>
              <!-- <h5>{{ formatDateIn(formatDate(specificLeaveRequest.startDate)) }} - {{ formatDateIn(formatDate(specificLeaveRequest.endDate)) }}</h5> -->
            </div>
          </div>
          <div class="mt-4">
            <div class="overtime-request-action-field">
              <p>
                <span>Time: </span
                ><u
                  >{{
                    overtimeRequestActionResponse.startTime
                      | date : "d MMM, h:mm a"
                  }}
                  -
                  {{
                    overtimeRequestActionResponse.endTime
                      | date : "d MMM, h:mm a"
                  }}</u
                >
              </p>
              <p>
                <span>Duration: </span
                >{{
                  this.helperService.formatHHmmssToHHmm(
                    overtimeRequestActionResponse.workingHour
                  )
                }}
                hrs.
              </p>
              <p>
                <span>Applied To: </span
                >{{ overtimeRequestActionResponse.managerName }}
              </p>
              <p><span>Note: </span>{{ overtimeRequestActionResponse.note }}</p>
            </div>
            <!-- *ngIf="
            specificLeaveRequest.managerUuid === logInUserUuid ||
            ROLE == 'ADMIN'" -->
            <div
              class="d-flex align-items-center justify-content-end"
              style="gap: 10px"
            >
              <!-- Reject Button -->
              <button
                class="btn reject-btn"
                type="button"
                (click)="
                  approveOrRejectOvertimeRequestMethodCall(
                    overtimeRequestActionResponse.overtimeRequestId,
                    this.key.REJECTED
                  )
                "
              >
                <div *ngIf="rejectLoader; else rejectLabel">
                  <div class="dot-opacity-loader-reject">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </div>
                <ng-template #rejectLabel>Reject</ng-template>
              </button>
              <!-- Approve Button -->
              <button
                class="btn approve-btn"
                type="button"
                (click)="
                  approveOrRejectOvertimeRequestMethodCall(
                    overtimeRequestActionResponse.overtimeRequestId,
                    this.key.APPROVED
                  )
                "
              >
                <div *ngIf="approveLoader; else approveLabel">
                  <div class="dot-opacity-loader-approve">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </div>
                <ng-template #approveLabel>Approve</ng-template>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- attendance update request action modal -->
<div
  class="modal fade"
  id="attendance-update-request-action"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalDefaultLabel"
  aria-hidden="true"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
>
  <div
    class="modal-dialog modal-dialog-centered"
    style="max-width: 570px"
    role="document"
  >
    <div class="modal-content">
      <div class="modal-body p-5">
        <button
          type="button"
          class="overtime-request-action-close-btn"
          data-bs-dismiss="modal"
          aria-label="Close"
          #closeAttendanceUpdateRequestActionModal
        >
          <i class="bi bi-x" style="line-height: 20px"></i>
        </button>
        <div class="text-center overtime-request-action-modal">
          <div class="d-flex align-items-start justify-content-between">
            <div
              class="d-flex align-items-center profile-details"
              style="gap: 15px"
            >
              <div class="profile-user-img">
                <img
                  [src]="
                    attendanceUpdateRequestActionResponse.userImage ||
                    'assets/images/user.png'
                  "
                  style="width: 50px; height: 50px; object-fit: cover"
                />
              </div>
              <div>
                <h4
                  style="cursor: pointer"
                  (click)="
                    this.helperService.routeToUserProfile(
                      attendanceUpdateRequestActionResponse.userUuid
                    )
                  "
                >
                  {{ attendanceUpdateRequestActionResponse.userName }}
                </h4>
                <p>{{ attendanceUpdateRequestActionResponse.userEmail }}</p>
              </div>
            </div>
            <div class="total-holidey-live text-end">
              <h5>
                <p>
                  {{
                    attendanceUpdateRequestActionResponse.createdDate
                      | date : "dd MMM yyyy hh:mm a"
                  }}
                </p>
                <span
                  class="badge badge-outline-primary"
                  *ngIf="
                    attendanceUpdateRequestActionResponse.requestType ===
                    'UPDATE'
                  "
                  >Request Type |
                  {{
                    attendanceUpdateRequestActionResponse.attendanceStatus
                      | uppercase
                  }}</span
                >
                <span
                  class="badge badge-outline-primary"
                  *ngIf="
                    attendanceUpdateRequestActionResponse.requestType ===
                    'CREATE'
                  "
                  >New Request !</span
                >
              </h5>
              <!-- <h5>{{ formatDateIn(formatDate(specificLeaveRequest.startDate)) }} - {{ formatDateIn(formatDate(specificLeaveRequest.endDate)) }}</h5> -->
            </div>
          </div>
          <div class="mt-4">
            <div class="overtime-request-action-field">
              <ng-container
                *ngIf="
                  attendanceUpdateRequestActionResponse.requestType === 'UPDATE'
                "
              >
                <p>
                  <span>Previous Time: </span
                  ><u>{{
                    attendanceUpdateRequestActionResponse.oldDate
                      | date : "d MMM, h:mm a"
                  }}</u>
                </p>
                <p>
                  <span>Requested Time: </span
                  ><u>{{
                    attendanceUpdateRequestActionResponse.updatedDate
                      | date : "d MMM, h:mm a"
                  }}</u>
                </p>
              </ng-container>
              <ng-container
                *ngIf="
                  attendanceUpdateRequestActionResponse.requestType === 'CREATE'
                "
              >
                <p>
                  <span>In Time: </span
                  ><u>{{
                    attendanceUpdateRequestActionResponse.inRequestTime
                      | date : "d MMM, h:mm a"
                  }}</u>
                </p>
                <p>
                  <span>Out Time: </span
                  ><u>{{
                    attendanceUpdateRequestActionResponse.outRequestTime
                      | date : "d MMM, h:mm a"
                  }}</u>
                </p>
              </ng-container>
              <p>
                <span>Applied To: </span
                >{{ attendanceUpdateRequestActionResponse.managerName }}
              </p>
              <p>
                <span>Note: </span
                >{{ attendanceUpdateRequestActionResponse.requestReason }}
              </p>
            </div>
            <!-- *ngIf="
            specificLeaveRequest.managerUuid === logInUserUuid ||
            ROLE == 'ADMIN'" -->
            <div
              class="d-flex align-items-center justify-content-end"
              style="gap: 10px"
            >
              <!-- Reject Button -->
              <button
                class="btn reject-btn"
                type="button"
                (click)="
                  approveOrReject(
                    attendanceUpdateRequestActionResponse.id,
                    'REJECT'
                  )
                "
              >
                <div
                  *ngIf="attendanceUpdateRequestRejectLoader; else rejectLabel"
                >
                  <div class="dot-opacity-loader-reject">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </div>
                <ng-template #rejectLabel>Reject</ng-template>
              </button>
              <!-- Approve Button -->
              <button
                class="btn approve-btn"
                type="button"
                (click)="
                  approveOrReject(
                    attendanceUpdateRequestActionResponse.id,
                    'APPROVE'
                  )
                "
              >
                <div
                  *ngIf="
                    attendanceUpdateRequestApproveLoader;
                    else approveLabel
                  "
                >
                  <div class="dot-opacity-loader-approve">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                </div>
                <ng-template #approveLabel>Approve</ng-template>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
