 <app-header></app-header>


<div class="page-wrapper">

    <!-- Page Content-->
    <div class="page-content-tab">

        <div class="container-fluid">
            <!-- Page-Title -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="page-title-box">
                        <div class="float-end">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a routerLink="/dynamic/dashboard">Dashboard</a>
                                </li><!--end nav-item-->
                                <li class="breadcrumb-items active">/</li>
                                <li class="breadcrumb-items active">Timetable</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Timetable</h4>
                    </div>
                </div><!--end col-->
            </div>
            <!-- end page title end breadcrumb -->
<div class="row">
    <div class="col-lg-3">
        
    
    </div><!--end col-->

    <div class="col-lg-9d">


       


        <div class=" d-flex align-items-center justify-content-end">


            <div class="d-flex dashboadfilterbtnsbox">
                <div class="my-auto orderdaysfilter">
                    <button type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn dropdown-toggle calenderbtn"> Project Wise Attendance </button>
    
                    <div class="dropdown-menu dropdown-menuRange" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(115px, 61px, 0px);">
                        <button type="button" class="dropdown-item"> Kernai </button>
                        <button type="button" class="dropdown-item"> 1PYQ </button>
                        <button type="button" class="dropdown-item"> Owm </button>
                        <button type="button" class="dropdown-item"> credily </button>
                        <button type="button" class="dropdown-item"> SBM </button>
                    </div>
                </div>
                <div class="form-group mb-0 mt-auto mb-auto">
                    <input type="text" id="dateRangeInput" applylabel="Okay" startkey="start" endkey="end" firstmonthdayclass="first-day" lastmonthdayclass="last-day" emptyweekrowclass="empty-week-row" emptyweekcolumnclass="empty-week-column" lastdayofpreviousmonthclass="last-previous-day" firstdayofnextmonthclass="first-next-day" name="daterange" autocomplete="off" class="inputdaterange ng-valid ng-dirty ng-touched" ng-reflect-name="daterange" >

                    
                </div>
            </div>

            <div class="filter">
              <button id="date-picker-button" class="date-picker-button" (click)="dateRangeButton()">-- Select Date Range--</button>
              <div id="date-picker-wrapper" class="date-picker-wrapper">
                <ngx-daterangepicker-material
                  id="date-picker-calendar"
                  (choosedDate)="dateRangeFilter($event)"
                  [locale]="{ applyLabel: 'Apply', format: 'DD-MM-YYYY' }"
                >
                </ngx-daterangepicker-material>
              </div>
                <div>
                    <select class="form-control" id="idDiscount" data-choices="" data-choices-search-false="" data-choices-removeitem="">
                        <option>Project Wise Attendance</option>
                        <option value="all">Kernai</option>
                        <option value="all">1PYQ</option>
                        <option value="all">Owm</option>
                        <option value="all">credily</option>
                        <option value="all">SBM</option>
                    </select>
                </div>
               
              
                <div>
                    <button type="button" class="btn btn-primary btn-sm">Export</button>     
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
                <div class="timetable-box table-responsive">
                    <!-- <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th></th>
                                <th>
                                    <h4>1 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>2 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>3 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>4 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>5 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>6 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>7 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>8 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>9 August</h4>
                                    <p>Monday</p>
                                </th>
                                <th>
                                    <h4>10 August</h4>
                                    <p>Monday</p>
                                </th>

                            </tr>
                        </thead>
                    </table> -->



                    

                    <table class="table table-bordered time-table-list">
                        <thead>
                          <tr>
                            <th scope="col" class="css-8mp9q7">
                                <h5>Date</h5>
                            </th>
                            <th scope="col" class="css-4jt3ln"  *ngFor="let entry of attendanceArrayDate">
                                <h5>{{entry.createdDate | dateFormat}}</h5>
                                <p class="mb-0">{{entry.createdDay}}</p>
                            </th>
                            
                            <th scope="col" class="css-1j0jct9">
                                <div class="border-left">
                                <h5>Total</h5>
                                </div>
                            </th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let total = index, let entry of myAttendanceData | keyvalue">
                            <th scope="row" class="css-8mp9q7">
                                <div >
                                    <h5 class="d-flex align-items-center justify-content-center" style="gap:10px;"> 
                                        <span class="first-name">{{ entry.key[0] }}</span>
                                        <span>{{ entry.key }}</span>
                                    </h5>
                                </div>
                            </th>
                            <td *ngFor="let attendance of entry.value">
                                <div *ngIf="attendance.checkInTime !== null">
                                  <p><i class="bi bi-box-arrow-in-right mr-2 today-in"></i> {{ attendance.checkInTime | timeFormat}}</p>
                                  <!-- *ngIf="attendance.checkOutTime !== null" -->
                                  <p><i class="bi bi-box-arrow-left mr-2"></i> {{ attendance.checkOutTime | timeFormat}}</p>
                                  <!-- *ngIf="attendance.breakDuration !== '0 hours, 0 minutes, 0 seconds'" -->
                                  <p ><i class="bi bi-pause-btn"></i>{{attendance.breakCount}} - ({{attendance.breakDuration | durationFormat}})</p>
                                  <p><i class="bi bi-stopwatch mr-2"></i> {{ attendance.duration | durationFormat }}</p>
                                </div>
                                <div *ngIf="attendance.checkInTime === null">
                                  <p><i class="bi bi-calendar-check-fill absent"></i>Absent</p>
                                </div>
                              </td>
                              <td class="css-odmd51">
                                <!-- <p><i class="bi bi-stopwatch mr-2"></i> 8h 53m</p> -->
                                <p><i class="bi bi-calendar-event"></i>{{entry.value[0].totalPresentDays}} Present Days</p>
                            </td>
                            
                          </tr>
                         
                         
                        </tbody>
                      </table>


                      <div class="row">
                        <div class="col-md-12">
                            <div class="errorboxmain text-center mb-3">
                                <div class="errorboxinner">
                                    <div class="errorboxplaceholder mb-2">
                                        <img  width="70px" height="70px" src="assets/images/addnewproduct.svg" class="emptyImage change-image" alt="No Data Found">
                                    </div>
                                    <h4>No Deta Found</h4>
                                    <p>Lorem Ipsum is simply dummy text of the printing</p>
                                </div>
    
                            </div>
                        </div>
                        
                    </div>

                </div>
            </div>
        </div>
     
                        
    </div><!--end col-->
</div>

</div>
</div>
</div>