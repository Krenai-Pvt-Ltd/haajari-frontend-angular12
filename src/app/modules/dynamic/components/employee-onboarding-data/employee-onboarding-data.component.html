<div class="page-wrapper">
  <div class="page-content-tab">
    <div class="container-fluid mb-4">
      <div class="row leave-management-settings p-3 mt-4 align-items-center" *ngIf="isMainPlaceholder">
        <div class="col-md-6">
          <div class="leave-management-detail pt-5 pb-5">
            <h3 class="mb-3">
              Create and Manage <br />
              Your Team Easily
            </h3>
            <p class="mb-0 font-14">
              Easily customize your leave management preferences, define leave
              <br />
              types, set approval workflows, and streamline employee leave
              tracking.
            </p>

            <div class="d-flex align-items-center gap-3">
              <button class="btn add-leave-btn mt-4 mb-2" type="button" (click)="validateDuesInvoice('add')">
                <i class="bi bi-plus-lg"></i> Add New Members
              </button>
              <button class="btn excel-upload-members mt-4 mb-2" type="button" (click)="validateDuesInvoice('sample')">
                <i class="bi bi-upload"></i> Upload Members
              </button>
            </div>
            <hr />
          </div>
        </div>
        <div class="col-md-6">
          <div class="leave-management-detail-img text-end">
            <img src="assets/images/team-img.svg" style="width: 380px" />
          </div>
        </div>
      </div>


      <div class="row mt-4" *ngIf="isShowPendingVerificationTab && !isMainPlaceholder">
        <div class="col-md-7">
          <div class="on-leave-section">
            <h5>Latest Joining - Pending Verification</h5>
            <ng-container *ngIf="
                isPendingShimmer &&
                  !networkConnectionErrorPlaceHolder &&
                  !dataNotFoundPlaceHolderForLast3PendingUsers;
                else last3PendingUserData
              ">
              <div class="row mt-4">
                <div class="col-md-4">
                  <div class="row">
                    <div class="col-md-4">
                      <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"></ngx-shimmer-loading>
                    </div>
                    <div class="col-md-6">
                      <ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading>
                      <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="row">
                    <div class="col-md-4">
                      <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"></ngx-shimmer-loading>
                    </div>
                    <div class="col-md-6">
                      <ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading>
                      <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="row">
                    <div class="col-md-4">
                      <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"></ngx-shimmer-loading>
                    </div>
                    <div class="col-md-6">
                      <ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading>
                      <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <ng-template #last3PendingUserData>
              <ng-container *ngIf="
                  employeeStatus!.last3PendingUsers !== null &&
                    !networkConnectionErrorPlaceHolder &&
                    !dataNotFoundPlaceHolderForLast3PendingUsers;
                  else errorInFetchinglast3PendingUserData
                ">
                <div class="d-flex align-items-center mt-4 gap-2">
                  <div class="on-leave" *ngFor="let statusUsers of employeeStatus.last3PendingUsers">
                    <div class="d-flex align-items-center gap-2">
                      <div class="">
                        <span *ngIf="statusUsers?.image !== null">
                          <img src="{{ statusUsers?.image }}" class="rounded-circle thumb-xl" />
                        </span>
                        <span class="members-name" *ngIf="statusUsers?.image == null">{{ statusUsers?.name[0] }}</span>
                        <!-- <img src="assets/images/users/user-8.jpg" class="rounded-circle thumb-xl"> -->
                      </div>
                      <div class="">
                        <h5 class="joining-name">{{ statusUsers?.name }}</h5>
                        <p class="mb-0 joining-email">
                          {{ statusUsers?.email }}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-template>
            <ng-template #errorInFetchinglast3PendingUserData>
              <div class="errorboxmaintop" style="box-shadow: none; padding: 5px; padding-left: 0px"
                *ngIf="networkConnectionErrorPlaceHolder">
                <div class="errorboxinner" style="display: flex; align-items: center; gap: 10px">
                  <div class="errorboxplaceholder mb-2">
                    <img src="assets/images/signal.svg" style="width: 50px" />
                  </div>
                  <div class="">
                    <h6 style="font-size: 13px; margin-bottom: 0px">
                      Something went wrong!
                    </h6>

                  </div>
                </div>
              </div>



              <div class="empty-file" style="margin-top: 5%; margin-bottom: 5%"
                *ngIf="dataNotFoundPlaceHolderForLast3PendingUsers">
                <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                  <ng-template #contentTpl>
                    <p class="mb-1 empty-detail font-16">No data for now</p>
                  </ng-template>
                </nz-empty>
              </div>



            </ng-template>
          </div>
        </div>
        <div class="col-md-5">
          <div class="on-leave-section">
            <div class="d-flex align-items-center justify-content-between">
              <div class="last-client">
                <h5>Last Approved</h5>
                <ng-container *ngIf="
                    isPendingShimmer &&
                      !networkConnectionErrorPlaceHolder &&
                      !dataNotFoundPlaceHolderForLastApproved;
                    else lastApprovedUserData
                  ">
                  <div class="row mt-4">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-4">
                          <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"></ngx-shimmer-loading>
                        </div>
                        <div class="col-md-6">
                          <ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading>
                          <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
                <ng-template #lastApprovedUserData>
                  <ng-container *ngIf="
                      employeeStatus!.lastApprovedUser !== null &&
                        !networkConnectionErrorPlaceHolder &&
                        !dataNotFoundPlaceHolderForLastApproved;
                      else errorInFetchingLastApprovedUserData
                    ">
                    <div class="on-leaves mt-4">
                      <div class="d-flex align-items-center gap-2">
                        <div class="">
                          <span *ngIf="
                              employeeStatus!.lastApprovedUser?.image !== null
                            ">
                            <img src="{{
                                employeeStatus!.lastApprovedUser?.image
                              }}" class="rounded-circle thumb-xl" />
                          </span>
                          <span class="members-name" *ngIf="
                              employeeStatus!.lastApprovedUser?.image == null
                            ">
                            {{ employeeStatus!.lastApprovedUser?.name[0] }}
                          </span>
                        </div>
                        <div class="">
                          <h5 class="joining-name">
                            {{ employeeStatus!.lastApprovedUser?.name }}
                          </h5>
                          <p class="mb-0 joining-email">
                            {{ employeeStatus!.lastApprovedUser?.email }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </ng-template>
                <ng-template #errorInFetchingLastApprovedUserData>
                  <div class="errorboxmaintop" style="box-shadow: none; padding: 5px; padding-left: 0px"
                    *ngIf="networkConnectionErrorPlaceHolder">
                    <div class="errorboxinner d-flex align-items-center gap-2">
                      <div class="errorboxplaceholder mb-2">
                        <img src="assets/images/signal.svg" style="width: 50px" />
                      </div>
                      <div class="">
                        <h6 style="font-size: 13px; margin-bottom: 0px">
                          Something went wrong!
                        </h6>
                      </div>
                    </div>
                  </div>
                  <div class="empty-file" style="margin-top: 5%; margin-bottom: 5%"
                    *ngIf="dataNotFoundPlaceHolderForLastApproved">
                    <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">No data for now</p>
                      </ng-template>
                    </nz-empty>
                  </div>
                </ng-template>
              </div>
              <div class="">
                <h5>Last Rejected</h5>
                <ng-container *ngIf="
                    isPendingShimmer &&
                      !networkConnectionErrorPlaceHolder &&
                      !dataNotFoundPlaceHolderForLastRejected;
                    else lastRejectedUserData
                  ">
                  <div class="row mt-4">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-4">
                          <ngx-shimmer-loading [width]="'100%'" [height]="'40px'"></ngx-shimmer-loading>
                        </div>
                        <div class="col-md-6">
                          <ngx-shimmer-loading [width]="'80%'" [height]="'15px'"></ngx-shimmer-loading>
                          <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
                <ng-template #lastRejectedUserData>
                  <ng-container *ngIf="
                      employeeStatus!.lastRejectedUser !== null &&
                        !networkConnectionErrorPlaceHolder &&
                        !dataNotFoundPlaceHolderForLastRejected;
                      else errorInFetchingLastRejectedUserData
                    ">
                    <div class="on-leaves mt-4">
                      <div class="d-flex align-items-center" style="gap: 10px">
                        <div class="">
                          <span *ngIf="
                              employeeStatus!.lastRejectedUser?.image !== null
                            ">
                            <img src="{{
                                employeeStatus!.lastRejectedUser?.image
                              }}" class="rounded-circle thumb-xl" />
                          </span>
                          <span class="members-name" *ngIf="
                              employeeStatus!.lastRejectedUser?.image == null
                            ">
                            {{ employeeStatus!.lastRejectedUser?.name[0] }}
                          </span>
                        </div>
                        <div class="">
                          <h5 class="joining-name">
                            {{ employeeStatus!.lastRejectedUser?.name }}
                          </h5>
                          <p class="mb-0 joining-email">
                            {{ employeeStatus!.lastRejectedUser?.email }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </ng-template>
                <ng-template #errorInFetchingLastRejectedUserData>
                  <div class="errorboxmaintop" style="box-shadow: none; padding: 5px; padding-left: 0px"
                    *ngIf="networkConnectionErrorPlaceHolder">
                    <div class="errorboxinner" style="display: flex; align-items: center; gap: 10px">
                      <div class="errorboxplaceholder mb-2">
                        <img src="assets/images/signal.svg" style="width: 50px" />
                      </div>
                      <div class="">
                        <h6 style="font-size: 13px; margin-bottom: 0px">
                          Something went wrong!
                        </h6>
                        <!-- <p class="mb-0">An error occurred while processing your request. Please refresh the page and try again.</p> -->
                      </div>
                    </div>
                  </div>

                  <div class="empty-file" style="margin-top: 5%; margin-bottom: 5%"
                    *ngIf="dataNotFoundPlaceHolderForLastRejected">
                    <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg" [nzNotFoundContent]="contentTpl">
                      <ng-template #contentTpl>
                        <p class="mb-1 empty-detail font-16">No data for now</p>
                      </ng-template>
                    </nz-empty>
                  </div>


                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-3" *ngIf="!isMainPlaceholder">

        <div class="col-md-12">
          <ul id="pills-tab" role="tablist" class="nav nav-pills ">
            <li class="nav-item">
              <a id="pills-announcement-tab" data-bs-toggle="pill" href="#employeeList" role="tab"
                (click)="selectStatus('ACTIVE')" aria-controls="pills-announcement" aria-selected="false"
                class="nav-link active">Employee</a>
            </li>
            <li class="nav-item d-flex align-items-center">
              <a id="pills-notification-tab" data-bs-toggle="pill" href="#editRequest" role="tab"
                 aria-controls="pills-notification" aria-selected="false" (click)="fetchPendingRequests()"
                class="nav-link">Update Requests</a>
              <span class="request-count d-flex align-items-center justify-content-center"
                *ngIf="editProfileCount > 0">{{editProfileCount}}</span>
            </li>
            <!-- TODO:remove d-none -->
            <li class="nav-item d-flex align-items-center ">
              <a id="pills-notification-tab" data-bs-toggle="pill" href="#resignationRequest" role="tab"
                aria-controls="pills-notification" aria-selected="false" class="nav-link"
                (click)=" loadResignations();">Resignation Requests</a>
              <span class="request-count d-flex align-items-center justify-content-center"
                *ngIf="resignationCount > 0">{{resignationCount}}</span>
            </li>
          </ul>

          <div id="pills-tabContent" class="tab-content">
            <div class="tab-pane active show" id="employeeList" role="tabpanel" aria-labelledby="employee-tab">
              <div>
                <!-- <div class="row mt-3" *ngIf="!isMainPlaceholder">
                  <div class="col-md-3">
                    <div class="employe-onbording" [ngClass]="{ empSelected: selectedStatus == 'APPROVED' }">
                      <div class="orderpcardinfo d-flex justify-content-between" style="cursor: pointer"
                        (click)="selectStatus('APPROVED')">
                        <div class="orderpcardleft">
                          <h6>Verified</h6>
                          <h5>{{ verificationCount.approvedEmployees || 0 }}</h5>
                        </div>
                        <div class="orderpcardright">
                          <div class="total-employ-icon">
                            <img src="assets/images/shield.svg" style="width: 28px" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="employe-onbording" [ngClass]="{ empSelected: selectedStatus == 'PENDING' }">
                      <div class="orderpcardinfo d-flex justify-content-between" style="cursor: pointer"
                        (click)="selectStatus('PENDING')">
                        <div class="orderpcardleft">
                          <h6>Pending Verification</h6>
                          <h5>{{ verificationCount.pendingEmployees || 0 }}</h5>
                        </div>
                        <div class="orderpcardright">
                          <div class="total-employ-icon">
                            <img src="assets/images/lock.svg" style="width: 28px" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="employe-onbording" [ngClass]="{ empSelected: selectedStatus == 'REJECTED' }">
                      <div class="orderpcardinfo d-flex justify-content-between" style="cursor: pointer"
                        (click)="selectStatus('REJECTED')">
                        <div class="orderpcardleft">
                          <h6>Rejected</h6>
                          <h5>{{ verificationCount.rejectedEmployees || 0 }}</h5>
                        </div>
                        <div class="orderpcardright">
                          <div class="total-employ-icon">
                            <img src="assets/images/recycle.svg" style="width: 28px" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="employe-onbording" [ngClass]="{ empSelected: selectedStatus == 'REQUESTED' }">
                      <div class="orderpcardinfo d-flex justify-content-between" style="cursor: pointer"
                        (click)="selectStatus('REQUESTED')">
                        <div class="orderpcardleft">
                          <h6>Requested</h6>
                          <h5>{{ verificationCount.requestedCount || 0 }}</h5>
                        </div>
                        <div class="orderpcardright">
                          <div class="total-employ-icon">
                            <img src="assets/images/shield.svg" style="width: 28px" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div> -->

                <!-- new-design start -->

                <div class="row mt-3" *ngIf="!isMainPlaceholder">
                  <div class="col-md-8">
                    <div class="total-employee p-3">
                      <p class="mb-2 font-13 fw-normal">Total Employee</p>
                      <div class="d-flex align-items-center justify-content-between">
                        <div class="pointer" (click)="toggleStatusFilter('APPROVED')">
                          <h5 class="mb-2 font-13 fw-semibold"><span class="font-15 text-black fw-bold"> {{ verificationCount.approvedEmployees || 0 }} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"> <span class="verified employee-request"></span> Verified</p>
                        </div>
                        <span class="use-funds-separator"></span>
                        <div class="pointer" (click)="toggleStatusFilter('PENDING')">
                          <h5 class="mb-2 font-13 fw-semibold"><span class="font-15 text-black fw-bold"> {{ verificationCount.pendingEmployees || 0 }} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"><span class="pending employee-request"></span>  Pending Verified</p>
                        </div>
                        <span class="use-funds-separator"></span>
                        <div class="pointer" (click)="toggleStatusFilter('REJECTED')">
                          <h5 class="mb-2 font-13 fw-semibold"><span class="font-15 text-black fw-bold"> {{ verificationCount.rejectedEmployees || 0 }} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"><span class="rejected employee-request"></span> Rejected Employees</p>
                        </div>
                        <span class="use-funds-separator"></span>
                        <div class="pointer" (click)="toggleStatusFilter('REQUESTED')">
                          <h5 class="mb-2 font-13 fw-semibold"><span class="font-15 text-black fw-bold"> {{ verificationCount.requestedCount || 0 }} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"><span class="request employee-request"></span> New Request</p>
                        </div>
                        <!-- <div>
                          <img src="assets/images/total-employee-graph.png" class="w-80 position-relative" style="top:-7px;">
                        </div> -->
                        <div class="position-relative employee-apex-chart" style="width: 25%;">
                          <apx-chart
                          [series]="chartOptions.series"
                          [chart]="chartOptions.chart"
                          [legend]="chartOptions.legend"
                          [labels]="['Approved', 'Pending', 'Rejecetd', 'New Request']"
                          [colors]="['#388E3C', '#E78E13', '#FF3014', '#6666F2']"
                          [grid]="chartOptions.grid"
                          [plotOptions]="chartOptions.plotOptions"
                          [dataLabels]="chartOptions.dataLabels"
                          [tooltip]="chartOptions.tooltip"
                          >
                        </apx-chart>


                        </div>
                      </div>


                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="total-employee p-3">
                      <p class="mb-2 font-13 fw-normal">Update Request</p>
                      <div class="d-flex align-items-center justify-content-between mt-4">
                        <div class="pointer">
                          <h5 class="mb-1 font-14 fw-semibold"><span class="font-16 text-black fw-bold"> {{editProfileCount || 0}} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"> Till Now</p>
                        </div>
                        <!-- <span class="resignation-request font-13 fw-normal" *ngIf="empProfileEditRequestUsersImage==undefined || empProfileEditRequestUsersImage?.length == 0">No Request</span> -->
                        <div class="img-group d-flex" *ngIf="empProfileEditRequestUsersImage!=undefined && empProfileEditRequestUsersImage.length > 0">
                          <a class="user-avatar" *ngFor="let image of empProfileEditRequestUsersImage">
                             <span class="ng-star-inserted"><img onerror="this.src='./assets/images/broken-image-icon.jpg';" alt="u" class="thumb-xs rounded-circle" src="{{image}}"></span>
                          </a>
                       </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="total-employee p-3">
                      <p class="mb-2 font-13 fw-normal">Resignation Request </p>
                      <div class="d-flex align-items-center justify-content-between mt-4">
                        <div class="pointer">
                          <h5 class="mb-1 font-14 fw-semibold"><span class="font-16 text-black fw-bold"> {{resignationCount || 0}} </span> People </h5>
                          <p class="mb-0 font-12 fw-normal"> Till Now</p>
                        </div>
                        <!-- <span class="resignation-request font-13 fw-normal" *ngIf="resignationUsersImage.length == 0">No Request</span> -->
                        <div class="img-group d-flex" *ngIf="resignationUsersImage.length > 0">
                          <a class="user-avatar" *ngFor="let image of resignationUsersImage">
                             <span class="ng-star-inserted"><img onerror="this.src='./assets/images/broken-image-icon.jpg';" alt="u" class="thumb-xs rounded-circle" src="{{image}}"></span>
                          </a>

                       </div>

                      </div>
                    </div>
                  </div>
                </div>

                <!-- new-design end-->


                  <!-- new-design start -->

                <div class="mt-3">
                  <div class="asset-assigned-search">
                      <div class="d-flex justify-content-start align-items-center">
                          <div class="search-filter ">
                              <button type="button" id="statusDropdown" class="btn btn-secondary new-dropdown d-flex align-items-center justify-content-between" (click)="changeShowFilter(true)">
                                  Filters
                                  <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                      <mask id="mask0_7808_40" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="23" height="23">
                                      <rect x="0.262695" y="0.283112" width="22.4338" height="22.4338" fill="#1C1B1F"/>
                                      </mask>
                                      <g mask="url(#mask0_7808_40)">
                                      <path d="M9.61057 17.1084V15.239H13.3495V17.1084H9.61057ZM5.87161 12.4347V10.5653H17.0885V12.4347H5.87161ZM3.06738 7.76104V5.89156H19.8927V7.76104H3.06738Z" fill="#1C1B1F"/>
                                      </g>
                                  </svg>
                              </button>

                          </div>
                          <div class="search-date d-flex align-items-center justify-content-between position-relative w-100">
                                  <div class="form-group w-100 position-relative">
                                    <input type="text" id="searchText"
                                    placeholder="Search by name, email and phone number ..." class="form-control me-2"
                                    (keyup)="searchUsers('any')" [(ngModel)]="search"
                                    [ngModelOptions]="{ standalone: true }" style="padding: 10px 40px" />
                                  <i class="bi bi-search search-icon"
                                    *ngIf="search==''"></i>
                                  <i class="bi bi-x-lg search-icon text-primary"
                                    *ngIf="search!=''" (click)="reloadPage()"></i>
                                  </div>
                          </div>
                          <div class="filter-btn d-flex align-items-center justify-content-center gap-3" data-bs-toggle="modal">
                              <button type="button"  class="btn p-0 text-primary font-14 fw-semibold" (click)="downloadUserDataInExcelFormatMethodCall()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                  <mask id="mask0_8190_18511" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                  <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                  </mask>
                                  <g mask="url(#mask0_8190_18511)">
                                  <path d="M10 13.6571L6.44229 10.0994L7.32063 9.19563L9.375 11.25V4.25H10.625V11.25L12.6794 9.19563L13.5577 10.0994L10 13.6571ZM5.25646 16.75C4.83549 16.75 4.47917 16.6042 4.1875 16.3125C3.89583 16.0208 3.75 15.6645 3.75 15.2435V12.984H5V15.2435C5 15.3077 5.02674 15.3665 5.08021 15.4198C5.13354 15.4733 5.19229 15.5 5.25646 15.5H14.7435C14.8077 15.5 14.8665 15.4733 14.9198 15.4198C14.9733 15.3665 15 15.3077 15 15.2435V12.984H16.25V15.2435C16.25 15.6645 16.1042 16.0208 15.8125 16.3125C15.5208 16.6042 15.1645 16.75 14.7435 16.75H5.25646Z" fill="#6666F2"/>
                                  </g>
                                </svg>
                                  Download
                              </button>
                              <span class="btn-separator"></span>
                              <button type="button" class="btn p-0 text-primary font-14 fw-semibold" (click)="validateDuesInvoice('add')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                  <mask id="mask0_8190_18517" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                  <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                  </mask>
                                  <g mask="url(#mask0_8190_18517)">
                                  <path d="M9.37467 11.1247H4.58301V9.87467H9.37467V5.08301H10.6247V9.87467H15.4163V11.1247H10.6247V15.9163H9.37467V11.1247Z" fill="#6666F2"/>
                                  </g>
                                </svg>
                                Add Employee
                            </button>
                            <span class="btn-separator"></span>
                            <button type="button" class="btn p-0 text-primary font-14 fw-semibold" (click)="validateDuesInvoice('sample')">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                                <mask id="mask0_8190_18523" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21">
                                <rect y="0.5" width="20" height="20" fill="#D9D9D9"/>
                                </mask>
                                <g mask="url(#mask0_8190_18523)">
                                <path d="M5.41667 16.75C4.265 16.75 3.28264 16.3505 2.46958 15.5515C1.65653 14.7524 1.25 13.7759 1.25 12.6219C1.25 11.5866 1.58306 10.676 2.24917 9.89021C2.91528 9.10438 3.74139 8.63882 4.7275 8.49354C4.99458 7.24785 5.62097 6.22917 6.60667 5.4375C7.59222 4.64583 8.72333 4.25 10 4.25C11.5089 4.25 12.7889 4.77556 13.84 5.82667C14.8911 6.87778 15.4167 8.15778 15.4167 9.66667V10.0833H15.6731C16.5513 10.1517 17.2837 10.5048 17.8702 11.1427C18.4567 11.7805 18.75 12.5385 18.75 13.4167C18.75 14.3461 18.4295 15.134 17.7885 15.7804C17.1474 16.4268 16.3622 16.75 15.4327 16.75H10.8815C10.4605 16.75 10.1042 16.6042 9.8125 16.3125C9.52083 16.0208 9.375 15.6645 9.375 15.2435V10.6794L7.83333 12.1954L6.95521 11.3254L10 8.28042L13.0448 11.3254L12.1667 12.1954L10.625 10.6794V15.2435C10.625 15.3077 10.6517 15.3665 10.7052 15.4198C10.7585 15.4733 10.8173 15.5 10.8815 15.5H15.4167C16 15.5 16.4931 15.2986 16.8958 14.8958C17.2986 14.4931 17.5 14 17.5 13.4167C17.5 12.8333 17.2986 12.3403 16.8958 11.9375C16.4931 11.5347 16 11.3333 15.4167 11.3333H14.1667V9.66667C14.1667 8.51389 13.7604 7.53125 12.9479 6.71875C12.1354 5.90625 11.1528 5.5 10 5.5C8.84722 5.5 7.86458 5.90625 7.05208 6.71875C6.23958 7.53125 5.83333 8.51389 5.83333 9.66667H5.40063C4.61104 9.66667 3.93021 9.95139 3.35812 10.5208C2.78604 11.0903 2.5 11.7778 2.5 12.5833C2.5 13.3889 2.78472 14.0764 3.35417 14.6458C3.92361 15.2153 4.61111 15.5 5.41667 15.5H7.5V16.75H5.41667Z" fill="#6666F2"/>
                                </g>
                              </svg>
                              Upload Employee
                          </button>
                          </div>
                      </div>

                      <div class="filter-box p-0 position-absolute bg-white border" [ngClass]="{'d-none': !showFilter}">
                        <div class="d-flex align-items-center justify-content-between border-bottom p-3">
                            <h5 class="mb-0 font-14 fw-semibold"> Filter</h5>
                            <span class="pointer lh-1"  (click)="changeShowFilter(false)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                                <g opacity="0.8">
                                <mask id="mask0_7729_258" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="19">
                                <rect y="0.5" width="18" height="18" fill="#D9D9D9"/>
                                </mask>
                                <g mask="url(#mask0_7729_258)">
                                <path d="M4.8 14.75L3.75 13.7L7.95 9.5L3.75 5.3L4.8 4.25L9 8.45L13.2 4.25L14.25 5.3L10.05 9.5L14.25 13.7L13.2 14.75L9 10.55L4.8 14.75Z" fill="#1C1B1F"/>
                                </g>
                                </g>
                            </svg>
                            </span>
                        </div>
                        <div class="row p-3">
                          <h5 class="mb-0 font-14 fw-normal">Status Wise</h5>
                          <div class="mt-3">
                            <div class="categories-filter form-check d-flex align-items-center gap-2 mb-2" (click)="toggleStatus('ALL')">
                              <input type="checkbox" class="form-check-input" [checked]="selectedStatusFilters.includes('ALL')">
                              <label class="form-check-label fw-normal">All</label>
                            </div>

                            <div *ngFor="let status of statusOptionsNew" class="categories-filter form-check d-flex align-items-center gap-2 mb-2" (click)="toggleStatus(status)">
                              <input type="checkbox" class="form-check-input" [checked]="selectedStatusFilters.includes(status)">
                              <label class="form-check-label fw-normal">{{ status }}</label>
                            </div>
                          </div>

                          <h5 class="mb-0 font-14 fw-normal mt-3">Accessibility Wise</h5>
                          <div class="mt-3">
                            <div class="categories-filter form-check d-flex align-items-center gap-2 mb-2" (click)="toggleAccessibility('ALL')">
                              <input type="checkbox" class="form-check-input" [checked]="selectedAccessibilityFilters.includes('ALL')">
                              <label class="form-check-label fw-normal">All</label>
                            </div>

                            <div *ngFor="let accessibility of accessibilityOptions" class="categories-filter form-check d-flex align-items-center gap-2 mb-2" (click)="toggleAccessibility(accessibility)">
                              <input type="checkbox" class="form-check-input" [checked]="selectedAccessibilityFilters.includes(accessibility)">
                              <label class="form-check-label fw-normal">{{ accessibility }}</label>
                            </div>
                          </div>
                        </div>

                        <div class="p-3 border-top d-flex gap-2 align-items-center justify-content-end">
                          <button class="btn cancel-btn mt-0" (click)="resetFilters()">Reset</button>
                          <button class="btn submitActionBtn" (click)="this.pageNumber=1;getUsersByFiltersFunction()">Apply</button>
                        </div>
                    </div>
                  </div>
              </div>

              <div class="filter-bdg d-flex align-items-center gap-2  mt-3" *ngIf="appliedFilters.length>0">
                  <p *ngFor="let filter of appliedFilters"
                    class="filter-pills d-flex align-items-center gap-2 pointer font-12 fw-semibold"
                  >
                    {{ filter }}
                    <i class="bi bi-x-lg pointer" (click)="removeFilter(filter)"></i>
                  </p>
              </div>

                <!-- new-design end -->

                <div class="col-md-12 mt-3">
                  <div class="table-responsive bg-white employee-table">
                    <table class="table empOnnoardtable">
                      <thead class="thead-light">
                        <tr>
                          <!-- <th style="width: 10%;">Date</th> -->
                          <!-- class="stickyColTh" -->
                          <th style="width: 15%">Employee Name</th>
                          <!-- <th style="width: 5%">Employee ID</th> -->
                          <th style="width: 13%">Team</th>
                          <th style="width: 15%">Email</th>
                          <th style="width: 10%"> Phone Number</th>
                          <th style="width: 10%"> Shift Name </th>
                          <th style="width: 10%"> Leave Policy Name </th>
                          <th style="width: 10%">Accessibility</th>
                          <th style="width: 10%" class="text-left">Status</th>
                          <th style="width: 4%" class="text-cennter "> Action</th>
                          <!-- stickyColThend -->
                        </tr>
                      </thead>
                      <tbody *ngIf="isUserShimer">
                        <tr *ngFor="let item of [].constructor(6)">
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <!-- <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td> -->
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'30%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'50%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'50%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                        </tr>
                      </tbody>
                      <tbody *ngIf="users.length == 0 && !isUserShimer">
                        <tr>
                          <td colspan="8">
                            <div class="empty-filenew" style="margin-top: 7%; margin-bottom: 7%">
                              <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                                [nzNotFoundContent]="contentTpl">
                                <ng-template #contentTpl>
                                  <p class="mb-1 empty-filenew">No data for now</p>
                                </ng-template>
                              </nz-empty>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                      <tbody *ngIf="users.length > 0 && !isUserShimer">
                        <tr *ngFor="
                              let i = index;
                              let user;
                              of: users
                                | paginate
                                  : {
                                      itemsPerPage: itemPerPage,
                                      currentPage: pageNumber,
                                      totalItems: total
                                    }
                            ">
                          <td>
                            <a (click)="routeToUserDetails(user.uuid)" class="fw-semibold text-black font-13">{{ user.name }}</a>
                            <button class="text-danger" nz-button nzType="text" nz-popover
                              [nzPopoverContent]="contentTemplate" *ngIf="
                                  onboardingVia === 'SLACK' &&
                                  user.slackUserId === null
                                ">
                              <i class="bi bi-exclamation-triangle"></i>
                            </button>

                            <ng-template #contentTemplate>
                              <p>
                                Slack ID isn't synced with Hajiri for this user.
                                Click 'Sync' <br />to enable Slack integration with
                                Hajiri.
                              </p>
                              <div class="d-flex justify-content-end">
                                <button type="button" class="btn btn-primary"
                                  (click)="saveSlackUserIdViaEmailData(user.email)">
                                  <span *ngIf="!isSlackUserFlag">Sync</span>
                                  <div class="dot-opacity-loader" *ngIf="isSlackUserFlag">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                  </div>
                                </button>
                              </div>
                            </ng-template>
                          </td>
                          <!-- <td> <span class="mb-0 weekly-pro-email">{{user.employeeCode || '0'}}</span> </td> -->

                          <td>
                            <span class="mb-0 weekly-pro-email" *ngIf="!user.teamsNameList || user.teamsNameList.length == 0">
                              {{ "N/A" }}</span>




                              <!-- new-design start -->

                            <div class="team-name d-flex align-items-center justify-content-between" *ngIf="user?.teamsNameList?.length && user.teamsNameList.length > 2">
                              <span class="team-name-one fw-normal text-left font-13 fw-semibold"> {{ user.teamsNameList[0]?.teamName || 'N/A'}} </span>

                              <!-- <span class="team-count d-flex align-items-center justify-content-center font-13 fw-normal"
                              nz-popover [nzPopoverContent]="teamTemplate"  nzPopoverTitle="Team List" (mouseover)="getTeamNamesNew(user.teamNameList)"
                              [nzPopoverOverlayStyle]="{'width':'250px'}" nzPopoverPlacement="rightTop" *ngIf="user.teamNameList.length > 1">+{{ user.teamNameList.length - 1 }}</span>


                             <ng-template #teamTemplate>
                               <div class="team-list p-0" *ngIf="onboardUserTeam?.length; else noDataTemplate">
                                <div class="border-bottom pb-3 pt-3" *ngFor="let tm of onboardUserTeam; let i = index">
                                  <p class="text-black font-12 fw-semibold">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                      <mask id="mask0_8190_19422" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="14" height="14">
                                      <rect width="14" height="14" fill="#D9D9D9"/>
                                      </mask>
                                      <g mask="url(#mask0_8190_19422)">
                                      <path d="M0.583008 11.6663V10.033C0.583008 9.70245 0.668077 9.39863 0.838216 9.12155C1.00836 8.84447 1.2344 8.63301 1.51634 8.48717C2.11912 8.18579 2.73162 7.95974 3.35384 7.80905C3.97606 7.65835 4.60801 7.58301 5.24967 7.58301C5.89134 7.58301 6.52329 7.65835 7.14551 7.80905C7.76773 7.95974 8.38023 8.18579 8.98301 8.48717C9.26495 8.63301 9.49099 8.84447 9.66113 9.12155C9.83127 9.39863 9.91634 9.70245 9.91634 10.033V11.6663H0.583008ZM11.083 11.6663V9.91634C11.083 9.48856 10.9639 9.0778 10.7257 8.68405C10.4875 8.2903 10.1497 7.95245 9.71217 7.67051C10.208 7.72884 10.6747 7.82849 11.1122 7.96947C11.5497 8.11044 11.958 8.28301 12.3372 8.48717C12.6872 8.68162 12.9545 8.89794 13.1393 9.13613C13.324 9.37433 13.4163 9.6344 13.4163 9.91634V11.6663H11.083ZM5.24967 6.99967C4.60801 6.99967 4.0587 6.7712 3.60176 6.31426C3.14481 5.85731 2.91634 5.30801 2.91634 4.66634C2.91634 4.02467 3.14481 3.47537 3.60176 3.01842C4.0587 2.56148 4.60801 2.33301 5.24967 2.33301C5.89134 2.33301 6.44065 2.56148 6.89759 3.01842C7.35454 3.47537 7.58301 4.02467 7.58301 4.66634C7.58301 5.30801 7.35454 5.85731 6.89759 6.31426C6.44065 6.7712 5.89134 6.99967 5.24967 6.99967ZM11.083 4.66634C11.083 5.30801 10.8545 5.85731 10.3976 6.31426C9.94065 6.7712 9.39134 6.99967 8.74967 6.99967C8.64273 6.99967 8.50662 6.98752 8.34134 6.96322C8.17606 6.93891 8.03995 6.91217 7.93301 6.88301C8.19551 6.5719 8.39724 6.22676 8.53822 5.84759C8.67919 5.46842 8.74967 5.07467 8.74967 4.66634C8.74967 4.25801 8.67919 3.86426 8.53822 3.48509C8.39724 3.10592 8.19551 2.76079 7.93301 2.44967C8.06912 2.40106 8.20523 2.36947 8.34134 2.35488C8.47745 2.3403 8.61356 2.33301 8.74967 2.33301C9.39134 2.33301 9.94065 2.56148 10.3976 3.01842C10.8545 3.47537 11.083 4.02467 11.083 4.66634ZM1.74967 10.4997H8.74967V10.033C8.74967 9.92606 8.72294 9.82884 8.66947 9.74134C8.61599 9.65384 8.54551 9.58579 8.45801 9.53717C7.93301 9.27467 7.40315 9.0778 6.86842 8.94655C6.3337 8.8153 5.79412 8.74967 5.24967 8.74967C4.70523 8.74967 4.16565 8.8153 3.63092 8.94655C3.0962 9.0778 2.56634 9.27467 2.04134 9.53717C1.95384 9.58579 1.88336 9.65384 1.82988 9.74134C1.77641 9.82884 1.74967 9.92606 1.74967 10.033V10.4997ZM5.24967 5.83301C5.57051 5.83301 5.84516 5.71877 6.07363 5.4903C6.3021 5.26183 6.41634 4.98717 6.41634 4.66634C6.41634 4.34551 6.3021 4.07086 6.07363 3.84238C5.84516 3.61391 5.57051 3.49967 5.24967 3.49967C4.92884 3.49967 4.65419 3.61391 4.42572 3.84238C4.19724 4.07086 4.08301 4.34551 4.08301 4.66634C4.08301 4.98717 4.19724 5.26183 4.42572 5.4903C4.65419 5.71877 4.92884 5.83301 5.24967 5.83301Z" fill="#6666F2"/>
                                      </g>
                                    </svg>
                                    Team {{i + 1}}</p>
                                    <h5 class="mb-2 font-15 fw-bold">{{tm?.teamName}}</h5>
                                    <p class="mb-0 font-14 fw-normal"> {{tm?.createdDate | date}}</p>
                                </div>


                               </div>
                               <ng-template #noDataTemplate>
                                <p>No team available.</p>
                              </ng-template>
                             </ng-template> -->

                             <span class="team-count d-flex align-items-center justify-content-center font-13 fw-normal"
                                  nz-popover [nzPopoverContent]="teamTemplate" nzPopoverTitle="Team List"
                                  (mouseover)="getTeamNamesNew(user.teamsNameList)"
                                  [nzPopoverOverlayStyle]="{'width':'250px'}" nzPopoverPlacement="rightTop"
                                  *ngIf="user.teamsNameList.length > 1">
                                  +{{ user.teamsNameList.length - 1 }}
                                </span>

                                <ng-template #teamTemplate>
                                  <div class="team-list p-0" *ngIf="onboardUserTeam?.length; else noDataTemplate">
                                    <div class="border-bottom pb-3 pt-3" *ngFor="let tm of onboardUserTeam; let i = index">
                                      <p class="text-black font-12 fw-semibold">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                          <rect width="14" height="14" fill="#D9D9D9"/>
                                          <path d="M0.583 11.666V10.033C0.583 9.702 0.668 9.398 0.838 9.121C1.008 8.844 1.234 8.633 1.516 8.487C2.119 8.185 2.731 7.959 3.353 7.809C3.976 7.658 4.608 7.583 5.249 7.583C5.891 7.583 6.523 7.658 7.145 7.809C7.767 7.959 8.38 8.185 8.983 8.487C9.264 8.633 9.490 8.844 9.661 9.121C9.831 9.398 9.916 9.702 9.916 10.033V11.666H0.583ZM11.083 11.666V9.916C11.083 9.488 10.963 9.077 10.725 8.684C10.487 8.29 10.149 7.952 9.712 7.67C10.208 7.728 10.674 7.828 11.112 7.969C11.549 8.11 11.958 8.283 12.337 8.487C12.687 8.681 12.954 8.897 13.139 9.136C13.324 9.374 13.416 9.634 13.416 9.916V11.666H11.083ZM5.249 6.999C4.608 6.999 4.058 6.771 3.601 6.314C3.144 5.857 2.916 5.308 2.916 4.666C2.916 4.024 3.144 3.475 3.601 3.018C4.058 2.561 4.608 2.333 5.249 2.333C5.891 2.333 6.44 2.561 6.897 3.018C7.354 3.475 7.583 4.024 7.583 4.666C7.583 5.308 7.354 5.857 6.897 6.314C6.44 6.771 5.891 6.999 5.249 6.999Z" fill="#6666F2"/>
                                        </svg>
                                        Team {{i + 1}}
                                      </p>
                                      <h5 class="mb-2 font-15 fw-bold">{{ tm?.teamName }}</h5>
                                      <p class="mb-0 font-14 fw-normal"> {{ tm?.createdDate | date }}</p>
                                    </div>
                                  </div>

                                  <ng-template #noDataTemplate>
                                    <p>No team available.</p>
                                  </ng-template>
                                </ng-template>

                            </div>

                              <!-- new-design end -->
                          </td>

                          <td>
                            <a (click)="routeToUserDetails(user.uuid)" class="mb-0 fw-normal text-black ">
                              {{ user.email ? user.email : "N/A" }}
                            </a>
                          </td>
                          <td>
                            <a (click)="routeToUserDetails(user.uuid)" class="mb-0 fw-normal text-black ">
                              {{ user.phoneNumber ? user.phoneNumber : "N/A" }}
                            </a>
                          </td>
                          <td>
                            <a (click)="routeToUserDetails(user.uuid)" class="mb-0 text-black fw-normal " *ngIf="user.userShiftName">
                              {{ user.userShiftName ? user.userShiftName : "N/A" }}
                            </a>
                            <button type="button" (click)="routeToAddUserInShift()" class="btn p-0 text-primary font-13 fw-semibold" *ngIf="!user.userShiftName">
                              + Add Shift
                            </button>
                          </td>
                          <td>
                            <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-email text-black fw-normal" *ngIf="user.userLeavePolicyName">
                              {{ user.userLeavePolicyName ? user.userLeavePolicyName : "N/A" }}
                            </a>
                            <button type="button" (click)="routeToAddUserInLeavePolicy()" class="btn p-0 text-primary font-13 fw-semibold" *ngIf="!user.userLeavePolicyName">
                              + Add Leave Policy
                            </button>
                          </td>
                          <td class="text-left">
                            <div class="material-switch">
                              <input type="checkbox" id="switch{{ user.uuid }}" [(ngModel)]="user.presenceStatus"
                              (change)="changeStatusActive(user.presenceStatus, user.uuid)" *ngIf="!user.presenceStatus"/>

                              <input type="checkbox" id="switch{{ user.uuid }}" [(ngModel)]="user.presenceStatus"
                              data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal"
                              (click)="openDeleteConfirmationModal(user.id, user.presenceStatus, user.uuid, 'Disable')" *ngIf="user.presenceStatus"/>
                              <label for="switch{{ user.uuid }}" class="label-success"></label>
                            </div>
                          </td>
                          <td *ngIf="constants.EMPTY_STRINGS.includes(user?.resignationStatus)">
                            <span class="font-13"
                              [ngClass]="{'text-success': user.onboardingStatus === 'APPROVED'||user.onboardingStatus === 'NEW_USER' , 'text-danger': user.onboardingStatus === 'REJECTED', 'text-warning': user.onboardingStatus === 'PENDING', 'text-secondary': user.onboardingStatus === 'REQUESTED' }">
                              {{ user.onboardingStatus }}</span>
                          </td>
                          <td *ngIf="!constants.EMPTY_STRINGS.includes(user?.resignationStatus)">
                            <span class="font-13"
                              [ngClass]="{'text-info': user.resignationStatus.id == 13 || user.resignationStatus.id == 47, 'text-warning': user.resignationStatus.id == 42, 'text-danger': user.resignationStatus.id == 43 }">{{
                              user.resignationStatus.response }}</span>
                          </td>
                          <!-- stickyColTdend -->
                          <td>
                            <div class="dropdown">
                              <button class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center" type="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                <i class="bi bi-three-dots-vertical"></i>
                              </button>
                              <div class="dropdown-menu actionMenuList">
                                <li>
                                  <a class="dropdown-item" (click)="routeToUserDetails(user.uuid)"><i
                                      class="bi bi-eye"></i>
                                    View Profile</a>
                                </li>
                                <li *ngIf="user.email != null && user.email != '' && user.email != undefined">
                                  <a class="dropdown-item" (click)="sendMailToEmployees(user)" *ngIf="
                                        !sendingMailLoaderForUser(user) &&
                                        user.onboardingStatus != approvedResponse &&
                                        user.onboardingStatus != pendingResponse
                                      "><i class="bi bi-file-earmark-text"></i> Request
                                    Again</a>
                                </li>
                                <li>
                                  <a class="dropdown-item" data-bs-toggle="modal"
                                    data-bs-target="#deleteConfirmationModal"
                                    (click)="openDeleteConfirmationModal(user.id, false, '', 'Delete')"><i class="bi bi-trash3"></i> Delete
                                    Account
                                  </a>
                                </li>

                                <li>
                                  <a class="dropdown-item initiate-btn" (click)="getUserUuid(user.uuid);" data-bs-toggle="modal"
                                  data-bs-target="#initiateExit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16"
                                      fill="none">
                                      <path
                                        d="M8.99998 13.5C9.63748 13.5 10.25 13.4031 10.8375 13.2094C11.425 13.0156 11.975 12.7375 12.4875 12.375C11.975 12.0125 11.425 11.7344 10.8375 11.5406C10.25 11.3469 9.63748 11.25 8.99998 11.25C8.36248 11.25 7.74998 11.3469 7.16248 11.5406C6.57498 11.7344 6.02498 12.0125 5.51248 12.375C6.02498 12.7375 6.57498 13.0156 7.16248 13.2094C7.74998 13.4031 8.36248 13.5 8.99998 13.5ZM10.9875 7.35L9.91873 6.28125C9.98123 6.18125 10.0312 6.075 10.0687 5.9625C10.1062 5.85 10.125 5.7375 10.125 5.625C10.125 5.3125 10.0156 5.04688 9.79685 4.82813C9.5781 4.60938 9.31248 4.5 8.99998 4.5C8.88748 4.5 8.77498 4.51875 8.66248 4.55625C8.54998 4.59375 8.44373 4.64375 8.34373 4.70625L7.27498 3.6375C7.51248 3.425 7.7781 3.26563 8.07185 3.15938C8.3656 3.05313 8.67498 3 8.99998 3C9.72498 3 10.3437 3.25625 10.8562 3.76875C11.3687 4.28125 11.625 4.9 11.625 5.625C11.625 5.95 11.5719 6.25938 11.4656 6.55313C11.3594 6.84688 11.2 7.1125 10.9875 7.35ZM15.2625 11.625L14.175 10.5375C14.45 10.075 14.6562 9.5875 14.7937 9.075C14.9312 8.5625 15 8.0375 15 7.5C15 5.825 14.4187 4.40625 13.2562 3.24375C12.0937 2.08125 10.675 1.5 8.99998 1.5C8.46248 1.5 7.93748 1.56875 7.42498 1.70625C6.91248 1.84375 6.42498 2.05 5.96248 2.325L4.87498 1.2375C5.48748 0.8375 6.14373 0.53125 6.84373 0.31875C7.54373 0.10625 8.26248 0 8.99998 0C10.0375 0 11.0125 0.196875 11.925 0.590625C12.8375 0.984375 13.6312 1.51875 14.3062 2.19375C14.9812 2.86875 15.5156 3.6625 15.9094 4.575C16.3031 5.4875 16.5 6.4625 16.5 7.5C16.5 8.2375 16.3937 8.95625 16.1812 9.65625C15.9687 10.3563 15.6625 11.0125 15.2625 11.625ZM8.99998 15C7.96248 15 6.98748 14.8031 6.07498 14.4094C5.16248 14.0156 4.36873 13.4813 3.69373 12.8063C3.01873 12.1313 2.48435 11.3375 2.0906 10.425C1.69685 9.5125 1.49998 8.5375 1.49998 7.5C1.49998 6.7625 1.6031 6.04375 1.80935 5.34375C2.0156 4.64375 2.31873 3.98125 2.71873 3.35625L0.506226 1.125L1.57498 0.05625L16.425 14.9063L15.3562 15.975L3.82498 4.4625C3.54998 4.925 3.34373 5.4125 3.20623 5.925C3.06873 6.4375 2.99998 6.9625 2.99998 7.5C2.99998 8.2125 3.11873 8.89375 3.35623 9.54375C3.59373 10.1938 3.93748 10.7875 4.38748 11.325C5.06248 10.8125 5.7906 10.4219 6.57185 10.1531C7.3531 9.88438 8.16248 9.75 8.99998 9.75C9.47498 9.75 9.94998 9.8 10.425 9.9C10.9 10 11.3625 10.1375 11.8125 10.3125L14.3062 12.8063C13.5937 13.5188 12.7812 14.0625 11.8687 14.4375C10.9562 14.8125 9.99998 15 8.99998 15Z"
                                        fill="#575757" />
                                    </svg>
                                    Initiate Exit</a>
                                </li>

                              </div>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div
                    class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top"
                    *ngIf="!isUserShimer && users.length > 0 && total > 12">
                    <p class="mb-0">
                      Showing {{ getStartIndex() }} - {{ getEndIndex() }} of {{ total }} users
                    </p>
                    <div class="pagition-box">
                      <ngb-pagination [collectionSize]="total" [(page)]="pageNumber" [pageSize]="itemPerPage"
                        [maxSize]="5" [boundaryLinks]="true" [ellipses]="true"
                        (pageChange)="onOnboardingPageChange($event)">
                      </ngb-pagination>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="editRequest" role="tabpanel" aria-labelledby="editrequest-tab">
              <div class="col-md-12 mt-3">
                <div class="bg-white">
                  <table class="table empOnnoardtable">
                    <thead class="thead-light">
                      <tr>
                        <th style="width: 15%">
                          Employee Name
                        </th>
                        <th style="width: 20%">Email</th>
                        <th style="width: 15%" class="text-left">
                          Phone Number
                        </th>
                        <th style="width: 15%">Requested Date</th>
                        <th style="width: 10%">Updates</th>
                        <!-- stickyColThend -->
                        <th style="width: 4%" class="text-center ">
                          Action
                        </th>
                      </tr>
                    </thead>
                    <tbody *ngIf="isEditDataLoading">
                      <tr *ngFor="let item of [].constructor(6)">
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'50%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'30%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                      </tr>
                    </tbody>
                    <tbody *ngIf="pendingRequests?.length == 0 && !isEditDataLoading">
                      <tr>
                        <td colspan="8">
                          <div class="empty-filenew" style="margin-top: 7%; margin-bottom: 7%">
                            <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                              [nzNotFoundContent]="contentTpl">
                              <ng-template #contentTpl>
                                <p class="mb-1 empty-filenew">No data for now</p>
                              </ng-template>
                            </nz-empty>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                    <tbody *ngIf="pendingRequests?.length > 0 && !isEditDataLoading">
                      <tr *ngFor="
                              let i = index;
                              let user;
                              of: pendingRequests

                            ">
                        <td>
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-name">{{ user.name }}</a>
                          <button class="text-danger" nz-button nzType="text" nz-popover
                            [nzPopoverContent]="contentTemplate" *ngIf="
                                  onboardingVia === 'SLACK' &&
                                  user.slackUserId === null
                                ">
                            <i class="bi bi-exclamation-triangle"></i>
                          </button>

                          <ng-template #contentTemplate>
                            <p>
                              Slack ID isn't synced with Hajiri for this user.
                              Click 'Sync' <br />to enable Slack integration with
                              Hajiri.
                            </p>
                            <div class="d-flex justify-content-end">
                              <button type="button" class="btn btn-primary"
                                (click)="saveSlackUserIdViaEmailData(user.email)">
                                <span *ngIf="!isSlackUserFlag">Sync</span>
                                <div class="dot-opacity-loader" *ngIf="isSlackUserFlag">
                                  <span></span>
                                  <span></span>
                                  <span></span>
                                </div>
                              </button>
                            </div>
                          </ng-template>
                        </td>

                        <td>
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-email">
                            {{ user.email ? user.email : "N/A" }}
                          </a>
                        </td>
                        <td class="text-left">
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-email">
                            {{ user.phone ? user.phone : "N/A" }}
                          </a>
                        </td>

                        <td><span class="weekly-pro-name">{{user.createdDate | date:'dd-MM-yyyy'}}</span></td>


                        <td>{{counTDataInString(user?.data)}}</td>
                        <td>
                          <!-- class="stickyColTdend" -->
                          <div class="dropdown">
                            <button class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center" type="button" data-bs-toggle="dropdown"
                              aria-expanded="false">
                              <i class="bi bi-three-dots-vertical"></i>
                            </button>
                            <div class="dropdown-menu actionMenuList">
                              <li>
                                <a class="dropdown-item text-seccess" data-bs-toggle="modal"
                                  (click)="getRequestedData(user.uuid)" data-bs-target="#edit-request"><i
                                    class="bi bi-eye"></i>
                                  View Request</a>
                              </li>
                              <!-- <li>
                                <a class="dropdown-item" data-bs-toggle="modal"
                                  data-bs-target="#deleteConfirmationModal"
                                  (click)="openDeleteConfirmationModal(user.id)"><i class="bi bi-trash3"></i> Delete
                                  Request</a>
                              </li> -->
                            </div>
                          </div>




                        </td>
                      </tr>
                    </tbody>

                  </table>
                </div>
                <div
                  class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top"
                  *ngIf="!isEditDataLoading && pendingRequests?.length > 0 && totalItems1>pageSize1">
                  <p>
                    Showing
                    {{ (currentPage1 - 1) * pageSize1 + 1 }} -
                    {{ currentPage1 * pageSize1 > totalItems1 ? totalItems1 : currentPage1 * pageSize1 }}
                    of {{ totalItems1 }} users
                  </p>
                  <div >
                    <ngb-pagination [collectionSize]="totalItems1" [(page)]="currentPage1" [pageSize]="pageSize1"
                      [maxSize]="5" [boundaryLinks]="true" [ellipses]="true"
                      (pageChange)="changePage1($event)">
                    </ngb-pagination>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade pt-3" id="resignationRequest" role="tabpanel" aria-labelledby="resignation-tab">
              <!-- <div> -->
              <div class="onboard-add row align-items-center mx-0">
                <!-- <div *ngIf="users.length!=0"> -->
                <!-- || (searchUserPlaceholderFlag) -->
                <div class="col-md-12">
                  <div class="row justify-content-between align-items-center mx-0">
                    <div class="col-lg-12 col-md-12 col-sm-12 ps-0">
                      <div class="d-flex justify-content-start align-items-center">

                        <div class="onboarding-date d-flex align-items-center position-relative">
                          <div class="dropdown empFilerDropfilter">
                            <button type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
                              aria-expanded="false" class="btn btn-secondary dropdown-toggle new-deopdown">
                              {{ statusLabel || "All" }}
                              <i class="bi bi-chevron-down"></i>
                            </button>
                            <ul aria-labelledby="dropdownMenuButton1" class="dropdown-menu">
                              <li *ngFor="let status of statusOptions">
                                <a class="dropdown-item" (click)="selectResignationStatus(status.value,status.label)">{{ status.label }}</a>
                              </li>
                            </ul>
                          </div>
                          <form role="search" class="searching" style="width: 100%">
                            <div class="form-group" style="width: 100%; position: relative">
                              <input type="text" id="searchText"
                                placeholder="Search by name..." class="form-control me-2"
                                (keyup)="onResignationSearch();" [(ngModel)]="resignationSearch"
                                [ngModelOptions]="{ standalone: true }" style="padding: 10px 40px" />
                              <i class="bi bi-search search-icon" style="margin: auto; margin-left: 15px"
                                *ngIf="resignationSearch==''"></i>
                              <i class="bi bi-x search-icon" style="margin: auto; margin-left: 15px" *ngIf="resignationSearch!=''"
                                (click)="this.resignationSearch=''; loadResignations()"></i>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="col-md-12 mt-3">
                <div class="bg-white">
                  <table class="table empOnnoardtable">
                    <thead class="thead-light">
                      <tr>
                        <th style="width: 15%">
                          Employee Name
                        </th>
                        <th style="width: 15%">Email/Phone</th>
                        <th style="width: 15%">Last Working Day</th>
                        <th style="width: 15%">Requested Date</th>
                        <th style="width: 15%" class="text-left">Status</th>
                        <!-- stickyColThend -->
                        <th style="width: 4%" class="text-center ">
                          Action
                        </th>
                      </tr>
                    </thead>
                    <tbody *ngIf="isResignationLoading">
                      <tr *ngFor="let item of [].constructor(6)">
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'30px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'70%'" [height]="'30px'"></ngx-shimmer-loading>
                        </td>
                        <td>
                          <ngx-shimmer-loading [width]="'50%'" [height]="'10px'"></ngx-shimmer-loading>
                        </td>
                      </tr>
                    </tbody>

                    <tbody *ngIf="resignations.length == 0 && !isResignationLoading">
                      <tr>
                        <td colspan="8">
                          <div class="empty-filenew" style="margin-top: 7%; margin-bottom: 7%">
                            <nz-empty nzNotFoundImage="assets/images/no-data-found-img.svg"
                              [nzNotFoundContent]="contentTpl">
                              <ng-template #contentTpl>
                                <p class="mb-1 empty-filenew">No data for now</p>
                              </ng-template>
                            </nz-empty>
                          </div>
                        </td>
                      </tr>
                    </tbody>

                    <tbody *ngIf="resignations.length > 0 && !isResignationLoading">
                      <tr *ngFor="
                              let i = index;
                              let user;
                              of: resignations

                            ">
                        <!-- class="stickyColTd" -->
                        <td>
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-name">{{ user.name }}</a>
                          <!-- <button class="text-danger" nz-button nzType="text" nz-popover
                            [nzPopoverContent]="contentTemplate" *ngIf="
                                  onboardingVia === 'SLACK' &&
                                  user.slackUserId === null
                                ">
                            <i class="bi bi-exclamation-triangle"></i>
                          </button>

                          <ng-template #contentTemplate>
                            <p>
                              Slack ID isn't synced with Hajiri for this user.
                              Click 'Sync' <br />to enable Slack integration with
                              Hajiri.
                            </p>
                            <div class="d-flex justify-content-end">
                              <button type="button" class="btn btn-primary"
                                (click)="saveSlackUserIdViaEmailData(user.email)">
                                <span *ngIf="!isSlackUserFlag">Sync</span>
                                <div class="dot-opacity-loader" *ngIf="isSlackUserFlag">
                                  <span></span>
                                  <span></span>
                                  <span></span>
                                </div>
                              </button>
                            </div>
                          </ng-template> -->
                        </td>
                        <td>
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-email">
                            {{ user.email ? user.email : "N/A" }} <br> {{ user.phone ? user.phone : "N/A" }}
                          </a>
                        </td>
                        <td>
                          <a (click)="routeToUserDetails(user.uuid)" class="mb-0 weekly-pro-email">
                            {{ user.lastWorkingDay ? (user.lastWorkingDay | date:'dd-MM-yyyy') : "N/A" }}
                          </a>
                        </td>

                        <td><span class="weekly-pro-name">{{user.requestedDate ? (user.requestedDate | date:'dd-MM-yyyy') : "N/A"}}</span></td>


                        <td>
                          <span class="badge rounded-pill"
                            [ngClass]="{'badge-soft-success': user?.status === 'APPROVED', 'badge-soft-danger': user?.status === 'NOTICE PERIOD' || user?.status === 'REVOKED' || user?.status === 'USER EXITED', 'badge-soft-warning': user?.status === 'PENDING' || user?.status === 'REJECTED' }">
                            {{ user.status ? user.status : "N/A"}}</span>
                        </td>


                        <td >
                          <!-- class="stickyColTdend" -->
                          <div class="dropdown">
                            <button class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center" type="button" data-bs-toggle="dropdown"
                              aria-expanded="false">
                              <i class="bi bi-three-dots-vertical"></i>
                            </button>
                            <div class="dropdown-menu actionMenuList">

                              <li>
                                <a *ngIf="user.status=='PENDING'" class="dropdown-item" (click)="onInitiateExitClick(user?.uuid)" ><i
                                    class="bi bi-eye"></i>
                                  View Request</a>
                              </li>
                              <li>
                              <li>
                                <a class="dropdown-item" data-bs-toggle="modal"
                                  data-bs-target="#deleteConfirmationModal"
                                  (click)="openDeleteConfirmationModal(user.id, false, '', 'Delete Resignation Request'); currentResignationID=user.id"><i class="bi bi-trash3"></i> Delete
                                  Request
                                </a>
                              </li>




                            </div>
                          </div>
                        </td>
                      </tr>

                    </tbody>
                    <!-- <tbody *ngIf="errorToggleTop && users.length == 0">
                      <tr>
                        <td colspan="8">
                          <div class="mt-3 dashnodata">
                            <div class="empty-file" style="margin-top: 5%; margin-bottom: 5%">
                              <nz-empty nzNotFoundImage="assets/images/no-data-found-img-2.svg"
                                [nzNotFoundContent]="contentTpl">
                                <ng-template #contentTpl>
                                  <p class="mb-1 empty-detail font-16">
                                    Something went wrong
                                  </p>
                                </ng-template>
                              </nz-empty>
                            </div>

                            <div class="empty-file" style="margin-top: 5%; margin-bottom: 5%"
                              *ngIf="placeholder && total == 0 && !isUserShimer">
                              <nz-empty nzNotFoundImage="assets/images/nodate-found-3.svg"
                                [nzNotFoundContent]="contentTpl">
                                <ng-template #contentTpl>
                                  <p class="mb-1 empty-detail font-16">
                                    No data for now
                                  </p>
                                </ng-template>
                              </nz-empty>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </tbody> -->
                  </table>
                </div>
                <div
                  class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top"
                  *ngIf="!isResignationLoading && resignations.length > 0 && totalRequests > 12">
                  <p>
                    Showing
                    {{ (page - 1) * size + 1 }} -
                    {{ page * size > totalRequests ? totalRequests : page * size }}
                    of {{ totalRequests }} users
                  </p>
                  <div >
                    <ngb-pagination [collectionSize]="totalRequests" [(page)]="size" [pageSize]="size"
                      [maxSize]="5" [boundaryLinks]="true" [ellipses]="true"
                      (pageChange)="changePage1($event)">
                    </ngb-pagination>
                  </div>
                </div>

              </div>
              <!-- </div> -->
            </div>
          </div>
        </div>
        <div class="row mt-3">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- </div> -->


<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#add-employee"
  #addEmployeeModalButton>
  Add Employee
</button>
<!-- (ngSubmit)="setEmployeePersonalDetailsMethodCall(true)" -->
<form #personalInformationForm="ngForm" (shown.bs.modal)="resetForm()">
  <div class="form-group">
    <div #inviteModal class="modal fade" id="add-employee" tabindex="-1" role="dialog"
      aria-labelledby="exampleModalDefaultLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"> Add Employee </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="name" class="pb-2">Name <span class="text-danger">*</span></label>
                <input type="text" class="form-control input-zorro" id="name" name="name" placeholder="Name"
                  [(ngModel)]="userPersonalInformationRequest.name" required #nameField="ngModel" />

                <div *ngIf="nameField.invalid && nameField.touched">
                  <p class="errortxt mt-2 mb-0" style="color: red">
                    <i class="bi bi-exclamation-circle"></i> Name is
                    required.
                  </p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="phoneNumber" class="pb-2">
                  Phone Number <span class="text-danger">*</span>
                  <i class="bi bi-exclamation-circle tolltip-icon" ngbTooltip="Please provide your personal phone number!"
                    placement="top"></i>
                </label>
                <input type="tel" class="form-control input-zorro" id="phoneNumber" name="phoneNumber" placeholder="Phone number"
                  [(ngModel)]="userPersonalInformationRequest.phoneNumber" minlength="10" maxlength="10" pattern="[0-9]*"
                  (keypress)="restrictToDigits($event)" (keyup)="checkPhoneExistance(userPersonalInformationRequest.phoneNumber)"
                  #phoneNumberField="ngModel" required />
                <div *ngIf="phoneNumberField.invalid && phoneNumberField.touched">
                  <p class="errortxt mt-2 mb-0" style="color: red">
                    <i class="bi bi-exclamation-circle"></i> Enter a valid 10-digit phone number.
                  </p>
                </div>
                <div *ngIf="isNumberExist" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> Phone number already registered with us.
                </div>
              </div>

              <div class="col-md-6 mb-3">
                <label for="email" class="pb-2">Email Id <span class="text-danger">*</span></label>
                <input type="email" class="form-control input-zorro" id="email" name="email" placeholder="Email id" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                  [(ngModel)]="userPersonalInformationRequest.email" (keyup)="
                                      checkEmailExistanceBefore(
                                        userPersonalInformationRequest.email
                                      )
                                    " required #emailField="ngModel" />
                <div *ngIf="isEmailExist" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> Employee with
                  this email already registered
                </div>
                <div *ngIf="emailField.invalid && emailField.touched">
                  <p class="errortxt mt-2 mb-0" class="errortxt mt-2 mb-0" style="color: red">
                    <i class="bi bi-exclamation-circle"></i> Please enter a
                    valid email address.
                  </p>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="shiftNames" class="pb-2">Select Shift <span class="text-danger">* </span></label>
                <nz-select id="shift" name="shift" class="form-control placeholder-line" nzPlaceHolder="Select a shift"
                  nzAllowClear nzShowSearch nzServerSearch [(ngModel)]="selectedShift"
                  [ngModelOptions]="{ standalone: true }" required #shiftField="ngModel">
                  <ng-container *ngFor="let shift of shiftList">
                    <nz-option *ngIf="!isLoadingShifts" [nzValue]="shift.value" [nzLabel]="shift.label"></nz-option>
                  </ng-container>
                  <nz-option *ngIf="isLoadingShifts" nzDisabled nzCustomContent>
                    <span nz-icon nzType="loading" class="loading-icon"></span>
                    Loading Shifts...
                  </nz-option>
                </nz-select>
                <div *ngIf="shiftField.invalid && shiftField.touched" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> Please select a
                  shift.
                </div>
                <div *ngIf="shiftList.length === 0 && !isLoadingShifts" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> No shifts
                  available. Please add shifts from the Attendance Setting
                  section.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="gender" class="pb-2">Select Gender <span class="text-danger">*</span></label>
                <nz-select id="gender" name="gender" [(ngModel)]="userPersonalInformationRequest.gender" required
                  class="form-control placeholder-line" #genderField="ngModel" nzPlaceHolder="Select Gender">
                  <nz-option *ngFor="let gender of genders" [nzValue]="gender" [nzLabel]="gender"></nz-option>
                </nz-select>
                <div *ngIf="genderField.invalid && genderField.touched" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> Please select a gender.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="joiningDate" class="pb-2">Joining Date <span class="text-danger">*</span></label>
                <nz-date-picker id="joiningDate" name="joiningDate" #joiningDateField="ngModel" nzBorderless [nzFormat]="'dd/MM/YYYY'"
                  [(ngModel)]="userPersonalInformationRequest.joiningDate" required nzPlaceHolder="Select Joining Date">
                </nz-date-picker>
              </div>
              <div class="col-md-6 mb-3">
                <label for="positionDropdown" class="pb-2">Position <span
                    class="text-optional">(Optional)</span></label>
                <input maxlength="50" class="input-zorro" id="positionDropdown" name="positionDropdown"
                  placeholder='Select Position' nz-input [(ngModel)]="this.userPersonalInformationRequest.position"
                  (ngModelChange)="onChange($event)" [nzAutocomplete]="positionAuto" #position="ngModel"
                  (keydown)="preventLeadingWhitespace($event)" />
                <nz-autocomplete [nzDataSource]="positionFilteredOptions" #positionAuto></nz-autocomplete>
              </div>
              <div class="col-md-6 mb-3">
                <label for="isProbation" class="pb-2">Probation Status <span class="text-danger">*</span></label>
                <nz-select id="isProbation" name="isProbation" class="form-control placeholder-line"
                  [(ngModel)]="userPersonalInformationRequest.isProbation" required #isProbationField="ngModel"
                  nzPlaceHolder="Probation Status">
                  <nz-option [nzValue]="true" [nzLabel]="'Under Probation'"></nz-option>
                  <nz-option [nzValue]="false" [nzLabel]="'Confirmed'"></nz-option>
                </nz-select>



                <!-- Error if no gender selected -->
                <div *ngIf="genderField.invalid && genderField.touched" class="errortxt mt-2 mb-0" style="color: red">
                  <i class="bi bi-exclamation-circle"></i> Please select a gender.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="teamNames" class="pb-2">Select Team<span class="text-optional">
                    (Optional)</span></label>
                <nz-select class="form-control placeholder-font" nzMode="multiple" nzPlaceHolder="Select teams"
                  nzAllowClear nzShowSearch nzServerSearch [(ngModel)]="selectedTeams"
                  [ngModelOptions]="{ standalone: true }" (ngModelChange)="onTeamSelectionChange($event)"
                  (nzOnSearch)="onSearch($event)">
                  <ng-container *ngFor="let o of teamNameList">
                    <nz-option *ngIf="!isLoadingTeams" [nzValue]="o.value" [nzLabel]="o.label"></nz-option>
                  </ng-container>
                  <nz-option *ngIf="isLoadingTeams" nzDisabled nzCustomContent>
                    <span nz-icon nzType="loading" class="loading-icon"></span>
                    Loading Data...
                  </nz-option>
                </nz-select>
              </div>
              <div class="col-md-6 mb-3">
                <label for="teamNames" class="pb-2">Select Leave <span class="text-optional">
                    (Optional)</span></label>
                <nz-select class="form-control placeholder-font" nzMode="multiple" nzPlaceHolder="Select leave"
                  nzAllowClear nzShowSearch nzServerSearch [(ngModel)]="selectedLeaves"
                  [ngModelOptions]="{ standalone: true }" (ngModelChange)="onLeaveSelectionChange($event)"
                  (nzOnSearch)="onSearchLeave($event)">
                  <ng-container *ngFor="let o of leaveNameList">
                    <nz-option *ngIf="!isLoadingLeave" [nzValue]="o.value" [nzLabel]="o.label"></nz-option>
                  </ng-container>
                  <nz-option *ngIf="isLoadingLeave" nzDisabled nzCustomContent>
                    <span nz-icon nzType="loading" class="loading-icon"></span>
                    Loading Data...
                  </nz-option>
                </nz-select>
              </div>
            </div>
          </div>

          <div class="modal-footer d-flex align-items-center justify-content-end gap-2">
            <button type="button" class="btn cancel-btn" data-bs-dismiss="modal" aria-label="Close" #closeInviteModal>
              Cancel
            </button>
            <button class="btn submitActionBtn" type="submit" (click)="setEmployeePersonalDetailsMethodCall(false)"
              [disabled]="
                  personalInformationForm.invalid ||
                  shiftField.invalid ||
                  isNumberExist ||
                  isEmailExist
                " [ngClass]="{'btn-border':!personalInformationForm.invalid}" aria-label="Add Only">
              <div *ngIf="toggle1" class="dot-opacity-loader1">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <span *ngIf="!toggle1">Add Only</span>
            </button>
            <button class="btn submitActionBtn" type="submit" (click)="setEmployeePersonalDetailsMethodCall(true)"
              [disabled]="
                  personalInformationForm.invalid ||
                  shiftField.invalid ||
                  isNumberExist ||
                  isEmailExist
                " [ngClass]="{'btn-border':!personalInformationForm.invalid}" aria-label="Add and Invite">
              <div *ngIf="toggle2" class="dot-opacity-loader1">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <span *ngIf="!toggle2">Invite</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>




<div class="modal fade" id="deleteConfirmationModal" #deleteConfirmationModal tabindex="-1"
  aria-labelledby="confirmationModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-backdrop="false">
  <div class="modal-dialog modal-dialog-centered modal-md" role="document">
    <div class="modal-content">
      <div class="modal-body p-0 delete-text">
        <div class="delete-image d-flex align-items-center justify-content-center pt-4 pb-4">
          <div class="delete-close-btn">
            <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close" (click)="getUsersByFiltersFunction()"  #closeButtonDeleteLeave>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none" >
                <mask id="mask0_2031_1331" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30"
                  height="30">
                  <rect width="30" height="30" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_2031_1331)">
                  <path
                    d="M8 23.75L6.25 22L13.25 15L6.25 8L8 6.25L15 13.25L22 6.25L23.75 8L16.75 15L23.75 22L22 23.75L15 16.75L8 23.75Z"
                    fill="black" />
                </g>
              </svg>
            </button>
          </div>
          <img src="/assets/images/delete-img.svg" style="width: 70px" *ngIf="deleteOrDisableUserString === 'Delete' || deleteOrDisableUserString === 'Delete Resignation Request'"/>
          <img src="/assets/images/delete-friend (1) 2.svg" style="width: 70px" *ngIf="deleteOrDisableUserString === 'Disable'"/>
        </div>
        <div class="bg-white p-4 text-center">
          <div class="mb-4">
            <h5 class="alert-heading font-18 mb-2">
              Are you sure want to {{deleteOrDisableUserString}} this account?
            </h5>
            <p class="font-13" *ngIf="deleteOrDisableUserString === 'Delete'">This action will permanently remove this user. </p>
            <p class="font-13" *ngIf="deleteOrDisableUserString === 'Disable'">This action will disable this user. </p>
            <p class="font-13" *ngIf="deleteOrDisableUserString === 'Delete Resignation Request'">This action will delete Resignation Request.</p>
          </div>


          <button  *ngIf="deleteOrDisableUserString !== 'Delete Resignation Request'" class="btn continue-btn" (click)="deleteOrDisable()">
            <span >{{deleteOrDisableUserString}} Account</span>
            <i class="fa fa-spinner fa-spin" *ngIf="disableUserLoader"></i>
          </button>
          <button  *ngIf="deleteOrDisableUserString === 'Delete Resignation Request'" class="btn continue-btn" (click)="deleteResignation(currentResignationID)">
            <span >Delete</span>
            <i class="fa fa-spinner fa-spin" *ngIf="disableUserLoader"></i>
          </button>
          <br>
          <button class="btn p-0 mt-3 text-black" type="button" data-bs-dismiss="modal" aria-label="Close" (click)="getUsersByFiltersFunction()"
            #closeUserDeleteModal>
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Edit Request Modal Start -->

<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#edit-request">
  Launch static backdrop modal
</button>

<div class="modal fade" id="edit-request" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 950px;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Update Request</h5>
        <button #closeReqDataModal (click)="closeDataRequestModal()" type="button" class="close-btn"
          data-bs-dismiss="modal" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <mask id="mask0_5037_2014" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24"
              height="24">
              <rect width="24" height="24" fill="#D9D9D9" />
            </mask>
            <g mask="url(#mask0_5037_2014)">
              <path d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z"
                fill="black" />
            </g>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div *ngIf="isRequestedDataLoading" class="d-flex align-items-center justify-content-center">
          <div class="spinner-border spinner-border-custom-1 text-primary" role="status"></div>
        </div>
        <div *ngIf="!isRequestedDataLoading" class="request-body">
          <div class="d-flex align-items-center justify-content-between request-user p-3">
            <div class="d-flex align-items-center gap-2">
              <img onerror="this.src='./assets/images/broken-image-icon.jpg';" [src]="profilePic">
              <div>
                <h5 class="mb-0 font-15">{{editedName}} </h5>
                <p class="mb-0 font-12">Requested for <span class="text-primary fw-semibold"> {{requestedData.length}}
                  </span> update </p>
              </div>
            </div>
            <p class="mb-0 font-14 fw-semibold">{{editedDate | date:'d MMM, y'}} </p>
          </div>

          <div class="email-update-box mt-3">
            <span *ngIf="!isRejectModalOpen">
              <span *ngFor="let data of requestedData; let i=index">
                <div *ngIf="!isModalOpen[i]" class="d-flex align-items-center justify-content-between email-update p-3 mb-3">
                  <div class="d-flex align-items-center gap-2">
                    <span></span>
                    <p class="fon-12 mb-0 fw-semibold">{{data.name}}</p>
                  </div>
                  <div class="d-flex align-items-center gap-3">

                    <button class="btn p-0 font-13 fw-semibold"
                      [ngClass]="{'text-success' : approveStates[i]==='Approved', 'text-danger': approveStates[i]==='Rejected'}">
                      {{approveStates[i]}}
                    </button>
                    <div class="break-line"></div>
                    <div [attr.id]="'collapsibleDiv-' + i" class="pointer" data-bs-toggle="collapse"
                      [attr.href]="'#view-edit-request-' + i" role="button" aria-expanded="false"
                      aria-controls="view-edit-request" (click)="toggleModal(i)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <mask id="mask0_6559_7025" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                          width="24" height="24">
                          <rect width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_6559_7025)">
                          <path
                            d="M12 16C13.25 16 14.3125 15.5625 15.1875 14.6875C16.0625 13.8125 16.5 12.75 16.5 11.5C16.5 10.25 16.0625 9.1875 15.1875 8.3125C14.3125 7.4375 13.25 7 12 7C10.75 7 9.6875 7.4375 8.8125 8.3125C7.9375 9.1875 7.5 10.25 7.5 11.5C7.5 12.75 7.9375 13.8125 8.8125 14.6875C9.6875 15.5625 10.75 16 12 16ZM12 14.2C11.25 14.2 10.6125 13.9375 10.0875 13.4125C9.5625 12.8875 9.3 12.25 9.3 11.5C9.3 10.75 9.5625 10.1125 10.0875 9.5875C10.6125 9.0625 11.25 8.8 12 8.8C12.75 8.8 13.3875 9.0625 13.9125 9.5875C14.4375 10.1125 14.7 10.75 14.7 11.5C14.7 12.25 14.4375 12.8875 13.9125 13.4125C13.3875 13.9375 12.75 14.2 12 14.2ZM12 19C9.56667 19 7.35 18.3208 5.35 16.9625C3.35 15.6042 1.9 13.7833 1 11.5C1.9 9.21667 3.35 7.39583 5.35 6.0375C7.35 4.67917 9.56667 4 12 4C14.4333 4 16.65 4.67917 18.65 6.0375C20.65 7.39583 22.1 9.21667 23 11.5C22.1 13.7833 20.65 15.6042 18.65 16.9625C16.65 18.3208 14.4333 19 12 19ZM12 17C13.8833 17 15.6125 16.5042 17.1875 15.5125C18.7625 14.5208 19.9667 13.1833 20.8 11.5C19.9667 9.81667 18.7625 8.47917 17.1875 7.4875C15.6125 6.49583 13.8833 6 12 6C10.1167 6 8.3875 6.49583 6.8125 7.4875C5.2375 8.47917 4.03333 9.81667 3.2 11.5C4.03333 13.1833 5.2375 14.5208 6.8125 15.5125C8.3875 16.5042 10.1167 17 12 17Z"
                            fill="black" />
                        </g>
                      </svg>
                    </div>
                  </div>

                </div>

                <!-- .reject-box reject-class -->
                <div class="p-3 edit-update-box collapse mb-3" [id]="'view-edit-request-' + i">
                  <div class="d-flex align-items-center justify-content-between border-bottom pb-3">
                    <div class="d-flex align-items-center gap-2">
                      <span></span>
                      <p class="fon-12 mb-0 fw-semibold">{{data.name}} Update</p>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                      <div *ngIf="!disabledStates[i] && !fieldLoading" class="d-flex align-items-center gap-2">
                        <div class="pointer" (click)="approveField(data.key, data.newValue, i)">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none">
                            <mask id="mask0_6567_7336" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                              width="24" height="24">
                              <rect width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_6567_7336)">
                              <path
                                d="M10.6 16.6L17.65 9.55L16.25 8.15L10.6 13.8L7.75 10.95L6.35 12.35L10.6 16.6ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z"
                                fill="#388E3C" />
                            </g>
                          </svg>
                        </div>
                        <div class="pointer" (click)=" removeField(data.key, data.newValue, i)" role="button"
                          aria-expanded="false" aria-controls="reject-request">
                          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24"
                            fill="none">
                            <mask id="mask0_6567_7339" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                              width="25" height="24">
                              <rect x="0.28125" width="24" height="24" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_6567_7339)">
                              <path
                                d="M8.68125 17L12.2812 13.4L15.8813 17L17.2812 15.6L13.6813 12L17.2812 8.4L15.8813 7L12.2812 10.6L8.68125 7L7.28125 8.4L10.8813 12L7.28125 15.6L8.68125 17ZM12.2812 22C10.8979 22 9.59792 21.7375 8.38125 21.2125C7.16458 20.6875 6.10625 19.975 5.20625 19.075C4.30625 18.175 3.59375 17.1167 3.06875 15.9C2.54375 14.6833 2.28125 13.3833 2.28125 12C2.28125 10.6167 2.54375 9.31667 3.06875 8.1C3.59375 6.88333 4.30625 5.825 5.20625 4.925C6.10625 4.025 7.16458 3.3125 8.38125 2.7875C9.59792 2.2625 10.8979 2 12.2812 2C13.6646 2 14.9646 2.2625 16.1813 2.7875C17.3979 3.3125 18.4563 4.025 19.3563 4.925C20.2563 5.825 20.9688 6.88333 21.4937 8.1C22.0187 9.31667 22.2812 10.6167 22.2812 12C22.2812 13.3833 22.0187 14.6833 21.4937 15.9C20.9688 17.1167 20.2563 18.175 19.3563 19.075C18.4563 19.975 17.3979 20.6875 16.1813 21.2125C14.9646 21.7375 13.6646 22 12.2812 22ZM12.2812 20C14.5146 20 16.4062 19.225 17.9563 17.675C19.5063 16.125 20.2812 14.2333 20.2812 12C20.2812 9.76667 19.5063 7.875 17.9563 6.325C16.4062 4.775 14.5146 4 12.2812 4C10.0479 4 8.15625 4.775 6.60625 6.325C5.05625 7.875 4.28125 9.76667 4.28125 12C4.28125 14.2333 5.05625 16.125 6.60625 17.675C8.15625 19.225 10.0479 20 12.2812 20Z"
                                fill="#FD3516" />
                            </g>
                          </svg>
                        </div>
                      </div>
                      <div *ngIf="fieldLoading" class="loading-spinner d-flex align-items-center gap-2">
                        <div class="spinner-border text-primary" role="status">
                          <span class="visually-hidden">Loading...</span>
                        </div>
                      </div>
                      <div class="break-line"></div>
                      <div #divElement (click)="toggleModal(i)" class="pointer" data-bs-toggle="collapse" [attr.href]="'#view-edit-request-' + i"
                        role="button" aria-expanded="false" aria-controls="view-edit-request">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <mask id="mask0_6605_10585" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="24" height="25">
                            <rect x="0.351562" y="0.59375" width="23.6478" height="24" fill="#D9D9D9" />
                          </mask>
                          <g mask="url(#mask0_6605_10585)">
                            <path
                              d="M6.6568 19.5938L5.27734 18.1938L10.7952 12.5938L5.27734 6.99375L6.6568 5.59375L12.1746 11.1937L17.6924 5.59375L19.0719 6.99375L13.5541 12.5938L19.0719 18.1938L17.6924 19.5938L12.1746 13.9938L6.6568 19.5938Z"
                              fill="black" />
                          </g>
                        </svg>
                      </div>
                    </div>
                  </div>
                  <div class="row mt-3">
                    <div class="col-md-6">
                      <div class="current-box">
                        <p class="mb-2">Current</p>
                        <div class="bg-white p-3" style="border: 1px solid #e9e9e9;">
                          <p class="mb-0 font-13">{{data.currentValue}}</p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="updated-box">
                        <p class="mb-2">Updated</p>
                        <div class="bg-white p-3" style="border: 1px solid #e9e9e9;">
                          <p class="mb-0 font-13">{{data.newValue}}</p>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </span>
            </span>
            <div *ngIf="isRejectModalOpen" class="col-md-12">
              <div class="position-relative" id="reject-request">
                <textarea id="exampleFormControlTextarea1" placeholder="Write the reason of refection.... "
                  name="notesInput" rows="3" [(ngModel)]="rejectedReason"   class="form-control nots-section" #rejectedReasonRef="ngModel"></textarea>
                  <div class="text-danger mt-2" *ngIf="rejectedReasonRef.touched && (!rejectedReason || rejectedReason.length < 10)">
                    Reason should be at least 10 characters long.
                    </div>
              </div>
            </div>

          </div>
        </div>

      </div>
      <div *ngIf="remainingField!==0" class="modal-footer d-flex align-items-center justify-content-end gap-2">
        <button type="button" (click)="rejectData()" [disabled]="rejectLoading || fieldLoading || approveLoading || (isRejectModalOpen && (!rejectedReason || rejectedReason.length < 10))"
          class="btn btn-soft-danger">
          <span *ngIf="!rejectLoading">Reject All</span>
          <div class="dot-opacity-loader" *ngIf="rejectLoading">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
        <button *ngIf="!isRejectModalOpen" type="button" (click)="approveRequestedData()" [disabled]="rejectLoading || approveLoading || fieldLoading"
          class="btn  btn-soft-success">
          <span *ngIf="!approveLoading">Approve All</span>
          <div class="dot-opacity-loader" *ngIf="approveLoading">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
        <div *ngIf="isRejectModalOpen" class="d-flex align-items-center justify-content-end gap-2 ">
          <button type="button" (click)="isRejectModalOpen=false" [disabled]="rejectLoading"
            class="btn cancel-btn mt-0">
            <span>Back</span>
          </button>

      </div>
    </div>
    <div *ngIf="remainingField==0" class="d-flex align-items-center justify-content-end gap-2">
      <button type="button" #closeReqDataModal (click)="closeDataRequestModal()"
      data-bs-dismiss="modal" aria-label="Close" class="btn cancel-btn mt-0">
        <span >Done</span>
      </button>
    </div>
  </div>
</div>
</div>

Edit Request Modal End

<!-- Trigger Button for Modal -->
<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#sampleFileModal"
  id="uploadMembersModal" #sampleFileModalButton>
  Open Sample File Modal
</button>
<!-- Modal -->
<div class="modal fade" id="sampleFileModal" tabindex="-1" aria-labelledby="sampleFileModalLabel" aria-hidden="true" data-bs-backdrop="static"
  #sampleFileModal>
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="sampleFileModalLabel">Excel Upload</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="resetUploadExcelForm()"
          #closeButtonExcelModal></button>
      </div>
      <div class="modal-body">
        <ng-container *ngIf="
            !isShimmer &&
            onboardUserList.length == 0 &&
            !networkConnectionErrorPlaceholder
          ">
          <div class="row" *ngIf="!(data.length > 0) ">
            <div class="col-md-6">
              <div class="mb-0">
                <h4 class=" text-black fw-semibold font-16">
                  How to download the sample Excel File!
                </h4>
                <div class="mt-3">
                  <div class="d-flex align-items-start gap-3">
                    <span class="info-count d-flex align-items-center justify-content-center font-13 fw-normal">1</span>
                    <p class="mb-0 font-13">Users will receive updates on approved overtime, pending requests, <br> and payouts.</p>
                  </div>
                  <div class="d-flex align-items-start gap-3 mt-3">
                    <span class="info-count d-flex align-items-center justify-content-center font-13 fw-normal">2</span>
                    <p class="mb-0 font-13">ipsum dolor sit amet consectetur adipiscing elit Ut et massa mi.<br> Aliquam.</p>
                  </div>
                  <div class="d-flex align-items-start gap-3 mt-3">
                    <span class="info-count d-flex align-items-center justify-content-center font-13 fw-normal">3</span>
                    <p class="mb-0 font-13">Users will receive updates on approved overtime, pending requests,<br> and payouts.</p>
                  </div>
                  <div class="d-flex align-items-start gap-3 mt-3">
                    <span class="info-count d-flex align-items-center justify-content-center font-13 fw-normal">4</span>
                    <p class="mb-0 font-13">ipsum dolor sit amet consectetur adipiscing elit Ut et massa mi.<br> Aliquam.</p>
                  </div>
                  <div class="d-flex align-items-start gap-3 mt-3">
                    <span class="info-count d-flex align-items-center justify-content-center font-13 fw-normal">5</span>
                    <p class="mb-0 font-13">Users will receive updates on approved overtime,<br> <a class="text-primary" href="assets/samples/HajiriBulkSheet.xlsx"> Download the Sample EX file</a></p>
                  </div>

                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-0 excel-upload-file-box text-center d-flex align-items-center justify-content-center flex-column">
                <input id="fileSelect" type="file" name="img[]" accept=".xlsx, .xls" class="input"
                  (change)="selectFile($event)" />
                <img src="assets/images/excel.svg" style="width: 50px" class="pb-3" />
                <p class="mb-0 ">Drag file here to upload or, <a class="text-primary" href="#!">Choose file</a></p>
                <div *ngIf="isProgressToggle" class="spinner-border text-success" role="status"></div>
              </div>
            </div>
          </div>
          <div #attention class="create-password-warning waring-box p-3 mb-0text-start mb-3 mt-3" *ngIf="
              alreadyUsedPhoneNumberArray.length > 0 ||
              alreadyUsedEmailArray.length > 0 ||
              this.mismatches.length > 0 ||
              isErrorToggle">
            <h4 class="alert-heading font-18 text-danger">Attention!!</h4>
            <ul style="padding-left: 15px;">
              <li class="mb-1" *ngIf="this.mismatches.length > 0">

                <div [innerHTML]="mismatches.join('')"></div>
              </li>
              <li class="mb-1" *ngIf="alreadyUsedPhoneNumberArray.length > 0">
                Phone Numbers:
                {{ formatAsCommaSeparated(alreadyUsedPhoneNumberArray) }}
              </li>
              <li class="mb-1" *ngIf="alreadyUsedEmailArray.length > 0">
                Emails: {{ formatAsCommaSeparated(alreadyUsedEmailArray) }}
              </li>
              <li class="mb-1" *ngIf="isErrorToggle">Error: {{ errorMessage }}</li>
            </ul>
          </div>
          <div class="create-password-warning mb-0 text-start" *ngIf="data.length > 0 && isinvalid ">
            <!-- <h4 class="alert-heading font-16 mb-1">Attention</h4> -->
            <p *ngIf="isExcel.length > 0">
              {{ isExcel }}
            </p>
            <div *ngIf="data.length > 0">
              <!-- TO DO: make-it-dynamic-heading -->
              <!-- <h3 class="font-18 mb-2">Uploaded Data</h3> -->

              <div class="d-flex align-items-center justify-content-between excelUploadTable mb-3 w-100">
                <div class="d-flex align-items-center gap-3" >
                  <div style="width:200px;" *ngIf="isAnyRowSelected()">
                    <nz-select [(ngModel)]="bulkShift" (ngModelChange)="applyBulkChange('shift', $event)"
                      nzPlaceHolder="Select Shift" [nzDropdownRender]="customDropdownShift" class="form-control w-100 placeholder-line">
                      <nz-option *ngFor="let shift of shiftList" [nzValue]="shift.label"
                        [nzLabel]="shift.label"></nz-option>
                    </nz-select>
                    <ng-template #customDropdownShift>
                      <div class="custom-dropdown-footer">
                        <button nz-button nzType="link"  (click)="openAddShiftModal()" >Add Shift</button>
                      </div>
                    </ng-template>
                  </div>
                  <div style="width:200px;"  *ngIf="isAnyRowSelected()">
                    <nz-select [(ngModel)]="bulkLeave" (ngModelChange)="applyBulkChange('leave', $event)"
                      nzPlaceHolder="Select Leave" nzMode="multiple" [nzDropdownRender]="customDropdown" class="form-control w-100">
                      <nz-option *ngFor="let leave of originalLeaveNameList" [nzValue]="leave.label"
                        [nzLabel]="leave.label"></nz-option>
                    </nz-select>
                    <ng-template #customDropdown>
                      <div class="custom-dropdown-footer">
                        <button nz-button nzType="link" (click)="openAddLeaveModal()">Add Leave</button>
                      </div>
                    </ng-template>
                  </div>
                  <!-- <div style="width:200px;">
                    <nz-select [(ngModel)]="bulkTeam" (ngModelChange)="applyBulkChange('team', $event)"
                        nzPlaceHolder="Select Team" nzMode="multiple" [nzDropdownRender]="customDropdownTeam"
                        class="whatapp-login-input">
                        <nz-option *ngFor="let team of originalTeamNameList" [nzValue]="team.label"
                          [nzLabel]="team.label"></nz-option>
                      </nz-select>
                      <ng-template #customDropdownTeam>
                        <div class="custom-dropdown-footer">
                          <button nz-button nzType="link" (click)="openAddTeamModal()">Add Team</button>
                        </div>
                      </ng-template>
                  </div> -->
                </div>
                <div class="d-flex align-items-center justify-contant-end gap-3">
                    <label class="m-0 d-flex align-items-center gap-2 justify-content-center set-current font-14 fw-normal">
                      <input type="checkbox" [(ngModel)]="selectAllCurrentPage" (change)="toggleSelectAllCurrentPage()"
                        [disabled]="selectAllPages" />
                        Set On Current Page
                    </label>
                    <!-- <span class="btnSeprator"></span> -->
                    <label class="m-0 d-flex align-items-center gap-2 justify-content-center set-current font-14 fw-normal">
                      <input type="checkbox" [(ngModel)]="selectAllPages" (change)="toggleSelectAllPage()"
                        [disabled]="selectAllCurrentPage" />
                      Select All Pages
                    </label>
                    <!-- <button class="btn select-all-btn font-13 fw-semibold" (click)="toggleSelectAllPage()" [disabled]="selectAllCurrentPage">Select All Pages</button> -->
                </div>
              </div>
              <div class="table-responsive">
                <table class="table excelUploadTable">
                  <thead>
                    <tr>
                      <th>Select</th>
                      <th>S No.</th>
                      <th class="select-all-page" [ngClass]="{'min-w-200': col == 'dob' || col == 'joiningdate*'}" *ngFor="let col of fileColumnName">{{ col }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let row of paginatedData; let i = index">
                      <td class="text-center set-current">
                        <input type="checkbox" [(ngModel)]="row.selected" />
                      </td>
                      <td class="text-center set-current">
                        {{(currentPage - 1) * pageSize + i + 1}}
                      </td>
                      <td *ngFor="let cell of fileColumnName; let j = index">
                        <ng-container *ngIf="fileColumnName[j] === 'shift*' ; else leaveColumns">

                          <nz-select [(ngModel)]="row[j]"
                            [ngClass]="{'invalid-input': invalidCells[((currentPage - 1) * pageSize)+i][j]}"
                            (ngModelChange)="onValueChange((currentPage - 1) * pageSize + i, j)"
                            nzPlaceHolder="Select Shift" [nzDropdownRender]="customDropdownShift">

                            <nz-option *ngFor="let shift of shiftList" [nzValue]="shift.label"
                              [nzLabel]="shift.label"></nz-option>

                          </nz-select>

                          <ng-template #customDropdownShift>
                            <div class="custom-dropdown-footer">
                              <button nz-button nzType="link" (click)="openAddShiftModal()">Add Shift</button>
                            </div>
                          </ng-template>
                        </ng-container>

                        <ng-template #leaveColumns>
                          <ng-container *ngIf="this.fileColumnName[j] === 'leavenames' ; else otherColumns">
                            <nz-select class="whatapp-login-input" nzMode="multiple" nzPlaceHolder="Select leave"
                              nzAllowClear nzShowSearch nzServerSearch [(ngModel)]="row[j]"
                              [ngModelOptions]="{ standalone: true }"
                              (ngModelChange)="onMultiSelectChange($event, (currentPage - 1) * pageSize + i, j)"
                              (nzOnSearch)="onSearchLeave($event)" [nzDropdownRender]="customDropdown"
                              [ngClass]="{'invalid-input': invalidCells[(currentPage - 1) * pageSize + i][j]}">
                              <ng-container *ngFor="let o of originalLeaveNameList">
                                <nz-option *ngIf="!isLoadingLeave" [nzValue]="o.label" [nzLabel]="o.label"></nz-option>
                              </ng-container>

                              <nz-option *ngIf="isLoadingLeave" nzDisabled nzCustomContent>
                                <span nz-icon nzType="loading" class="loading-icon"></span>
                                Loading Data...
                              </nz-option>
                            </nz-select>
                            <ng-template #customDropdown>
                              <div class="custom-dropdown-footer">
                                <button nz-button nzType="link" (click)="openAddLeaveModal()">Add Leave</button>
                              </div>
                            </ng-template>
                          </ng-container>
                        </ng-template>

                        <ng-template #otherColumns>
                          <ng-container
                            *ngIf="this.fileColumnName[j] === 'joiningdate*' || this.fileColumnName[j] === 'dob' ; else teamColumns">
                            <nz-date-picker id="joiningDate" name="joiningDate" #joiningDate="ngModel"
                              [(ngModel)]="row[j]" required
                              (ngModelChange)="onDateChange($event, (currentPage - 1) * pageSize + i , j)"
                              [ngClass]="{'invalid-input': invalidCells[(currentPage - 1) * pageSize + i][j]}"
                              [nzAllowClear]="false" nzPlaceHolder="Select Joining Date">
                            </nz-date-picker>
                          </ng-container>
                        </ng-template>

                        <ng-template #teamColumns>
                          <ng-container *ngIf="this.fileColumnName[j] === 'team' ; else genderColumns">
                            <nz-select nzAllowClear nzShowSearch nzServerSearch nzMode="multiple"
                              nzPlaceHolder="Select teams" [(ngModel)]="row[j]" [ngModelOptions]="{ standalone: true }"
                              (ngModelChange)="onTeamSelectionChanges($event, (currentPage - 1) * pageSize + i, j)"
                              (nzOnSearch)="onSearch($event)"
                              [ngClass]="{'invalid-input': invalidCells[(currentPage - 1) * pageSize + i][j]}"
                              [nzDropdownRender]="customDropdownTeam">
                              <ng-container *ngFor="let o of originalTeamNameList">
                                <nz-option *ngIf="!isLoadingTeams" [nzValue]="o.label" [nzLabel]="o.label"></nz-option>
                              </ng-container>
                              <nz-option *ngIf="isLoadingTeams" nzDisabled nzCustomContent>
                                <span nz-icon nzType="loading" class="loading-icon"></span>
                                Loading Data...
                              </nz-option>
                            </nz-select>
                            <ng-template #customDropdownTeam>
                              <div class="custom-dropdown-footer">
                                <button nz-button nzType="link" (click)="openAddTeamModal()">Add Team</button>
                              </div>
                            </ng-template>
                          </ng-container>
                        </ng-template>

                        <ng-template #genderColumns>
                          <ng-container *ngIf="this.fileColumnName[j] === 'gender*' ; else defaultInput">
                            <nz-select id="gender" name="gender" [(ngModel)]="row[j]"
                              [ngClass]="{'invalid-input': invalidCells[(currentPage - 1) * pageSize + i][j]}"
                              (ngModelChange)="onValueChange((currentPage - 1) * pageSize + i, j)"
                              nzPlaceHolder="Select Gender">
                              <nz-option *ngFor="let gender of genders" [nzValue]="gender"
                                [nzLabel]="gender"></nz-option>
                            </nz-select>
                          </ng-container>
                        </ng-template>

                        <!-- Default input for other columns -->
                        <ng-template #defaultInput>
                          <input [(ngModel)]="row[j]"
                            [ngClass]="{'invalid-input': invalidCells[(currentPage - 1) * pageSize + i][j]}"
                            (ngModelChange)="onValueChange((currentPage - 1) * pageSize + i, j)" />
                        </ng-template>

                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <p class="m-0" *ngIf="data.length > pageSize">
                  Showing {{ (currentPage - 1) * pageSize + 1 }} -
                  {{ (currentPage * pageSize > data.length ? data.length-1 : currentPage * pageSize) }} of {{ data.length-1 }}
                </p>
                <ngb-pagination *ngIf="data.length > pageSize" [rotate]="true" [maxSize]="4" [collectionSize]="data.length - 1" [pageSize]="pageSize"
                  [(page)]="currentPage" (pageChange)="onPageChange($event)">
                </ngb-pagination>
              </div>

            </div>

            <p *ngIf="isErrorToggle">Error: {{ errorMessage }}</p>
            <p *ngIf="!isErrorToggle" class="m-0"></p>
          </div>
        </ng-container>
        <ng-container *ngIf="
            isProgressToggle &&
              onboardUserList.length == 0;
            else onboardUserListCondition
          ">
          <div class="">
            <div class="text-end">
              <ngx-shimmer-loading [width]="'30%'" [height]="'40px'" style="border-radius: 50%"></ngx-shimmer-loading>
            </div>
          </div>
          <div class="mt-3 mb-2" style="border: 1px solid #f5f5f5; padding: 5px; border-radius: 6px"
            *ngFor="let number of [1, 2, 3, 4, 5]">
            <div class="row mt-3">
              <div class="col-md-2">
                <div class="">
                  <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                    style="border-radius: 50%"></ngx-shimmer-loading>
                </div>
              </div>
              <div class="col-md-2">
                <div class="">
                  <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                    style="border-radius: 50%"></ngx-shimmer-loading>
                </div>
              </div>
              <div class="col-md-3">
                <div class="">
                  <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                    style="border-radius: 50%"></ngx-shimmer-loading>
                </div>
              </div>
              <div class="col-md-3">
                <div class="">
                  <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                    style="border-radius: 50%"></ngx-shimmer-loading>
                </div>
              </div>
              <div class="col-md-2">
                <div class="">
                  <ngx-shimmer-loading [width]="'100%'" [height]="'30px'"
                    style="border-radius: 50%"></ngx-shimmer-loading>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-template #onboardUserListCondition>
          <ng-container *ngIf="
              !isShimmer &&
                onboardUserList.length != 0 &&
                !networkConnectionErrorPlaceholder;
              else errorInOnboardUserListCondition
            ">
            <div class="mt-0">
              <!-- <div class="d-flex align-items-center justify-content-end mb-3 p-0">
                <input #fileInput id="fileSelect" type="file" name="img[]" accept=".xlsx" class="input"
                  style="display: none" (change)="selectFile($event)" />
                <button type="button" class="btn add-excel" (click)="fileInput.click()">
                  <i *ngIf="!isProgressToggle" class="bi bi-file-earmark-excel"
                    style="position: relative; top: -1px; padding-right: 6px"></i>
                  <div *ngIf="isProgressToggle" class="spinner-border text-primary excel-spinner" role="status"></div>
                  Excel Upload
                </button>
              </div> -->
              <div class="create-password-warning waring-box p-3 mt-3 mb-3 text-start" role="alert" *ngIf="
                  alreadyUsedPhoneNumberArray.length > 0 ||
                  alreadyUsedEmailArray.length > 0 ||
                  isErrorToggle
                ">
                <h4 class="alert-heading font-18">Attention!</h4>

                <ul style="padding-left:20px;">
                  <li *ngIf="isErrorToggle">Error: {{ errorMessage }}</li>
                  <li *ngIf="alreadyUsedEmailArray.length > 0">Phone Numbers: {{
                    formatAsCommaSeparated(alreadyUsedPhoneNumberArray) }}</li>
                  <li *ngIf="!isErrorToggle">These credentials are already registered with us!</li>
                </ul>


              </div>
              <table class="table">
                <!-- <thead class="thead-light table-design"> -->
                <thead class="thead-light">
                  <tr>
                    <th style="width: 5%" class="text-left">#</th>
                    <th style="width: 25%" class="text-left">Name</th>
                    <th style="width: 20%" class="text-left">Phone</th>
                    <th style="width: 20%" class="text-left">Email</th>
                    <th style="width: 5%" class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let onboardUser of onboardUserList; let i = index">
                    <td>
                      <p class="mb-0 text-left"> {{ i + 1 }}</p>
                    </td>
                    <td>
                      <p class="mb-0 text-left">{{ onboardUser.name }}</p>
                    </td>
                    <td>
                      <p class="mb-0 text-left">{{ onboardUser.phone }}</p>
                    </td>
                    <td>
                      <p class="mb-0 text-left">{{ onboardUser.email ? onboardUser.email : "N/A" }}</p>
                    </td>
                    <td>
                      <div class="d-flex justify-content-center gap-3">
                        <p class="mb-0 pointer text-center text-danger mb-2"
                          (click)="deleteNewUser(onboardUser.id)">
                          <i class="bi bi-trash text-danger"></i>
                        </p>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>




            </div>
          </ng-container>
        </ng-template>

        <ng-template #errorInOnboardUserListCondition>
          <div class="errorboxmain" *ngIf="networkConnectionErrorPlaceholder">
            <div class="errorboxinner text-center">
              <div class="errorboxplaceholder mb-2">
                <img src="assets/images/signal.svg" style="width: 80px" />
              </div>

              <h4>Something went wrong!</h4>

              <p>An error occurred while processing your request!</p>
            </div>
          </div>
        </ng-template>
      </div>
      <div class="modal-footer text-end border-top pt-3" *ngIf="data.length > 0 &&  onboardUserList!.length == 0 && !isProgressToggle">
        <button type="button" class="btn p-0 fot-14 fw-semibold btn-border" (click)="saveFile()">Save & Next</button>
      </div>
      <div class="modal-footer d-flex align-items-center justify-content-between" *ngIf="onboardUserList && onboardUserList!.length>0">
        <div class="d-flex align-items-center gap-3">
          <div>
            <h5 class="mb-1 font-14 fw-seminbold ">Notification Preferences</h5>
            <p class="mb-0 font-12 fw-normal">Select updates for employee alerts.</p>
          </div>
        <div class="form-check through-email d-flex align-items-center gap-2 ">
          <input class="form-check-input ml-0" type="radio" name="whatsEmailRadio" id="whatsappradio" [checked]="enableWhatsAppNotification">
          <label class="form-check-label d-flex align-items-center gap-2 justify-content-center fw-semibold font-13 " for="whatsappradio">
            <span class="font-13 fw-normal"> Through </span> whatsapp
            <img src="assets/images/whatsapp-logo.svg" style="width:18px;">
          </label>
        </div>
        <div class="form-check through-email d-flex align-items-center gap-2">
          <input class="form-check-input ml-0" type="radio" name="whatsEmailRadio" id="emailradio" [checked]="enableEmailNotification">
          <label class="form-check-label d-flex align-items-center gap-2 justify-content-center fw-semibold font-13 " for="emailradio">
            <span class="font-13 fw-normal"> Through </span> Email
            <img src="assets/images/gmail.svg" style="width:18px;">
          </label>
        </div>
      </div>
        <div class="d-flex align-items-center gap-3">
          <button *ngIf="enableEmailNotification || enableWhatsAppNotification" type="button" class="btn btn-border font-14 fw-semibold"
            (click)="sendNotifications()" [disabled]="loadingFlag">
            <span *ngIf="!loadingFlag">Send Notification</span>
            <div class="dot-opacity-loader" *ngIf="loadingFlag">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </button>


          <button *ngIf="!enableEmailNotification && !enableWhatsAppNotification" type="button" class="btn p-0 font-14 fw-semibold text-primary"
            (click)="closeNotificationModal(); sendEmailToUsers(false);">
            <span *ngIf="!closeNotificationModalFlag">Skip Notification</span>
            <div class="dot-opacity-loader" *ngIf="closeNotificationModalFlag">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </button>

        </div>
      </div>
    </div>
  </div>
</div>



<!-- Button trigger modal -->
<button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#duesWarningModal"
  #duesWarningModalButton>
  Dues Warning Modal
</button>

<!-- Modal -->
<div class="modal fade" id="duesWarningModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Dues Warning</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p> Lorem ipsum dolor sit amet consectetur adipisicing elit.
          Dignissimos magni ratione quae reiciendis ullam pariatur necessitatibus! Amet,
          earum quae natus dolorum eligendi consectetur iure, cumque asperiores modi nemo culpa nostrum!</p>
      </div>
    </div>
  </div>
</div>


<!-- Initiate Exit (UserResignation) Modal Start -->
<div class="modal fade" id="initiateExit" tabindex="-1" role="dialog" #assetRequestModal aria-hidden="true"
aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel">Initiate Exit</h5>
      <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close"
        (click)="closeResignationModal(resignationForm)" #closeResignationButton>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <mask id="mask0_5037_2014" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24"
            height="24">
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_5037_2014)">
            <path d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z"
              fill="black" />
          </g>
        </svg>
      </button>
    </div>
    <div class="modal-body p-0">
      <form #resignationForm="ngForm" (ngSubmit)="submitResignation(resignationForm)">
        <div class="row">
          <div class="col-md-12">
            <div class="hr-notes p-3">
              <p class="mb-0 font-13"> <span class="text-primary"> Note:</span> HR will take the final action on the
                exit request</p>
            </div>
          </div>
          <div class="p-4">
            <div class="col-md-12 mb-3">
              <label for="templateName" class="pb-2">
                What is the reason for initiating the exit?
              </label>
              <nz-form-control>
                <nz-select style="width: 100%" nzSize="large" nzPlaceHolder="Select exit type"
                  [(ngModel)]="userExitTypeId" (ngModelChange)="selectUserExitType($event)" required id="seleType"
                  name="seleExpType" #seleExpType="ngModel" class="form-control">
                  <nz-option *ngFor=" let exitType of userExitTypeList" [nzValue]="exitType.id"
                    [nzLabel]="exitType.name">
                  </nz-option>
                </nz-select>
              </nz-form-control>
            </div>
            <div class="col-md-12 mb-3">
              <label for="templateName" class="pb-2">
                Do you want them to complete their notice period?
              </label>
              <div class="row">
                <div class="col-md-6">
                  <label class="form-check assets-req d-flex align-items-center justify-content-start">
                    <input type="radio" name="recommendDay" id="complete" value="Complete" [(ngModel)]="recommendDay"
                      (change)="selectRecommendDay('Complete')" class="form-check-input">
                    <p for="exampleRadios3" class="form-check-label mb-0" required> Complete notice periodes </p>
                  </label>
                </div>
                <div class="col-md-6">
                  <label class="form-check assets-req d-flex align-items-center justify-content-start">
                    <input type="radio" name="recommendDay" id="other" value="Other" required
                      [(ngModel)]="recommendDay" (change)="selectRecommendDay('Other')" class="form-check-input">
                    <p for="exampleRadios4" class="form-check-label mb-0"> Immediate Termination </p>
                  </label>
                </div>
              </div>
            </div>
            <div *ngIf="recommendDay == 'Other'" class="col-md-12 mb-3">
              <div class="form-group">
                <label for="employeeTypeId" class="mb-2">Specify the termination notice date</label>

                <ng-container *ngIf="noticePeriodDuration == 0">
                  <nz-date-picker *ngIf="userResignationReq.isRecommendLastDay == 1"
                    [(ngModel)]="userResignationReq.lastWorkingDay" nzPlaceHolder="dd/mm/yyyy" id="selLastDate"
                    (ngModelChange)="selectLastWorkingDay($event)" name="lastDate" #lastDate="ngModel" required
                    class="form-control">
                  </nz-date-picker>
                </ng-container>

                <ng-container *ngIf="noticePeriodDuration > 0">
                  <nz-date-picker *ngIf="userResignationReq.isRecommendLastDay == 1"
                    [(ngModel)]="userResignationReq.lastWorkingDay" nzPlaceHolder="dd/mm/yyyy"
                    [nzDisabledDate]="disableFutureDates" id="selLastDate"
                    (ngModelChange)="selectLastWorkingDay($event)" name="lastDate" #lastDate="ngModel" required
                    class="form-control">
                  </nz-date-picker>
                </ng-container>

              </div>
            </div>
            <div *ngIf="recommendDay == 'Complete'" class="col-md-12 mb-3">
              <div class="d-flex align-items-center gap-3 p-3 notice-period-date">
                <p class="mb-0">Notice period</p>
                <span class="calendar-separator"></span>
                <h6 class="mb-0">{{userResignationReq.lastWorkingDay | date: 'dd MMM yyyy'}}</h6>
              </div>
            </div>
            <div class="col-md-12 mb-3"
              *ngIf="recommendDay == 'Other' && (userResignationReq.lastWorkingDay != null && userResignationReq.lastWorkingDay != '')">
              <div class="notice-period-error p-3">
                <div class="d-flex align-items-center gap-3 mb-2">
                  <p class="mb-0">Notice period</p>
                  <span class="calendar-separator"></span>
                  <h6 class="mb-0">{{userResignationReq.lastWorkingDay | date: 'dd MMM yyyy'}}</h6>
                </div>
                <!-- <p class="mb-0 font-13">Your last working day may change based on Manager/HR's decision.</p> -->
                <p class="mb-0 font-13">This is the user last working day.</p>
              </div>
            </div>
            <div class="col-md-12 mb-3">
              <label for="templateName" class="pb-2">
                Comment
              </label>
              <textarea class="form-control nots-section" id="comment" name="inputComment"
                placeholder="Write description" rows="3" [(ngModel)]="userResignationReq.comment"></textarea>
            </div>
          </div>
        </div>
        <div class="modal-footer d-flex align-items-center justify-content-end gap-2">
          <!-- <button class="btn cancel-btn" data-bs-dismiss="modal" aria-label="Close" (click)="closeResignationModal(resignationForm)" #closeResignationButton>Cancel</button> -->
          <button type="button" class="btn cancel-btn" data-bs-dismiss="modal" aria-label="Close"
            (click)="closeResignationModal(resignationForm)" #closeResignationButton>Cancel</button>

          <button *ngIf="!resignationToggle" type="submit"
            [disabled]="resignationForm.invalid || userExitTypeId == 0 || resignationToggle"
            class="btn submitActionBtn">Submit</button>
          <div class="dot-opacity-loader" *ngIf="resignationToggle">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
</div>
<!-- Initiate Exit (UserResignation) Modal End -->



<!-- <app-exit-modal></app-exit-modal> -->



<div class="modal fade" id="addShift" tabindex="-1" aria-labelledby="emptyModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">

          <div class="modal-body p-0">
              <button #closeAddButton id="closeAddButton" type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
                      <path d="M2.09533 14.3667L0.619141 12.9707L6.5239 7.38648L0.619141 1.8023L2.09533 0.40625L8.00009 5.99044L13.9049 0.40625L15.381 1.8023L9.47628 7.38648L15.381 12.9707L13.9049 14.3667L8.00009 8.78253L2.09533 14.3667Z" fill="black"/>
                  </svg>
              </button>
              <!-- Add your content here -->
              <ng-container *ngIf="true">
              <app-attendance-setting></app-attendance-setting>
              </ng-container>
          </div>
          <!-- <div class="modal-footer">
              <button type="button" (click)="getUserAttendanceStatus();" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div> -->
      </div>
  </div>
</div>
