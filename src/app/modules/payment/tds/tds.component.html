<div class="page-wrapper">
  <!-- Page Content-->
  <div class="page-content-tab">
    <div class="container-fluid">
      <div
        class="row mb-1 mt-3 align-items-center"
        style="padding-bottom: 15px"
      >
        <div class="col-md-12">
          <div
            class="d-flex align-items-center"
            style="border: 1px solid #f1f1f1"
          >
            <div style="width: 20%; position: relative">
              <div class="dropdown bonus-payroll">
                <nz-date-picker nzMode="month" [nzSize]="size" [(ngModel)]="selectedDate"
                (ngModelChange)="onMonthChange($event)" [nzDisabledDate]="disableMonths"></nz-date-picker>
              </div>
            </div>
            <!-- <div style="width: 20%; position: relative">
              <div class="dropdown" style="width: 100%">
                <button
                  type="button"
                  id="dropdownMenuButton1"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  class="btn btn-secondary dropdown-toggle new-deopdown"
                >
                  Select Search
                  <i
                    class="bi bi-chevron-down"
                    style="color: #444; font-size: 15px"
                  ></i>
                </button>
                <ul
                  aria-labelledby="dropdownMenuButton1"
                  class="dropdown-menu"
                  style="width: 100%"
                >
                  <li><a class="dropdown-item">Reset All</a></li>
                  <li><a class="dropdown-item">Approved</a></li>
                  <li><a class="dropdown-item">Pending</a></li>
                  <li><a class="dropdown-item">Rejected</a></li>
                </ul>
              </div>
            </div> -->
            <div class="" style="width: 60%">
              <form
                role="search"
                class="searching ng-untouched ng-pristine ng-valid"
                (submit)="searchUsers($event)"
              >
                <div class="form-group" style="position: relative; width: 100%; display: flex; align-items: center;">
                  <i class="bi bi-search search-icon" style="position: initial; right: 20px;"></i>
                  <input
                    type="text"
                    id="searchText"
                    placeholder="Search by name or email..."
                    class="form-control me-2 ng-untouched ng-pristine ng-valid attendance-details-search"
                    (keyup)="searchUsers($event)" [(ngModel)]="search"
                    [ngModelOptions]="{ standalone: true }"
                    style="padding: 10px 40px; flex-grow: 1;"
                  />
                  <button *ngIf="search.length !== 0" type="button" class="btn close-btn"
                  (click)="clearSearch()" style="position: absolute; right: 40px;">
                    <i class="bi bi-x mt-auto mb-auto"></i>
                  </button>
                  
                </div>
              </form>
            </div>
            

            <!-- <div class="" style="width: 20%">
              <div
                class="d-flex justify-content-end align-items-center"
                style="gap: 10px"
              >
                <div
                  class="add-filtter d-flex align-items-center justify-content-end"
                  style="gap: 10px"
                >
                  <a
                    data-bs-toggle="modal"
                    data-bs-target="#createteam"
                    type="button"
                  >
                    <i class="bi bi-plus" style="font-size: 18px"></i> Create
                    Team
                  </a>
                </div>
              </div>
            </div> -->
          </div>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table border-dashed mb-0">
          <thead>
            <tr>
              <th>EMPLOYEE</th>
              <th>EMAIL ID</th>
              <th>EPF</th>
              <th>ESI</th>
              <th>TDS</th>
              <th>STATUS</th>
              <th>ACTIONS</th>
            </tr>
          </thead>
          <ng-container *ngIf="
                        isShimmer &&
                        employeeMonthWiseSalaryDataList.length === 0 &&
                          !dataNotFoundPlaceholder &&
                          !networkConnectionErrorPlaceHolder;
                        else attendanceDataCondition
                      ">
                      <tbody>
                        <tr *ngFor="let item of [].constructor(6)">
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td class="text-center">
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <!-- <td class="text-center">
                                                    <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                                                </td> -->
                          <!-- <td class="text-center">
                                                    <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                                                </td>
                                                <td class="text-center">
                                                    <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                                                </td>
                                                <td class="text-center">
                                                    <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                                                </td> -->
                        </tr>
                      </tbody>
                    </ng-container>

                    <ng-template #attendanceDataCondition>
                      <ng-container *ngIf="
                          employeeMonthWiseSalaryDataList.length !== 0 &&
                          !dataNotFoundPlaceholder &&
                          !networkConnectionErrorPlaceHolder; else errorConditionWhileFetchingEmployeeSalaryData
                        ">
                    
          <tbody>
            <tr *ngFor="let employee of employeeMonthWiseSalaryDataList">
              <td>
                <img
                  [src]="employee.image ? employee.image : 'assets/images/users/user-3.jpg'"
                  alt=""
                  class="rounded-circle thumb-xs me-1"
                />
                {{ employee.name }}
              </td>
              <td>{{ employee.email }}</td>
              <td>₹{{ employee.epfAmount ? (employee.epfAmount | number) : '0' }}</td>
              <td>₹{{ employee.esiAmount ? (employee.esiAmount | number) : '0' }}</td>
              <td>₹{{ employee.tdsAmount ? (employee.tdsAmount | number) : '0' }}</td>
              <td>
                <span class="badge rounded-pill" [ngClass]="{
                  'badge-soft-success': employee.payStatus.id == APPROVED,
                  'badge-soft-warning': employee.payStatus.id == PENDING
                }">
                {{ employee.payStatus.response }}
              </span>
              </td>
              <td>
                <div class="btn-group" role="group" aria-label="Basic example">
                  <button type="button" class="btn btn-light" ngbTooltip="Edit" placement="top">
                    <i class="ti ti-pencil"></i>
                  </button>
                  <button type="button" class="btn btn-light" ngbTooltip="Delete" placement="top">
                    <i class="far fa-trash-alt"></i>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </ng-container>
      </ng-template>
        </table>

        
        <!--end /table-->
      </div>
      <ng-template #errorConditionWhileFetchingEmployeeSalaryData>
        <tbody>
          <tr>
            <td colspan="8">
              <div class="errorboxmain" *ngIf="
                  networkConnectionErrorPlaceHolder
                ">
                <div class="errorboxinner text-center">
                  <div class="errorboxplaceholder mb-2">
                    <img src="assets/images/signal.svg" style="width: 100px" />
                  </div>
                  <div class="">
                    <h4>Something went wrong</h4>
                    <p> An error occurred while processing your request. Please refresh the page and
                      try again. </p>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
        <tbody>
          <tr>
            <td colspan="8">
              <div class="errorboxmain" *ngIf="
                  dataNotFoundPlaceholder
                ">
                <div class="errorboxinner text-center">
                  <div class="errorboxplaceholder mb-2">
                    <img src="assets/images/empty-folder.svg" style="width: 100px" />
                  </div>
                  <h4>No Data Found</h4>
                  <p> Sorry, We can't show you the data at this moment! </p>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </ng-template>
    </div>
    <!-- Pagination -->
  <div class="pagination pl-3 align-items-center justify-content-between" *ngIf="
  (total > itemPerPage - 1 ||
    (pageNumber === lastPageNumber &&
      lastPageNumber !== 1)) &&
  !dataNotFoundPlaceholder &&
  !networkConnectionErrorPlaceHolder
">
<p style="padding-left: 15px"> Showing {{ getStartIndex() }} - {{ getEndIndex() }} of {{ total
  }} employees </p>
<div>
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-end">
      <li class="page-item" [class.disabled]="pageNumber == 1">
        <a class="page-link" href="javascript:void(0);" aria-label="Previous"
          (click)="changePage('prev')">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item" *ngFor="let page of getPages()" [class.active]="pageNumber == page">
        <a class="page-link" href="javascript:void(0);" (click)="changePage(page)">{{ page
          }}</a>
      </li>
      <li class="page-item" [class.disabled]="pageNumber == totalPages">
        <a class="page-link" href="javascript:void(0);" aria-label="Next"
          (click)="changePage('next')">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
</div>
  </div>

  
</div>
