<ng-container *ngIf="moved">

<div class="statutory-tab mt-3" >
    <ul id="pills-tab" role="tablist" class="nav nav-pills ">
        <li class="nav-item">
        <a id="pills-announcement-tab" data-bs-toggle="pill" href="#earning" role="tab" 
            aria-controls="pills-dashboard" aria-selected="false"
            class="nav-link active">Earning</a>
        </li>
        <li class="nav-item d-flex align-items-center">
        <a id="pills-notification-tab" data-bs-toggle="pill" href="#benefits" role="tab"
            aria-controls="pills-request" aria-selected="false"
            class="nav-link">Benefits & Deductions </a>
        </li>
        <li class="nav-item d-flex align-items-center">
            <a id="pills-notification-tab" data-bs-toggle="pill" href="#reimbursements" role="tab"
                aria-controls="pills-request" aria-selected="false"
                class="nav-link">Reimbursements</a>
        </li>
    </ul>
</div>

<div class="tab-content mt-3" id="tabContent">
    <div class="tab-pane fade show active" id="earning" role="tabpanel" aria-labelledby="earning-tab">
        <div class="mt-4">
            <div class="table-responive salary-compontant-list" c>
                <table class="table">
                    <thead>
                        <tr>
                            <th class="font-13" style="width: 15%;">Name</th>
                            <th class="font-13" style="width: 10%;">Earning Type</th>
                            <th class="font-13" style="width: 10%;">Calculation Type</th>
                            <th class="text-center font-13" style="width: 10%;">Consider For EPF</th>
                            <th class="text-center font-13" style="width: 10%;">Consider For ESI</th>
                            <th class="text-center font-13" style="width: 10%;">Status</th>
                            <th  class="font-13"style="width: 5%;">Action</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="isUserShimer">
                        <tr *ngFor="let item of [].constructor(14)">
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <!-- <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td> -->
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                        </tr>
                      </tbody>
                    <tbody *ngFor="let earning of earningComponent">
                        <tr  *ngIf="!isUserShimer">
                            <td>
                                <div class="d-flex align-items-center gap-2">
                                   <a class="font-13 fw-semibold text-primary">{{earning.displayName}}</a>
                                   
                                </div>
                            </td>
                            <td>
                                <p class="mb-0 font-13 fw-normal">{{earning.name}}</p>
                            </td>
                            <td>
                                <p class="mb-0 font-13 fw-normal">
                                    <span [ngSwitch]="earning.payTypeId">
                                    <span *ngSwitchCase="PAY_TYPE_FIXED">Fixed</span>
                                    <span *ngSwitchCase="PAY_TYPE_VARIABLE">Variable</span>
                                  </span>; 
                                    <span [ngSwitch]="earning.valueTypeId">
                                        <span *ngSwitchCase="VALUE_TYPE_PERCENTAGE">{{earning.value}}  % of</span>
                                        <span *ngSwitchCase="VALUE_TYPE_FLAT">  {{ earning.value === 0 ? 'Flat Amount' : 'FLAT of ' + earning.value }}</span>
                                      </span> 
                                      <span *ngIf="earning.valueTypeId !== VALUE_TYPE_FLAT">
                                      <span [ngSwitch]="earning.calculationBasedId">
                                        <span *ngSwitchCase="CALCULATION_BASED_CTC"> CTC</span>
                                        <span *ngSwitchCase="CALCULATION_BASED_BASIC"> BASIC</span>
                                      </span>
                                    </span>
                            </td>
                            <td class="text-center">
                                <span class="font-13 fw-semibold" [ngClass]="getEarningClass(earning, CONSIDER_EPF)"> {{ getEarningStatus(earning, CONSIDER_EPF) }}</span>
                            </td>
                            <td class="text-center">
                                <span class="font-13 fw-semibold" [ngClass]="getEarningClass(earning, CONSIDER_ESI)">{{ getEarningStatus(earning, CONSIDER_ESI) }}</span>
                            </td>
                            <td class="text-center">
                                <nz-switch [nzDisabled]="!earning.canStatusChange" 
                                [ngModel]="checkStatus(earning)" 
                                ></nz-switch>
                            </td>
                            <td class="text-center">
                                <div class="dropdown">
                                    <button type="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-three-dots-vertical"></i>
                                    </button>
                                    <div class="dropdown-menu actionMenuList">
                                        <li (click)="editEarning(earning.id)">
                                            <a class="dropdown-item"><i class="bi bi-pencil"></i> Edit </a>
                                        </li>
                                        <li class="ng-star-inserted"></li>
                                        <li>
                                            <a data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal" class="dropdown-item"><i class="bi bi-trash3"></i> Delete </a>
                                        </li>
                                        
                                    </div>
                                </div>
                            </td>
                        </tr>
                        
                    </tbody>
                    

                </table>
                <div *ngIf="totalItems > pageSize" 
                    class="d-flex align-items-center justify-content-between pagination-box w-100 p-3 bg-white border-top">
                 <p class="mb-0">
                    howing items {{ (currentPage - 1) * pageSize + 1 }} -
                    {{ (currentPage * pageSize) < totalItems ? (currentPage * pageSize) : totalItems }}
                    of {{ totalItems }} records
                 </p>

                 <ngb-pagination class="pagination-box" 
                                 [collectionSize]="totalItems" 
                                 [rotate]="true"
                                 (pageChange)="componentPageChange($event)" 
                                 [pageSize]="pageSize" 
                                 [(page)]="currentPage"
                                 [maxSize]="5" 
                                 [boundaryLinks]="true">
                 </ngb-pagination>
                 
               </div>
                <!-- <div class="footer position-fixed bg-white d-flex align-items-center justify-content-between payroll-fix-footer">
                    <p class="mb-0"> Showing items 10 - 2 of 12 records</p>
                    <ngb-pagination class="pagition-box"> </ngb-pagination>
                </div> -->
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="benefits" role="tabpanel" aria-labelledby="benefits-tab">
        <div class="mt-4">
            <div class="table-responive benefits-list">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th class="font-13" style="width: 20%;">Name</th>
                            <th class="font-13" style="width: 25%;">Deduction Type</th>
                            <th class="font-13" style="width: 25%;">Deduction Frequency</th>
                            <th class="font-13" style="width: 20%;">Status</th>
                            <th  class="font-13"style="width: 10%;">Action</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="isUserShimer">
                        <tr *ngFor="let item of [].constructor(14)">
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <!-- <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td> -->
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'100%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                          <td>
                            <ngx-shimmer-loading [width]="'70%'" [height]="'10px'"></ngx-shimmer-loading>
                          </td>
                        </tr>
                      </tbody>
                    <tbody *ngIf="!isUserShimer">
                            <td colspan="5" class="benefits-list-td">
                                <table class="border-0 table w-100">
                                    <tbody class="border-0">
                                        <tr>
                                            <td colspan="5" class="border-0 pb-0">Benefits</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <a class="font-13 fw-normal text-primary" (click)="showSubComponent=!showSubComponent">Voluntary Provident Fund</a>
                                            </td>
                                            <td>
                                                <p class="mb-0 font-13 fw-normal">Voluntary Provident Fund</p>
                                            </td>
                                            <td>
                                                <p class="mb-0 font-13 fw-normal">	Recurring</p>
                                            </td>
                                            <td>
                                                <nz-switch nzSize="small" [ngModel]="true"></nz-switch>
                                            </td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center">
                                                        <i class="bi bi-three-dots-vertical"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        
                        <tr>
                            <td colspan="5" class="benefits-list-td">
                                <table class="border-0 table w-100">
                                    <tbody class="border-0">
                                        <tr>
                                            <td colspan="5" class="border-0 pb-0" >Deductions</td>
                                        </tr >
                                        <tr>
                                            <td class="border-0 pb-0">
                                                <a class="font-13 fw-normal text-primary" (click)="showSubComponent=!showSubComponent">Notice Pay Deduction</a>
                                            </td>
                                            <td class="border-0 pb-0">
                                                <p class="mb-0 font-13 fw-normal">Notice Pay Deduction</p>
                                            </td>
                                            <td class="border-0 pb-0">
                                                <p class="mb-0 font-13 fw-normal">	One Time</p>
                                            </td>
                                            <td class="border-0">
                                                <nz-switch nzSize="small" [ngModel]="true"></nz-switch>
                                            </td>
                                            <td class="border-0 pb-0">
                                                <div class="dropdown">
                                                    <button type="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center">
                                                        <i class="bi bi-three-dots-vertical"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <a class="font-13 fw-normal text-primary">Notice Pay Deduction</a>
                                            </td>
                                            <td>
                                                <p class="mb-0 font-13 fw-normal">Notice Pay Deduction</p>
                                            </td>
                                            <td>
                                                <p class="mb-0 font-13 fw-normal">	One Time</p>
                                            </td>
                                            <td>
                                                <nz-switch nzSize="small" [ngModel]="true"></nz-switch>
                                            </td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btnAction dropdown-toggle d-flex align-items-center justify-content-center">
                                                        <i class="bi bi-three-dots-vertical"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
    </div>
    </div>
    </div>

    <div class="tab-pane fade" id="reimbursements" role="tabpanel" aria-labelledby="reimbursements-tab">
        <div class="">
            
        </div>
    </div>
</div>
</ng-container>
<!-- 
<ng-container *ngIf="showSubComponent">
<app-earning-details></app-earning-details>
</ng-container> -->

<ng-container *ngIf="!moved">
  
    <app-earning-details></app-earning-details>
   
</ng-container>

<!-- <ng-container *ngIf="showSubComponent">
    <app-benefit-details></app-benefit-details>
</ng-container> -->

<!-- <ng-container *ngIf="showSubComponent">
    <app-deductions-details></app-deductions-details>
</ng-container> -->